<!doctype html>
<html lang="us">
<head>
	<meta charset="utf-8">
	<title>chardee macdennis!</title>
	<!--<link href="jquery-ui.css" rel="stylesheet">-->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
	<style>
	body{
		font-family: "Trebuchet MS", sans-serif;
		margin: 50px;
	}
	.demoHeaders {
		margin-top: 2em;
	}
	p{
		font-size: 14px;
	}
	#initClass {
		padding: .4em 1em .4em 20px;
		text-decoration: none;
		position: relative;
	}
	#initClass span.ui-icon {
		margin: 0 5px 0 0;
		position: absolute;
		left: .2em;
		top: 50%;
		margin-top: -8px;
	}
	#icons {
		margin: 0;
		padding: 0;
	}
	#icons li {
		margin: 2px;
		position: relative;
		padding: 4px 0;
		cursor: pointer;
		float: left;
		list-style: none;
	}
	#icons span.ui-icon {
		float: left;
		margin: 0 4px;
	}
	.fakewindowcontain .ui-widget-overlay {
		position: absolute;
	}
	select {
		width: 200px;
	}

	
	.monster1 >button{
			grid-area: 11/1/span1/span1;
			width: 21px;
			float: left;
			background: lightgray;   
			margin: 4px;
			padding-top: 2px;
			padding-bottom: 2px;
			text-align: center;
	}
	
	.floorContainer {
	
		display:grid;
		
		grid-template-columns: 100px 100px 100px 100px 100px;
		
		width: 500px;
		height: 500px;
		background: gray;

	}
	

	.floorContainer > button {
		width: 73px;
		height 100px;
		float: left;
		background: lightgray;   
		margin: 15px;
		text-align: center;
	}
	
	.roomContainer {
		display: grid;
		grid-template-columns: 20px 20px 20px 20px 20px 20px 20px 20px 20px 20px 20px 20px 20px 20px 20px 20px;
		grid-column-gap: 10px;
		grid-row-gap: 10px;
		width: 480px;
		height: 600px;
		background: gray;
		overflow-y: auto;
	}
	
	.roomContainer > button {
	
		width: 25px;
		height:25px;
		float: left;
		background: lightgray;   
		//margin: 4px;
		//padding-top: 8px;
		//padding-bottom: 8px;
		//	padding-left: 10px;
		text-align: center;
		font-size: 11px;
	}
	
	.profBar {
	
		width:70px;
		height:20px;
		
	}
	
	.profGrid {
		display: grid;
		grid-template-columns: 135px 130px 130px 130px 130px 130px;
		
		width: 800px;
		height: 96px;
		overflow-y: auto;
		
		grid-row-gap: 5px;
		

		
		/*grid-gap: 20px 5px;*/
	}
	
	.profLabel {
	
		font-size: 14px;
	}
	
	.profLevLab {
	
		font-size: 12px;
	}
	
	.floorButCont {
	
		display:grid;
		
		grid-template-columns: 100px 100px;
		
		width: 100px;
		height: 100px;

	}
	
	.createFloor {
	
		grid-column: 1/3;
	}

	.floorEditGrid1 {
	
		display:grid;
	
		grid-template-columns: 30px 30px 30px 30px 30px 30px 30px 30px 30px 30px 30px 30px;
		grid-column-gap:30px;
		grid-row-gap:20px;
		
		height:40px;

		
		text-align: center;
	}
	
	.floorEditGrid2 {
	
		display:grid;
	
		grid-template-columns: 60px 60px 60px 60px 60px 60px 60px 60px 60px 60px 60px 60px 60px 60px 60px;
		grid-column-gap:20px;
		grid-row-gap:20px;
		
		height:70px;
		
		text-align: center;
	}
	
	.formGrid {
		display: grid;
		grid-template-columns: auto auto auto;
		width: 500px;
		height: 150px;
		overflow-y: auto;
	}
	
	.formSetGrid {
		display: grid;
		grid-template-columns: auto auto auto auto auto auto auto auto auto;
		grid-column-gap: 20px;
		width: 600px;
		height: 30px;
		overflow-y: auto;
	}
	
	.passivesResistGrid {
		display: grid;
		grid-template-columns: auto auto auto auto auto auto auto auto;
		
		
		grid-row-gap: 20px;
		grid-column-gap: 20px;
		

		
		/*grid-gap: 20px 5px;*/
	}
	
	.passivesImmuneGrid {
		display: grid;
		grid-template-columns: auto auto auto auto auto auto auto auto;
		
		
		grid-row-gap: 20px;
		grid-column-gap: 20px;
		

		
		/*grid-gap: 20px 5px;*/
	}
	
	.passivesGrid {
		display: grid;
		grid-template-columns: auto auto auto auto auto auto;
		
		
		grid-row-gap: 10px;
		

		
		/*grid-gap: 20px 5px;*/
	}
	
	.passivesGrid > label {
	
		width: 150px;
		height: 40px;
		font: 12px;
	}
	
	.playerStatsGrid {
	
		display: grid;
		grid-template-columns: 150px 150px;
		
		width:400px;
		grid-row-gap: 20px;
		grid-column-gap: 20px;
	
	}
	
	.levelGrid {
		display: grid;
		grid-template-columns: 80px 40px 40px;
		
		
		grid-column-gap: 10px;
		width:200px
		

		
		/*grid-gap: 20px 5px;*/
	}
	
	.levelGrid > button{
		height:30px;
		width:30px;
		padding: 2px 6px 6px 6px;
		
	}
	
	.enterFromGrid {
		display: grid;
		grid-template-columns: 40px 40px 40px;
		
		
		grid-column-gap: 10px;
		width:200px
		
		

		
		/*grid-gap: 20px 5px;*/
	}


	
	</style>
</head>
<body>

<h1>Welcome to chardee macdennis!</h1>

<p><a href="https://docs.google.com/document/d/1-gGId2ghVJlkAES-ZdD8JQEqY_TpWLZn89FcLH-449A/edit?usp=sharing">Manual</a></p>

<iframe src="https://docs.google.com/document/d/e/2PACX-1vR0xJ-v5zoks4Dh39WHsoJwqJeZ60bYLEOi_8S9tOiHnHuQ_4U27HqXK5JOhlwWbZaeJx-jyQUdAJPU/pub?embedded=true"></iframe>
<br>
<div id="formationTab">
	<ul>
		<li><a href="#formationTab-1">Formation</a></li>
	</ul>

	<div id="formationTab-1">
		
		<fieldset>
			<legend>Set Formation</legend>
			<div class="formGrid">
				<label for="formRadio1"> </label>
				<input type="radio" name="formRadio1" id="formRadio1">
				<label for="formRadio2"> </label>
				<input type="radio" name="formRadio1" id="formRadio2">
				<label for="formRadio3"> </label>
				<input type="radio" name="formRadio1" id="formRadio3">
				<label for="formRadio4"> </label>
				<input type="radio" name="formRadio1" id="formRadio4">
				<label for="formRadio5"> </label>
				<input type="radio" name="formRadio1" id="formRadio5">
				<label for="formRadio6"> </label>
				<input type="radio" name="formRadio1" id="formRadio6">
				<label for="formRadio7"> </label>
				<input type="radio" name="formRadio1" id="formRadio7">
				<label for="formRadio8"> </label>
				<input type="radio" name="formRadio1" id="formRadio8">
				<label for="formRadio9"> </label>
				<input type="radio" name="formRadio1" id="formRadio9">
			</div>
			<br>
			<div class="formSetGrid">
				<button id="formSet1">P1</button>
				<button id="formSet2">P2</button>
				<button id="formSet3">P3</button>
				<button id="formSet4">P4</button>
				<button id="formSet5">P5</button>
				<button id="formSet6">P6</button>
				<button id="formSet7">P7</button>
				<button id="formSet8">P8</button>
				<button id="formSet9">P9</button>
			</div>
			<br>
			<button id="clearForm">Clear Formation</button>
		</fieldset>
	
	</div>
</div>
<script>
function rollDie(sides, amount, floor) {
	
	if (floor==undefined) {
	
		floor=1;
	}
	
	let num=0;
	
	for (q=0; q<amount; q++){

		num+=Math.floor((Math.random() * sides) + floor);
	}

	return num;
}

function rollDie0(sides, amount) {
	
	let num=0;
	
	for (r=0; r<amount; r++){

		num+=Math.floor(Math.random() * sides);
	}

	return num;
}


var currFormIndex=-1;

$("#formationTab").tabs({collapsible: true});

$( function() {
	$( "input[type=\"radio\"]" ).checkboxradio();
} );
  
// $( "#formRadio1" ).click(function( event ) { 
$("div.formGrid").find("input").click(function( event ) {
 
		//currFormIndex=0;
		
		//alert(this.id);
		
		var tempIndex=this.id;
		
		tempIndex=tempIndex.replace("formRadio", "");

		tempIndex=parseInt(tempIndex);
		
		tempIndex--;
		
		//alert(tempIndex);
		
		currFormIndex=tempIndex;
});

$("div.formSetGrid").find("button").click(function( event ) {
 
		if (currFormIndex>=0) {
			
			var tempIndex=currFormIndex;
			var tempSetIndex;
			var tempText;
			var tempIndex2;
			
			tempIndex++;
			
			tempSetIndex=this.id;
			tempSetIndex=tempSetIndex.replace("formSet", "")
			
			tempText=$("#formSet" + tempSetIndex).html();
			//alert(tempText);
			
			if (formArr.includes(tempText)==false) {
			
				
				
				//alert(tempText);
				
				//<label for="formRadio8"> </label>
				//$("label[for=formRadio" + tempIndex + "]").html("<label for=\"formRadio"+tempIndex + "\">" + tempText + "</label>");
				//$("label[for=formRadio" + tempIndex + "]").html("<label for=\"formRadio1\">" + tempText + "</label>");
				
				//$("label[for=formRadio" + tempIndex + "]").label(tempText);
				
				$("#formRadio" + tempIndex).checkboxradio("option", "label", tempText );
				
				tempIndex--;
				
				formArr[tempIndex]=tempText;
			
			}
			
			else if (formArr.includes(tempText)==true){
			

	
				
				//find index of where the current one is
				
				
				for (i=0;i<playersMax;i++) {
					
						if (formArr[i]==tempText) {
						
							formArr[i]="";
							tempIndex2=i;
						}
				}
			
				//formArr[tempIndex2]=0;
				tempIndex2++;
			
				
				//blank it
				$("#formRadio" + tempIndex2).checkboxradio("option", "label", " " );
				
				
				
				//set new location
				$("#formRadio" + tempIndex).checkboxradio("option", "label", tempText );
				
				tempIndex--;
				
				formArr[tempIndex]=tempText;
				
			
			}
		
		}
});


$( "#clearForm" ).click(function( event ) {

	for (i=0;i<playersMax; i++) {
	
		tempIndex=i;
		tempIndex++;
	
		formArr[i]="";
		
		//$("label[for=formRadio" + tempIndex + "]").html("");
		
		$("#formRadio" + tempIndex).checkboxradio("option", "label" , " ");
		
	}

});

</script>


<!-- Tabs -->
<h2 class="demoHeaders">Player Stuff</h2>
<div id="playerTabs">
	<ul>
		<li><a href="#playerTabs-1">Player 1</a></li>
		<li><a href="#playerTabs-2">Player 2</a></li>
		<li><a href="#playerTabs-3">Player 3</a></li>
		<li><a href="#playerTabs-4">Player 4</a></li>
		<li><a href="#playerTabs-5">Player 5</a></li>
		<li><a href="#playerTabs-6">Player 6</a></li>
		<li><a href="#playerTabs-7">Player 7</a></li>
		<li><a href="#playerTabs-8">Player 8</a></li>
		<li><a href="#playerTabs-9">Player 9</a></li>
	</ul>
	<div id="playerTitle"><h2>Player 1</h2></div>
	<div>
		<p>
			<button id="initClass" class="ui-button ui-corner-all ui-widget">
			<span class="ui-icon ui-icon-newwin"></span>Initialize Class/Race
			</button>
		</p>
	<p><button id="initPlayerBut">Test</button></p>
<fieldset>
	<legend>Attributes 'n stuff:</legend>
	<div id="controlgroup">
		Name: <input type="text" onfocus="this.value=''" id="player1NameEntry" value="Enter Name">
		<br><br><br>
		<div class="levelGrid"><div id="levelLab">Level: 0</div><button id="levelDec">-</button><button id="levelInc">+</button></div>
		<br>
		<fieldset>
			<div class="playerStatsGrid">
				<label for="statEditRadio1">Current</label>
				<input type="radio" name="statEditRadio" id="statEditRadio1">
				<label for="statEditRadio2">Max</label>
				<input type="radio" name="statEditRadio" id="statEditRadio2">
				<p id="playerHP">HP:</p><input type="spinner" id="hp" style="width: 50px">
				<p id="playerEnergy">Energy:</p><input type="spinner" id="energy" style="width: 50px">
				<p id="playerEncumb">Encumbrance:</p><input type="spinner" id="encumbrance" style="width: 50px">
			</div>
		</fieldset>
		<fieldset>
		<div class="playerStatsGrid">
			<p id="playerStr">Strength:</p><input type="spinner" id="strength" style="width: 50px">
			<p id="playerDex">Dexterity:</p><input type="spinner" id="dexterity" style="width: 50px">
			<p id="playerInt">Intelligence:</p><input type="spinner" id="intelligence" style="width: 50px">
			<p id="playerWis">Wisdom:</p><input type="spinner" id="wisdom" style="width: 50px">
			<p id="playerCon">Constitution:</p><input type="spinner" id="constitution" style="width: 50px">
			<p id="playerAC">AC:</p><input type="spinner" id="AC" style="width: 50px">
			<p id="playerHunger">Hunger:</p><input type="spinner" id="hunger" style="width: 50px">
			<p id="playerLuck">Luck:</p><input type="spinner" id="luck" style="width: 50px">
			<p id="playerTurnAct">Actions this turn:</p><br>
			<p>To Hit:</p><br>
			<button id="prayTime" style="height: 40px">Prayer:</button>
		</div>
		</fieldset>
		<br>
		<div id="playerMiscTabs">
		  <ul>
			<li><a href="#playerMiscTabs-1">Inventory</a></li>
			<li><a href="#playerMiscTabs-2">Passives</a></li>
			<li><a href="#playerMiscTabs-3">Proficiencies</a></li>
		  </ul>
		  <div id="playerMiscTabs-1">
			
		  </div>
		  
		  <!-- Passives -->
		  <div id="playerMiscTabs-2">
			<fieldset>
			<legend>Resistances</legend>
				<div class="passivesResistGrid" id="passGrid1">
				
					<label class="passivesBut" for="coldResist">Cold</label>
					<input type="checkbox" name="passivesCheck1" id="coldResist">
					<label class="passivesBut" for="fireResist">Fire</label>
					<input type="checkbox" name="passivesCheck2" id="fireResist">
					<label class="passivesBut" for="shockResist">Shock</label>
					<input type="checkbox" name="passivesCheck3" id="shockResist">
					<label class="passivesBut" for="disinResist">Disintegration</label>
					<input type="checkbox" name="passivesCheck4" id="disinResist">
					<label class="passivesBut" for="slowResist">Slow</label>
					<input type="checkbox" name="passivesCheck5" id="slowResist">
					<label class="passivesBut" for="blindResist">Blind</label>
					<input type="checkbox" name="passivesCheck6" id="blindResist">
					<label class="passivesBut" for="sleepResist">Sleep</label>
					<input type="checkbox" name="passivesCheck7" id="sleepResist">
					<label class="passivesBut" for="poisonResist">Poison</label>
					<input type="checkbox" name="passivesCheck8" id="poisonResist">
					<label class="passivesBut" for="confuseResist">Confusion</label>
					<input type="checkbox" name="passivesCheck9" id="confuseResist">
					<label class="passivesBut" for="woundResist">Wound</label>
					<input type="checkbox" name="passivesCheck10" id="woundResist">
					<label class="passivesBut" for="petrifyResist">Petrification</label>
					<input type="checkbox" name="passivesCheck11" id="petrifyResist">
					<label class="passivesBut" for="magicResist">Magic</label>
					<input type="checkbox" name="passivesCheck12" id="magicResist">
					<label class="passivesBut" for="physicalResist">Physical</label>
					<input type="checkbox" name="passivesCheck13" id="physicalResist">
				
				
				</div>
			</fieldset>
			<br>
			<fieldset>
			<legend>Immunities</legend>
				<div class="passivesResistGrid">
				
					<label class="passivesBut" for="coldResist1">Cold</label>
					<input type="checkbox" name="passivesCheck1" id="coldResist1">
					<label class="passivesBut" for="fireResist1">Fire</label>
					<input type="checkbox" name="passivesCheck2" id="fireResist1">
					<label class="passivesBut" for="shockResist1">Shock</label>
					<input type="checkbox" name="passivesCheck3" id="shockResist1">
					<label class="passivesBut" for="disinResist1">Disintegration</label>
					<input type="checkbox" name="passivesCheck4" id="disinResist1">
					<label class="passivesBut" for="slowResist1">Slow</label>
					<input type="checkbox" name="passivesCheck5" id="slowResist1">
					<label class="passivesBut" for="blindResist1">Blind</label>
					<input type="checkbox" name="passivesCheck6" id="blindResist1">
					<label class="passivesBut" for="sleepResist1">Sleep</label>
					<input type="checkbox" name="passivesCheck7" id="sleepResist1">
					<label class="passivesBut" for="poisonResist1">Poison</label>
					<input type="checkbox" name="passivesCheck8" id="poisonResist1">
					<label class="passivesBut" for="confuseResist1">Confusion</label>
					<input type="checkbox" name="passivesCheck9" id="confuseResist1">
					<label class="passivesBut" for="woundResist1">Wound</label>
					<input type="checkbox" name="passivesCheck10" id="woundResist1">
					<label class="passivesBut" for="petrifyResist1">Petrification</label>
					<input type="checkbox" name="passivesCheck11" id="petrifyResist1">
					<label class="passivesBut" for="magicResist1">Magic</label>
					<input type="checkbox" name="passivesCheck12" id="magicResist1">
					<label class="passivesBut" for="physicalResist1">Physical</label>
					<input type="checkbox" name="passivesCheck13" id="physicalResist1">
				
				
				</div>
			</fieldset>
			<br>
			<fieldset>
			<legend>Other</legend>
				<div class="passivesGrid">
				
					<label class="passivesBut" for="brisk">Brisk</label>
					<input type="checkbox" name="passivesCheck1" id="brisk">
					<label class="passivesBut" for="haste">Haste</label>
					<input type="checkbox" name="passivesCheck2" id="haste">
					<label class="passivesBut" for="invis">Invisible</label>
					<input type="checkbox" name="passivesCheck3" id="invis">
					<label class="passivesBut" for="seeInvis">See Invisible</label>
					<input type="checkbox" name="passivesCheck4" id="seeInvis">
					<label class="passivesBut" for="searching">Searching</label>
					<input type="checkbox" name="passivesCheck5" id="searching">
					<label class="passivesBut" for="levitate">Levitation</label>
					<input type="checkbox" name="passivesCheck6" id="levitate">
					<label class="passivesBut" for="flying">Flying</label>
					<input type="checkbox" name="passivesCheck7" id="flying">
					<label class="passivesBut" for="warning">Warning</label>
					<input type="checkbox" name="passivesCheck8" id="warning">
					<label class="passivesBut" for="breathless">Breathless</label>
					<input type="checkbox" name="passivesCheck9" id="breathless">
					<label class="passivesBut" for="foodApp">Food Appraisal</label>
					<input type="checkbox" name="passivesCheck10" id="foodApp">
					<label class="passivesBut" for="waterwalking">Waterwalking</label>
					<input type="checkbox" name="passivesCheck11" id="waterwalking">
					<label class="passivesBut" for="stealth">Stealth</label>
					<input type="checkbox" name="passivesCheck12" id="stealth">
					<label class="passivesBut" for="reflection">Reflection</label>
					<input type="checkbox" name="passivesCheck13" id="reflection">
					<label class="passivesBut" for="telepathy">Telepathy</label>
					<input type="checkbox" name="passivesCheck13" id="telepathy">
					<label class="passivesBut" for="displacement">Displacement</label>
					<input type="checkbox" name="passivesCheck13" id="displacement">
				
				
				</div>
			</fieldset>
			
			
			
		  </div>
		  
		  <!-- Proficiencies -->
		  <div id="playerMiscTabs-3">
			<div class="profGrid">
				<div class="profLabel" id="dagger"><b><br>Daggers:</b></div>
				<div class="profLabel" id="axe"><b><br>Axes:</b></div>
				<div class="profLabel" id="sword"><b><br>Swords:</b></div>
				<div class="profLabel" id="bludgeon"><b><br>Bludgeons:</b></div>
				<div class="profLabel" id="staff"><b><br>Staves:</b></div>
				<div class="profLabel" id="spear"><b><br>Spears:</b></div>
				<div class="profLevLab" id="daggerProfLevLab"> </div>
				<div class="profLevLab" id="axeProfLevLab"> </div>
				<div class="profLevLab" id="swordProfLevLab"> </div>
				<div class="profLevLab" id="bludgeonProfLevLab"> </div>
				<div class="profLevLab" id="staffProfLevLab"> </div>
				<div class="profLevLab" id="spearProfLevLab"> </div>
				<div class="profBar" id="daggerProfBar"></div>
				<div class="profBar" id="axeProfBar"></div>
				<div class="profBar" id="swordProfBar"></div>
				<div class="profBar" id="bludgeonProfBar"></div>
				<div class="profBar" id="staffProfBar"></div>
				<div class="profBar" id="spearProfBar"></div>
			</div>
			<div class="profGrid">
				<div class="profLabel" id="polearm"><b><br>Polearms:</b></div>
				<div class="profLabel" id="bow"><b><br>Bows:</b></div>
				<div class="profLabel" id="martial"><b>Martial<br>Arts:</b></div>
				<div class="profLabel" id="barehand"><b><br>Barehanded:</b></div>
				<div class="profLabel" id="augment"><b><br>Augments:</b></div>
				<div class="profLabel" id="mobility"><b><br>Mobility:</b></div>
				<div class="profLevLab" id="polearmProfLevLab"> </div>
				<div class="profLevLab" id="bowProfLevLab"> </div>
				<div class="profLevLab" id="martialProfLevLab"> </div>
				<div class="profLevLab" id="barehandProfLevLab"> </div>
				<div class="profLevLab" id="augmentProfLevLab"> </div>
				<div class="profLevLab" id="mobilityProfLevLab"> </div>
				<div class="profBar" id="polearmProfBar"></div>
				<div class="profBar" id="bowProfBar"></div>
				<div class="profBar" id="martialProfBar"></div>
				<div class="profBar" id="barehandProfBar"></div>
				<div class="profBar" id="augmentProfBar"></div>
				<div class="profBar" id="mobilityProfBar"></div>
			</div>
			<div class="profGrid">
				<div class="profLabel" id="attackSpell"><b>Attack<br>Spells:</b></div>
				<div class="profLabel" id="matterSpell"><b>Matter<br>Spells:</b></div>
				<div class="profLabel" id="divinationSpell"><b>Divination<br>Spells:</b></div>
				<div class="profLabel" id="clericalSpell"><b>Clerical<br>Spells:</b></div>
				<div class="profLabel" id="enchantmentSpell"><b>Enchantment<br>Spells:</b></div>
				<div class="profLabel" id="healingSpell"><b>Healing<br>Spells:</b></div>
				<div class="profLevLab" id="attackSpellProfLevLab"> </div>
				<div class="profLevLab" id="matterSpellProfLevLab"> </div>
				<div class="profLevLab" id="divinationSpellProfLevLab"> </div>
				<div class="profLevLab" id="clericalSpellProfLevLab"> </div>
				<div class="profLevLab" id="enchantmentSpellProfLevLab"> </div>
				<div class="profLevLab" id="healingSpellProfLevLab"> </div>
				<div class="profBar" id="attackSpellProfBar"></div>
				<div class="profBar" id="matterSpellProfBar"></div>
				<div class="profBar" id="divinationSpellProfBar"></div>
				<div class="profBar" id="clericalSpellProfBar"></div>
				<div class="profBar" id="enchantmentSpellProfBar"></div>
				<div class="profBar" id="healingSpellProfBar"></div>
			</div>
			<br>
			<button onclick="profDec()" id="profDecBut">-</button>
			<button onclick="profInc()" id="profIncBut">+</button>
			
			
			
		  </div>
		</div>
	</div>
</fieldset></div>
	<div id="playerTabs-1"></div>
	<div id="playerTabs-2"></div>
	<div id="playerTabs-3"></div>
	<div id="playerTabs-4"></div>
	<div id="playerTabs-5"></div>
	<div id="playerTabs-6"></div>
	<div id="playerTabs-7"></div>
	<div id="playerTabs-8"></div>
	<div id="playerTabs-9"></div>
</div>
<script>
$("#levelDec").click(function() {

	if(allPlayers[whoIsActive].playerExists==true) {

		allPlayers[whoIsActive].playerLevel--;
		
		//edit stats
		
		if (allPlayers[whoIsActive].race==0) //human
		{
			allPlayers[whoIsActive].hpMax-=1;
			allPlayers[whoIsActive].hpCurr-=1;
			allPlayers[whoIsActive].energyMax-=2;
			allPlayers[whoIsActive].energyCurr-=2;
		}

		if (allPlayers[whoIsActive].race==1) //dwarf
		{
			allPlayers[whoIsActive].hpMax-=3;
			allPlayers[whoIsActive].hpCurr-=3;	
		}
		
		if (allPlayers[whoIsActive].race==2) //orc
		{
			allPlayers[whoIsActive].hpMax-=2;
			allPlayers[whoIsActive].hpCurr-=2;
			allPlayers[whoIsActive].energyMax-=1;
			allPlayers[whoIsActive].energyCurr-=1;
		}

		if (allPlayers[whoIsActive].race==3) //elf
		{
			allPlayers[whoIsActive].energyMax-=3;
			allPlayers[whoIsActive].energyCurr-=3;	
		}

		if (allPlayers[whoIsActive].playClass==0) //highlander
		{
			tempRoll=rollDie(4,2);
			allPlayers[whoIsActive].hpMax-=tempRoll;
			allPlayers[whoIsActive].hpCurr-=tempRoll;

			tempRoll=rollDie(2,1);

			allPlayers[whoIsActive].energyMax-=tempRoll;
			allPlayers[whoIsActive].energyCurr-=tempRoll;
		}

		if (allPlayers[whoIsActive].playClass==1) //wizard
		{
			tempRoll=rollDie(2,1);
			allPlayers[whoIsActive].hpMax-=tempRoll;
			allPlayers[whoIsActive].hpCurr-=tempRoll;

			tempRoll=rollDie(2,2);
			allPlayers[whoIsActive].energyMax-=tempRoll;
			allPlayers[whoIsActive].energyCurr-=tempRoll;
			allPlayers[whoIsActive].energyMax--;
			allPlayers[whoIsActive].energyCurr--;
		}

		if (allPlayers[whoIsActive].playClass==2) //healer
		{
			tempRoll=rollDie(2,1);
			allPlayers[whoIsActive].hpMax-=tempRoll;
			allPlayers[whoIsActive].hpCurr-=tempRoll;

			tempRoll=rollDie(4,1);
			allPlayers[whoIsActive].energyMax-=tempRoll;
			allPlayers[whoIsActive].energyCurr-=tempRoll;
		}

		if (allPlayers[whoIsActive].playClass==3) //rapscallion
		{
			tempRoll=rollDie(2,1);
			allPlayers[whoIsActive].hpMax-=tempRoll;
			allPlayers[whoIsActive].hpCurr-=tempRoll;

			tempRoll=rollDie(4,1);
			allPlayers[whoIsActive].energyMax-=tempRoll;
			allPlayers[whoIsActive].energyCurr-=tempRoll;
		}

		if (allPlayers[whoIsActive].playClass==4) //monk
		{
			tempRoll=rollDie(4,1);
			allPlayers[whoIsActive].hpMax-=tempRoll;
			allPlayers[whoIsActive].hpCurr-=tempRoll;
			allPlayers[whoIsActive].hpMax-=2;
			allPlayers[whoIsActive].hpCurr-=2;

			tempRoll=rollDie(4,1);
			allPlayers[whoIsActive].energyMax-=tempRoll;
			allPlayers[whoIsActive].energyCurr-=tempRoll;
		}
	
		if (allPlayers[whoIsActive].playClass==5) //sniper
		{
			tempRoll=rollDie(2,1);
			allPlayers[whoIsActive].hpMax-=tempRoll;
			allPlayers[whoIsActive].hpCurr-=tempRoll;

			tempRoll=rollDie(4,1);
			allPlayers[whoIsActive].energyMax-=tempRoll;
			allPlayers[whoIsActive].energyCurr-=tempRoll;
		}

		if (allPlayers[whoIsActive].playClass==6) //myrmidon
		{
			tempRoll=rollDie(4,1);
			allPlayers[whoIsActive].hpMax-=tempRoll;
			allPlayers[whoIsActive].hpCurr-=tempRoll;

			tempRoll=rollDie(4,1);
			allPlayers[whoIsActive].energyMax-=tempRoll;
			allPlayers[whoIsActive].energyCurr-=tempRoll;
		}

		if (allPlayers[whoIsActive].playClass==7) //saboteur
		{
			tempRoll=rollDie(6,1);
			allPlayers[whoIsActive].hpMax-=tempRoll;
			allPlayers[whoIsActive].hpCurr-=tempRoll;

			tempRoll=rollDie(4,1);
			allPlayers[whoIsActive].energyMax-=tempRoll;
			allPlayers[whoIsActive].energyCurr-=tempRoll;
		}

		if (allPlayers[whoIsActive].playClass==8) //occultist
		{
			tempRoll=rollDie(4,1);
			allPlayers[whoIsActive].hpMax-=tempRoll;
			allPlayers[whoIsActive].hpCurr-=tempRoll;

			tempRoll=rollDie(2,2);
			allPlayers[whoIsActive].energyMax-=tempRoll;
			allPlayers[whoIsActive].energyCurr-=tempRoll;
		}

		if (allPlayers[whoIsActive].playClass==9) //basilica
		{
			tempRoll=rollDie(4,2);
			allPlayers[whoIsActive].hpMax-=tempRoll;
			allPlayers[whoIsActive].hpCurr-=tempRoll;

			tempRoll=rollDie(4,1);
			allPlayers[whoIsActive].energyMax-=tempRoll;
			allPlayers[whoIsActive].energyCurr-=tempRoll;
		}

		if (allPlayers[whoIsActive].playClass==10) //triarius
		{
			tempRoll=rollDie(4,1);
			allPlayers[whoIsActive].hpMax-=tempRoll;
			allPlayers[whoIsActive].hpCurr-=tempRoll;
			allPlayers[whoIsActive].hpMax--;
			allPlayers[whoIsActive].hpCurr--;

			tempRoll=rollDie(4,1);
			allPlayers[whoIsActive].energyMax-=tempRoll;
			allPlayers[whoIsActive].energyCurr-=tempRoll;
		}

		if (allPlayers[whoIsActive].playClass==11) //symposiarch
		{
			tempRoll=rollDie(4,1);
			allPlayers[whoIsActive].hpMax-=tempRoll;
			allPlayers[whoIsActive].hpCurr-=tempRoll;

			tempRoll=rollDie(4,1);
			allPlayers[whoIsActive].energyMax-=tempRoll;
			allPlayers[whoIsActive].energyCurr-=tempRoll;
		}

		if (allPlayers[whoIsActive].wisdom==10 || allPlayers[whoIsActive].wisdom==11) //10-11
		{
			allPlayers[whoIsActive].energyMax--;
			allPlayers[whoIsActive].energyCurr--;
		}
	
		if (allPlayers[whoIsActive].wisdom>11 && allPlayers[whoIsActive].wisdom<15) //12-14
		{
			allPlayers[whoIsActive].energyMax-=2;
			allPlayers[whoIsActive].energyCurr-=2;
		}

		if (allPlayers[whoIsActive].wisdom>14 && allPlayers[whoIsActive].wisdom<17) //15-16
		{
			allPlayers[whoIsActive].energyMax-=3;
			allPlayers[whoIsActive].energyCurr-=3;
		}

		if (allPlayers[whoIsActive].wisdom>18 && allPlayers[whoIsActive].wisdom<21) //17-19
		{
			allPlayers[whoIsActive].energyMax-=4;
			allPlayers[whoIsActive].energyCurr-=4;
		}

		if (allPlayers[whoIsActive].wisdom>20 && allPlayers[whoIsActive].wisdom<23) //20+
		{
			allPlayers[whoIsActive].energyMax-=5;
			allPlayers[whoIsActive].energyCurr-=5;
		}

		
		//update
		updatePlayer();
		
		}

});

$("#levelInc").click(function() {

	if(allPlayers[whoIsActive].playerExists==true) {

		allPlayers[whoIsActive].playerLevel++;
		
		//edit stats
		
		if (allPlayers[whoIsActive].race==0) //human
		{
			allPlayers[whoIsActive].hpMax+=1;
			allPlayers[whoIsActive].hpCurr+=1;
			allPlayers[whoIsActive].energyMax+=2;
			allPlayers[whoIsActive].energyCurr+=2;
		}

		if (allPlayers[whoIsActive].race==1) //dwarf
		{
			allPlayers[whoIsActive].hpMax+=3;
			allPlayers[whoIsActive].hpCurr+=3;	
		}
		
		if (allPlayers[whoIsActive].race==2) //orc
		{
			allPlayers[whoIsActive].hpMax+=2;
			allPlayers[whoIsActive].hpCurr+=2;
			allPlayers[whoIsActive].energyMax+=1;
			allPlayers[whoIsActive].energyCurr+=1;
		}

		if (allPlayers[whoIsActive].race==3) //elf
		{
			allPlayers[whoIsActive].energyMax+=3;
			allPlayers[whoIsActive].energyCurr+=3;	
		}

		if (allPlayers[whoIsActive].playClass==0) //highlander
		{
			tempRoll=rollDie(4,2);
			allPlayers[whoIsActive].hpMax+=tempRoll;
			allPlayers[whoIsActive].hpCurr+=tempRoll;

			tempRoll=rollDie(2,1);

			allPlayers[whoIsActive].energyMax+=tempRoll;
			allPlayers[whoIsActive].energyCurr+=tempRoll;
		}

		if (allPlayers[whoIsActive].playClass==1) //wizard
		{
			tempRoll=rollDie(2,1);
			allPlayers[whoIsActive].hpMax+=tempRoll;
			allPlayers[whoIsActive].hpCurr+=tempRoll;

			tempRoll=rollDie(2,2);
			allPlayers[whoIsActive].energyMax+=tempRoll;
			allPlayers[whoIsActive].energyCurr+=tempRoll;
			allPlayers[whoIsActive].energyMax++;
			allPlayers[whoIsActive].energyCurr++;
		}

		if (allPlayers[whoIsActive].playClass==2) //healer
		{
			tempRoll=rollDie(2,1);
			allPlayers[whoIsActive].hpMax+=tempRoll;
			allPlayers[whoIsActive].hpCurr+=tempRoll;

			tempRoll=rollDie(4,1);
			allPlayers[whoIsActive].energyMax+=tempRoll;
			allPlayers[whoIsActive].energyCurr+=tempRoll;
		}

		if (allPlayers[whoIsActive].playClass==3) //rapscallion
		{
			tempRoll=rollDie(2,1);
			allPlayers[whoIsActive].hpMax+=tempRoll;
			allPlayers[whoIsActive].hpCurr+=tempRoll;

			tempRoll=rollDie(4,1);
			allPlayers[whoIsActive].energyMax+=tempRoll;
			allPlayers[whoIsActive].energyCurr+=tempRoll;
		}

		if (allPlayers[whoIsActive].playClass==4) //monk
		{
			tempRoll=rollDie(4,1);
			allPlayers[whoIsActive].hpMax+=tempRoll;
			allPlayers[whoIsActive].hpCurr+=tempRoll;
			allPlayers[whoIsActive].hpMax+=2;
			allPlayers[whoIsActive].hpCurr+=2;

			tempRoll=rollDie(4,1);
			allPlayers[whoIsActive].energyMax+=tempRoll;
			allPlayers[whoIsActive].energyCurr+=tempRoll;
		}
	
		if (allPlayers[whoIsActive].playClass==5) //sniper
		{
			tempRoll=rollDie(2,1);
			allPlayers[whoIsActive].hpMax+=tempRoll;
			allPlayers[whoIsActive].hpCurr+=tempRoll;

			tempRoll=rollDie(4,1);
			allPlayers[whoIsActive].energyMax+=tempRoll;
			allPlayers[whoIsActive].energyCurr+=tempRoll;
		}

		if (allPlayers[whoIsActive].playClass==6) //myrmidon
		{
			tempRoll=rollDie(4,1);
			allPlayers[whoIsActive].hpMax+=tempRoll;
			allPlayers[whoIsActive].hpCurr+=tempRoll;

			tempRoll=rollDie(4,1);
			allPlayers[whoIsActive].energyMax+=tempRoll;
			allPlayers[whoIsActive].energyCurr+=tempRoll;
		}

		if (allPlayers[whoIsActive].playClass==7) //saboteur
		{
			tempRoll=rollDie(6,1);
			allPlayers[whoIsActive].hpMax+=tempRoll;
			allPlayers[whoIsActive].hpCurr+=tempRoll;

			tempRoll=rollDie(4,1);
			allPlayers[whoIsActive].energyMax+=tempRoll;
			allPlayers[whoIsActive].energyCurr+=tempRoll;
		}

		if (allPlayers[whoIsActive].playClass==8) //occultist
		{
			tempRoll=rollDie(4,1);
			allPlayers[whoIsActive].hpMax+=tempRoll;
			allPlayers[whoIsActive].hpCurr+=tempRoll;

			tempRoll=rollDie(2,2);
			allPlayers[whoIsActive].energyMax+=tempRoll;
			allPlayers[whoIsActive].energyCurr+=tempRoll;
		}

		if (allPlayers[whoIsActive].playClass==9) //basilica
		{
			tempRoll=rollDie(4,2);
			allPlayers[whoIsActive].hpMax+=tempRoll;
			allPlayers[whoIsActive].hpCurr+=tempRoll;

			tempRoll=rollDie(4,1);
			allPlayers[whoIsActive].energyMax+=tempRoll;
			allPlayers[whoIsActive].energyCurr+=tempRoll;
		}

		if (allPlayers[whoIsActive].playClass==10) //triarius
		{
			tempRoll=rollDie(4,1);
			allPlayers[whoIsActive].hpMax+=tempRoll;
			allPlayers[whoIsActive].hpCurr+=tempRoll;
			allPlayers[whoIsActive].hpMax++;
			allPlayers[whoIsActive].hpCurr++;

			tempRoll=rollDie(4,1);
			allPlayers[whoIsActive].energyMax+=tempRoll;
			allPlayers[whoIsActive].energyCurr+=tempRoll;
		}

		if (allPlayers[whoIsActive].playClass==11) //symposiarch
		{
			tempRoll=rollDie(4,1);
			allPlayers[whoIsActive].hpMax+=tempRoll;
			allPlayers[whoIsActive].hpCurr+=tempRoll;

			tempRoll=rollDie(4,1);
			allPlayers[whoIsActive].energyMax+=tempRoll;
			allPlayers[whoIsActive].energyCurr+=tempRoll;
		}

		if (allPlayers[whoIsActive].wisdom==10 || allPlayers[whoIsActive].wisdom==11) //10-11
		{
			allPlayers[whoIsActive].energyMax++;
			allPlayers[whoIsActive].energyCurr++;
		}
	
		if (allPlayers[whoIsActive].wisdom>11 && allPlayers[whoIsActive].wisdom<15) //12-14
		{
			allPlayers[whoIsActive].energyMax+=2;
			allPlayers[whoIsActive].energyCurr+=2;
		}

		if (allPlayers[whoIsActive].wisdom>14 && allPlayers[whoIsActive].wisdom<17) //15-16
		{
			allPlayers[whoIsActive].energyMax+=3;
			allPlayers[whoIsActive].energyCurr+=3;
		}

		if (allPlayers[whoIsActive].wisdom>18 && allPlayers[whoIsActive].wisdom<21) //17-19
		{
			allPlayers[whoIsActive].energyMax+=4;
			allPlayers[whoIsActive].energyCurr+=4;
		}

		if (allPlayers[whoIsActive].wisdom>20 && allPlayers[whoIsActive].wisdom<23) //20+
		{
			allPlayers[whoIsActive].energyMax+=5;
			allPlayers[whoIsActive].energyCurr+=5;
		}

		
		//update
		updatePlayer();
	
	}
});

$("div.passivesResistGrid").find( "input[type=\"checkbox\"]").click(function( event ) {

	//alert(this.id);
	
	var passId=this.id;
	var immune=passId.includes("1");
	var newPass;

	if (immune==true) {
	
		newPass=passId.replace("1","");
	}
	
	if ($('#'+ this.id).prop('checked')==true && immune!=true) {
    
		allPlayers[whoIsActive].playerPassives[passId]=1;
		
	}
	
	if ($('#'+ this.id).prop('checked')!=true && immune!=true && allPlayers[whoIsActive].playerPassives[passId]!=2) {
    
		allPlayers[whoIsActive].playerPassives[passId]=0;
	}
	
	if ($('#'+ this.id).prop('checked')==true && immune==true) {
    
		allPlayers[whoIsActive].playerPassives[newPass]=2;
		$("#" + newPass).prop('checked', true);
		$("#" + newPass).checkboxradio('refresh');
		
		
	}
	
	if ($('#'+ this.id).prop('checked')!=true && immune==true && allPlayers[whoIsActive].playerPassives[passId]!=1) {
    
		allPlayers[whoIsActive].playerPassives[newPass]=0;
	}
});

$("div.passivesGrid").find( "input[type=\"checkbox\"]").click(function( event ) {


	
	var passId=this.id;

	
	if ($('#'+ this.id).prop('checked')==true) {
    
		allPlayers[whoIsActive].playerPassives[passId]=1;
		
	}
	
	if ($('#'+ this.id).prop('checked')!=true) {
    
		allPlayers[whoIsActive].playerPassives[passId]=0;
	}
	
});

var currMax=-1; //0 for curr, 1 for max

$("#prayTime").click(function() {

	if (allPlayers[whoIsActive].playerExists==true && allPlayers[whoIsActive].prayTime==0) {
		
		var pTime=100;
		
		var minusPlus=rollDie(2,1);
		
		if (minusPlus==1) {
		
			pTime+=rollDie(10,1);
		
		}
		
		else {
		
			pTime-=rollDie(10,1);
		}
		
		$("#prayTime").html("Prayer: "+ pTime);
		allPlayers[whoIsActive].prayTime=pTime;
	}
});

$( "#statEditRadio1" ).click(function( event ) {

	currMax=0;
});

$( "#statEditRadio2" ).click(function( event ) {

	currMax=1;
});

$( function() {
	$( "input[type=\"checkbox\"]" ).checkboxradio();
} );

//$( "#hpSpinner" ).spinner();
$("div.playerStatsGrid").find("input[type=\"spinner\"]").spinner();

$("div.playerStatsGrid").find("input").keyup(function(event) {


	var enterVal = this.value;
	var tempStr;
	var tempStr2;
	enterVal=parseInt(enterVal);
	//alert(typeof(enterVal));
	
    if (event.keyCode === 13) {
	
		if (isNaN(enterVal)==false && allPlayers[whoIsActive].playerExists==true) {
	
			tempStr=this.id;
			tempStr=tempStr.replace("Spinner","");
			tempStr2=tempStr.toLowerCase();
			
			//var element_id = this.data()[element_type + 'id'];
			
			
			//allPlayers[whoIsActive][tempStr2]+=enterVal;
			
			//current
			if (tempStr2=="hp" && currMax==0) {

				
				
				allPlayers[whoIsActive].hpCurr+=enterVal;
				
			}
			
			//max
			if (tempStr2=="hp" && currMax==1) {
			
				
				
				allPlayers[whoIsActive].hpMax+=enterVal;
				
			}
			
			//current
			if (tempStr2=="energy" && currMax==0) {

				
				
				allPlayers[whoIsActive].energyCurr+=enterVal;
				
			}
			
			//max
			if (tempStr2=="energy" && currMax==1) {
			
				
				
				allPlayers[whoIsActive].energyMax+=enterVal;
				
			}
			
			//current
			if (tempStr2=="encumbrance" && currMax==0) {

				
				
				allPlayers[whoIsActive].weightCurr+=enterVal;
				
			}
			
			//max
			if (tempStr2=="encumbrance" && currMax==1) {
			
				
				
				allPlayers[whoIsActive].weightMax+=enterVal;
				
			}
		
			
			else {
			
				allPlayers[whoIsActive][tempStr2]+=enterVal;
			}
			
			//alert(allPlayers[whoIsActive].hpCurr);
			
			updatePlayer();
			
	
		}
    }
	
	
	
});

function profInc() {

	if (allPlayers[whoIsActive].playerExists==true)
	{

		//if dagger selected

		if (currProf==0) {
		
			
			if (allPlayers[whoIsActive].playerProfs.daggerLev==0) {
				
				allPlayers[whoIsActive].playerProfs.daggerProf++;
				$( "#daggerProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.daggerProf + " / 20)" );
				$( "#daggerProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.daggerProf );
			}
			
			else if (allPlayers[whoIsActive].playerProfs.daggerLev>0) {
			
				allPlayers[whoIsActive].playerProfs.daggerProf++;
				allPlayers[whoIsActive].playerProfs.daggerBar++;
		
				if (allPlayers[whoIsActive].playerProfs.daggerLev==1) {
					$( "#daggerProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.daggerProf + " / 50)" );
				}
				
				if (allPlayers[whoIsActive].playerProfs.daggerLev==2){
					$( "#daggerProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.daggerProf + " / 90)" );
				}
				
				$( "#daggerProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.daggerBar );
			}
			
			if (allPlayers[whoIsActive].playerProfs.daggerProf==20) {
			
				allPlayers[whoIsActive].playerProfs.daggerBar=0;
				allPlayers[whoIsActive].playerProfs.daggerLev=1;
				$( "#daggerProfLevLab" ).html( "Apprentice<br>(20 / 50)" );
				$( "#daggerProfBar" ).progressbar({value:0 , max:30});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.daggerProf==50) {
			
				allPlayers[whoIsActive].playerProfs.daggerBar=0;
				allPlayers[whoIsActive].playerProfs.daggerLev=2;
				$( "#daggerProfLevLab" ).html( "Adept (50 / 90)" );
				$( "#daggerProfBar" ).progressbar({value:0 , max:40});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.daggerProf==90) {
			
				
				allPlayers[whoIsActive].playerProfs.daggerLev=3;
				$( "#daggerProfLevLab" ).html( "Master" );
			
			}
			
			
		} //dagger
		
		//if axe selected
		
		if (currProf==1) {
			
			if (allPlayers[whoIsActive].playerProfs.axeLev==0) {
				
				allPlayers[whoIsActive].playerProfs.axeProf++;
				$( "#axeProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.axeProf + " / 20)" );
				$( "#axeProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.axeProf );
			}
			
			else if (allPlayers[whoIsActive].playerProfs.axeLev>0) {
			
				allPlayers[whoIsActive].playerProfs.axeProf++;
				allPlayers[whoIsActive].playerProfs.axeBar++;
		
				if (allPlayers[whoIsActive].playerProfs.axeLev==1) {
					$( "#axeProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.axeProf + " / 50)" );
				}
				
				if (allPlayers[whoIsActive].playerProfs.axeLev==2){
					$( "#axeProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.axeProf + " / 90)" );
				}
				
				$( "#axeProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.axeBar );
			}
			
			if (allPlayers[whoIsActive].playerProfs.axeProf==20) {
			
				allPlayers[whoIsActive].playerProfs.axeBar=0;
				allPlayers[whoIsActive].playerProfs.axeLev=1;
				$( "#axeProfLevLab" ).html( "Apprentice<br>(20 / 50)" );
				$( "#axeProfBar" ).progressbar({value:0 , max:30});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.axeProf==50) {
			
				allPlayers[whoIsActive].playerProfs.axeBar=0;
				allPlayers[whoIsActive].playerProfs.axeLev=2;
				$( "#axeProfLevLab" ).html( "Adept (50 / 90)" );
				$( "#axeProfBar" ).progressbar({value:0 , max:40});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.axeProf==90) {
			
				
				allPlayers[whoIsActive].playerProfs.axeLev=3;
				$( "#axeProfLevLab" ).html( "Master" );
			
			}
			
			
		} //axe

		//if sword selected
		
		if (currProf==2) {
			
			if (allPlayers[whoIsActive].playerProfs.swordLev==0) {
				
				allPlayers[whoIsActive].playerProfs.swordProf++;
				$( "#swordProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.swordProf + " / 20)" );
				$( "#swordProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.swordProf );
			}
			
			else if (allPlayers[whoIsActive].playerProfs.swordLev>0) {
			
				allPlayers[whoIsActive].playerProfs.swordProf++;
				allPlayers[whoIsActive].playerProfs.swordBar++;
		
				if (allPlayers[whoIsActive].playerProfs.swordLev==1) {
					$( "#swordProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.swordProf + " / 50)" );
				}
				
				if (allPlayers[whoIsActive].playerProfs.swordLev==2){
					$( "#swordProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.swordProf + " / 90)" );
				}
				
				$( "#swordProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.swordBar );
			}
			
			if (allPlayers[whoIsActive].playerProfs.swordProf==20) {
			
				allPlayers[whoIsActive].playerProfs.swordBar=0;
				allPlayers[whoIsActive].playerProfs.swordLev=1;
				$( "#swordProfLevLab" ).html( "Apprentice<br>(20 / 50)" );
				$( "#swordProfBar" ).progressbar({value:0 , max:30});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.swordProf==50) {
			
				allPlayers[whoIsActive].playerProfs.swordBar=0;
				allPlayers[whoIsActive].playerProfs.swordLev=2;
				$( "#swordProfLevLab" ).html( "Adept (50 / 90)" );
				$( "#swordProfBar" ).progressbar({value:0 , max:40});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.swordProf==90) {
			
				
				allPlayers[whoIsActive].playerProfs.swordLev=3;
				$( "#swordProfLevLab" ).html( "Master" );
			
			}
			
			
		} //sword
		
		//if bludgeon selected
		
		if (currProf==3) {
			
			if (allPlayers[whoIsActive].playerProfs.bludgeonLev==0) {
				
				allPlayers[whoIsActive].playerProfs.bludgeonProf++;
				$( "#bludgeonProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.bludgeonProf + " / 20)" );
				$( "#bludgeonProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.bludgeonProf );
			}
			
			else if (allPlayers[whoIsActive].playerProfs.bludgeonLev>0) {
			
				allPlayers[whoIsActive].playerProfs.bludgeonProf++;
				allPlayers[whoIsActive].playerProfs.bludgeonBar++;
		
				if (allPlayers[whoIsActive].playerProfs.bludgeonLev==1) {
					$( "#bludgeonProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.bludgeonProf + " / 50)" );
				}
				
				if (allPlayers[whoIsActive].playerProfs.bludgeonLev==2){
					$( "#bludgeonProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.bludgeonProf + " / 90)" );
				}
				
				$( "#bludgeonProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.bludgeonBar );
			}
			
			if (allPlayers[whoIsActive].playerProfs.bludgeonProf==20) {
			
				allPlayers[whoIsActive].playerProfs.bludgeonBar=0;
				allPlayers[whoIsActive].playerProfs.bludgeonLev=1;
				$( "#bludgeonProfLevLab" ).html( "Apprentice<br>(20 / 50)" );
				$( "#bludgeonProfBar" ).progressbar({value:0 , max:30});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.bludgeonProf==50) {
			
				allPlayers[whoIsActive].playerProfs.bludgeonBar=0;
				allPlayers[whoIsActive].playerProfs.bludgeonLev=2;
				$( "#bludgeonProfLevLab" ).html( "Adept (50 / 90)" );
				$( "#bludgeonProfBar" ).progressbar({value:0 , max:40});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.bludgeonProf==90) {
			
				
				allPlayers[whoIsActive].playerProfs.bludgeonLev=3;
				$( "#bludgeonProfLevLab" ).html( "Master" );
			
			}
			
			
		} //bludgeon
		
		//if staff selected
		
		if (currProf==4) {
			
			if (allPlayers[whoIsActive].playerProfs.staffLev==0) {
				
				allPlayers[whoIsActive].playerProfs.staffProf++;
				$( "#staffProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.staffProf + " / 20)" );
				$( "#staffProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.staffProf );
			}
			
			else if (allPlayers[whoIsActive].playerProfs.staffLev>0) {
			
				allPlayers[whoIsActive].playerProfs.staffProf++;
				allPlayers[whoIsActive].playerProfs.staffBar++;
		
				if (allPlayers[whoIsActive].playerProfs.staffLev==1) {
					$( "#staffProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.staffProf + " / 50)" );
				}
				
				if (allPlayers[whoIsActive].playerProfs.staffLev==2){
					$( "#staffProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.staffProf + " / 90)" );
				}
				
				$( "#staffProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.staffBar );
			}
			
			if (allPlayers[whoIsActive].playerProfs.staffProf==20) {
			
				allPlayers[whoIsActive].playerProfs.staffBar=0;
				allPlayers[whoIsActive].playerProfs.staffLev=1;
				$( "#staffProfLevLab" ).html( "Apprentice<br>(20 / 50)" );
				$( "#staffProfBar" ).progressbar({value:0 , max:30});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.staffProf==50) {
			
				allPlayers[whoIsActive].playerProfs.staffBar=0;
				allPlayers[whoIsActive].playerProfs.staffLev=2;
				$( "#staffProfLevLab" ).html( "Adept (50 / 90)" );
				$( "#staffProfBar" ).progressbar({value:0 , max:40});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.staffProf==90) {
			
				
				allPlayers[whoIsActive].playerProfs.staffLev=3;
				$( "#staffProfLevLab" ).html( "Master" );
			
			}
			
			
		} //staff
		
		//if spear selected
		
		if (currProf==5) {
			
			if (allPlayers[whoIsActive].playerProfs.spearLev==0) {
				
				allPlayers[whoIsActive].playerProfs.spearProf++;
				$( "#spearProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.spearProf + " / 20)" );
				$( "#spearProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.spearProf );
			}
			
			else if (allPlayers[whoIsActive].playerProfs.spearLev>0) {
			
				allPlayers[whoIsActive].playerProfs.spearProf++;
				allPlayers[whoIsActive].playerProfs.spearBar++;
		
				if (allPlayers[whoIsActive].playerProfs.spearLev==1) {
					$( "#spearProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.spearProf + " / 50)" );
				}
				
				if (allPlayers[whoIsActive].playerProfs.spearLev==2){
					$( "#spearProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.spearProf + " / 90)" );
				}
				
				$( "#spearProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.spearBar );
			}
			
			if (allPlayers[whoIsActive].playerProfs.spearProf==20) {
			
				allPlayers[whoIsActive].playerProfs.spearBar=0;
				allPlayers[whoIsActive].playerProfs.spearLev=1;
				$( "#spearProfLevLab" ).html( "Apprentice<br>(20 / 50)" );
				$( "#spearProfBar" ).progressbar({value:0 , max:30});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.spearProf==50) {
			
				allPlayers[whoIsActive].playerProfs.spearBar=0;
				allPlayers[whoIsActive].playerProfs.spearLev=2;
				$( "#spearProfLevLab" ).html( "Adept (50 / 90)" );
				$( "#spearProfBar" ).progressbar({value:0 , max:40});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.spearProf==90) {
			
				
				allPlayers[whoIsActive].playerProfs.spearLev=3;
				$( "#spearProfLevLab" ).html( "Master" );
			
			}
			
			
		} //spear
		
		//if polearm selected
		
		if (currProf==6) {
			
			if (allPlayers[whoIsActive].playerProfs.polearmLev==0) {
				
				allPlayers[whoIsActive].playerProfs.polearmProf++;
				$( "#polearmProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.polearmProf + " / 20)" );
				$( "#polearmProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.polearmProf );
			}
			
			else if (allPlayers[whoIsActive].playerProfs.polearmLev>0) {
			
				allPlayers[whoIsActive].playerProfs.polearmProf++;
				allPlayers[whoIsActive].playerProfs.polearmBar++;
		
				if (allPlayers[whoIsActive].playerProfs.polearmLev==1) {
					$( "#polearmProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.polearmProf + " / 50)" );
				}
				
				if (allPlayers[whoIsActive].playerProfs.polearmLev==2){
					$( "#polearmProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.polearmProf + " / 90)" );
				}
				
				$( "#polearmProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.polearmBar );
			}
			
			if (allPlayers[whoIsActive].playerProfs.polearmProf==20) {
			
				allPlayers[whoIsActive].playerProfs.polearmBar=0;
				allPlayers[whoIsActive].playerProfs.polearmLev=1;
				$( "#polearmProfLevLab" ).html( "Apprentice<br>(20 / 50)" );
				$( "#polearmProfBar" ).progressbar({value:0 , max:30});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.polearmProf==50) {
			
				allPlayers[whoIsActive].playerProfs.polearmBar=0;
				allPlayers[whoIsActive].playerProfs.polearmLev=2;
				$( "#polearmProfLevLab" ).html( "Adept (50 / 90)" );
				$( "#polearmProfBar" ).progressbar({value:0 , max:40});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.polearmProf==90) {
			
				
				allPlayers[whoIsActive].playerProfs.polearmLev=3;
				$( "#polearmProfLevLab" ).html( "Master" );
			
			}
			
			
		} //polearm
		
		//if bow selected
		
		if (currProf==7) {
			
			if (allPlayers[whoIsActive].playerProfs.bowLev==0) {
				
				allPlayers[whoIsActive].playerProfs.bowProf++;
				$( "#bowProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.bowProf + " / 20)" );
				$( "#bowProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.bowProf );
			}
			
			else if (allPlayers[whoIsActive].playerProfs.bowLev>0) {
			
				allPlayers[whoIsActive].playerProfs.bowProf++;
				allPlayers[whoIsActive].playerProfs.bowBar++;
		
				if (allPlayers[whoIsActive].playerProfs.bowLev==1) {
					$( "#bowProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.bowProf + " / 50)" );
				}
				
				if (allPlayers[whoIsActive].playerProfs.bowLev==2){
					$( "#bowProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.bowProf + " / 90)" );
				}
				
				$( "#bowProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.bowBar );
			}
			
			if (allPlayers[whoIsActive].playerProfs.bowProf==20) {
			
				allPlayers[whoIsActive].playerProfs.bowBar=0;
				allPlayers[whoIsActive].playerProfs.bowLev=1;
				$( "#bowProfLevLab" ).html( "Apprentice<br>(20 / 50)" );
				$( "#bowProfBar" ).progressbar({value:0 , max:30});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.bowProf==50) {
			
				allPlayers[whoIsActive].playerProfs.bowBar=0;
				allPlayers[whoIsActive].playerProfs.bowLev=2;
				$( "#bowProfLevLab" ).html( "Adept (50 / 90)" );
				$( "#bowProfBar" ).progressbar({value:0 , max:40});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.bowProf==90) {
			
				
				allPlayers[whoIsActive].playerProfs.bowLev=3;
				$( "#bowProfLevLab" ).html( "Master" );
			
			}
			
			
		} //bow
		
		//if martial selected
		
		if (currProf==8) {
			
			if (allPlayers[whoIsActive].playerProfs.martialLev==0) {
				
				allPlayers[whoIsActive].playerProfs.martialProf++;
				$( "#martialProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.martialProf + " / 20)" );
				$( "#martialProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.martialProf );
			}
			
			else if (allPlayers[whoIsActive].playerProfs.martialLev>0) {
			
				allPlayers[whoIsActive].playerProfs.martialProf++;
				allPlayers[whoIsActive].playerProfs.martialBar++;
		
				if (allPlayers[whoIsActive].playerProfs.martialLev==1) {
					$( "#martialProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.martialProf + " / 50)" );
				}
				
				if (allPlayers[whoIsActive].playerProfs.martialLev==2){
					$( "#martialProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.martialProf + " / 90)" );
				}
				
				$( "#martialProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.martialBar );
			}
			
			if (allPlayers[whoIsActive].playerProfs.martialProf==20) {
			
				allPlayers[whoIsActive].playerProfs.martialBar=0;
				allPlayers[whoIsActive].playerProfs.martialLev=1;
				$( "#martialProfLevLab" ).html( "Apprentice<br>(20 / 50)" );
				$( "#martialProfBar" ).progressbar({value:0 , max:30});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.martialProf==50) {
			
				allPlayers[whoIsActive].playerProfs.martialBar=0;
				allPlayers[whoIsActive].playerProfs.martialLev=2;
				$( "#martialProfLevLab" ).html( "Adept (50 / 90)" );
				$( "#martialProfBar" ).progressbar({value:0 , max:40});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.martialProf==90) {
			
				
				allPlayers[whoIsActive].playerProfs.martialLev=3;
				$( "#martialProfLevLab" ).html( "Master" );
			
			}
			
			
		} //martial
		
		//if barehand selected
		
		if (currProf==9) {
			
			if (allPlayers[whoIsActive].playerProfs.barehandLev==0) {
				
				allPlayers[whoIsActive].playerProfs.barehandProf++;
				$( "#barehandProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.barehandProf + " / 20)" );
				$( "#barehandProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.barehandProf );
			}
			
			else if (allPlayers[whoIsActive].playerProfs.barehandLev>0) {
			
				allPlayers[whoIsActive].playerProfs.barehandProf++;
				allPlayers[whoIsActive].playerProfs.barehandBar++;
		
				if (allPlayers[whoIsActive].playerProfs.barehandLev==1) {
					$( "#barehandProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.barehandProf + " / 50)" );
				}
				
				if (allPlayers[whoIsActive].playerProfs.barehandLev==2){
					$( "#barehandProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.barehandProf + " / 90)" );
				}
				
				$( "#barehandProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.barehandBar );
			}
			
			if (allPlayers[whoIsActive].playerProfs.barehandProf==20) {
			
				allPlayers[whoIsActive].playerProfs.barehandBar=0;
				allPlayers[whoIsActive].playerProfs.barehandLev=1;
				$( "#barehandProfLevLab" ).html( "Apprentice<br>(20 / 50)" );
				$( "#barehandProfBar" ).progressbar({value:0 , max:30});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.barehandProf==50) {
			
				allPlayers[whoIsActive].playerProfs.barehandBar=0;
				allPlayers[whoIsActive].playerProfs.barehandLev=2;
				$( "#barehandProfLevLab" ).html( "Adept (50 / 90)" );
				$( "#barehandProfBar" ).progressbar({value:0 , max:40});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.barehandProf==90) {
			
				
				allPlayers[whoIsActive].playerProfs.barehandLev=3;
				$( "#barehandProfLevLab" ).html( "Master" );
			
			}
			
			
		} //barehand
		
		//if augment selected
		
		if (currProf==10) {
			
			if (allPlayers[whoIsActive].playerProfs.augmentLev==0) {
				
				allPlayers[whoIsActive].playerProfs.augmentProf++;
				$( "#augmentProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.augmentProf + " / 20)" );
				$( "#augmentProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.augmentProf );
			}
			
			else if (allPlayers[whoIsActive].playerProfs.augmentLev>0) {
			
				allPlayers[whoIsActive].playerProfs.augmentProf++;
				allPlayers[whoIsActive].playerProfs.augmentBar++;
		
				if (allPlayers[whoIsActive].playerProfs.augmentLev==1) {
					$( "#augmentProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.augmentProf + " / 50)" );
				}
				
				if (allPlayers[whoIsActive].playerProfs.augmentLev==2){
					$( "#augmentProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.augmentProf + " / 90)" );
				}
				
				$( "#augmentProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.augmentBar );
			}
			
			if (allPlayers[whoIsActive].playerProfs.augmentProf==20) {
			
				allPlayers[whoIsActive].playerProfs.augmentBar=0;
				allPlayers[whoIsActive].playerProfs.augmentLev=1;
				$( "#augmentProfLevLab" ).html( "Apprentice<br>(20 / 50)" );
				$( "#augmentProfBar" ).progressbar({value:0 , max:30});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.augmentProf==50) {
			
				allPlayers[whoIsActive].playerProfs.augmentBar=0;
				allPlayers[whoIsActive].playerProfs.augmentLev=2;
				$( "#augmentProfLevLab" ).html( "Adept (50 / 90)" );
				$( "#augmentProfBar" ).progressbar({value:0 , max:40});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.augmentProf==90) {
			
				
				allPlayers[whoIsActive].playerProfs.augmentLev=3;
				$( "#augmentProfLevLab" ).html( "Master" );
			
			}
			
			
		} //augment
		
		
		//if mobility selected
		
		if (currProf==11) {
			
			if (allPlayers[whoIsActive].playerProfs.mobilityLev==0) {
				
				allPlayers[whoIsActive].playerProfs.mobilityProf++;
				$( "#mobilityProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.mobilityProf + " / 20)" );
				$( "#mobilityProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.mobilityProf );
			}
			
			else if (allPlayers[whoIsActive].playerProfs.mobilityLev>0) {
			
				allPlayers[whoIsActive].playerProfs.mobilityProf++;
				allPlayers[whoIsActive].playerProfs.mobilityBar++;
		
				if (allPlayers[whoIsActive].playerProfs.mobilityLev==1) {
					$( "#mobilityProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.mobilityProf + " / 50)" );
				}
				
				if (allPlayers[whoIsActive].playerProfs.mobilityLev==2){
					$( "#mobilityProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.mobilityProf + " / 90)" );
				}
				
				$( "#mobilityProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.mobilityBar );
			}
			
			if (allPlayers[whoIsActive].playerProfs.mobilityProf==20) {
			
				allPlayers[whoIsActive].playerProfs.mobilityBar=0;
				allPlayers[whoIsActive].playerProfs.mobilityLev=1;
				$( "#mobilityProfLevLab" ).html( "Apprentice<br>(20 / 50)" );
				$( "#mobilityProfBar" ).progressbar({value:0 , max:30});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.mobilityProf==50) {
			
				allPlayers[whoIsActive].playerProfs.mobilityBar=0;
				allPlayers[whoIsActive].playerProfs.mobilityLev=2;
				$( "#mobilityProfLevLab" ).html( "Adept (50 / 90)" );
				$( "#mobilityProfBar" ).progressbar({value:0 , max:40});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.mobilityProf==90) {
			
				
				allPlayers[whoIsActive].playerProfs.mobilityLev=3;
				$( "#mobilityProfLevLab" ).html( "Master" );
			
			}
			
			
		} //mobility
		
		
		//if attackSpell selected
		
		if (currProf==12) {
			
			if (allPlayers[whoIsActive].playerProfs.attackSpellLev==0) {
				
				allPlayers[whoIsActive].playerProfs.attackSpellProf++;
				$( "#attackSpellProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.attackSpellProf + " / 20)" );
				$( "#attackSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.attackSpellProf );
			}
			
			else if (allPlayers[whoIsActive].playerProfs.attackSpellLev>0) {
			
				allPlayers[whoIsActive].playerProfs.attackSpellProf++;
				allPlayers[whoIsActive].playerProfs.attackSpellBar++;
		
				if (allPlayers[whoIsActive].playerProfs.attackSpellLev==1) {
					$( "#attackSpellProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.attackSpellProf + " / 50)" );
				}
				
				if (allPlayers[whoIsActive].playerProfs.attackSpellLev==2){
					$( "#attackSpellProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.attackSpellProf + " / 90)" );
				}
				
				$( "#attackSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.attackSpellBar );
			}
			
			if (allPlayers[whoIsActive].playerProfs.attackSpellProf==20) {
			
				allPlayers[whoIsActive].playerProfs.attackSpellBar=0;
				allPlayers[whoIsActive].playerProfs.attackSpellLev=1;
				$( "#attackSpellProfLevLab" ).html( "Apprentice<br>(20 / 50)" );
				$( "#attackSpellProfBar" ).progressbar({value:0 , max:30});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.attackSpellProf==50) {
			
				allPlayers[whoIsActive].playerProfs.attackSpellBar=0;
				allPlayers[whoIsActive].playerProfs.attackSpellLev=2;
				$( "#attackSpellProfLevLab" ).html( "Adept (50 / 90)" );
				$( "#attackSpellProfBar" ).progressbar({value:0 , max:40});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.attackSpellProf==90) {
			
				
				allPlayers[whoIsActive].playerProfs.attackSpellLev=3;
				$( "#attackSpellProfLevLab" ).html( "Master" );
			
			}
			
			
		} //attackSpell
		
		
		//if matterSpell selected
		
		if (currProf==13) {
			
			if (allPlayers[whoIsActive].playerProfs.matterSpellLev==0) {
				
				allPlayers[whoIsActive].playerProfs.matterSpellProf++;
				$( "#matterSpellProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.matterSpellProf + " / 20)" );
				$( "#matterSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.matterSpellProf );
			}
			
			else if (allPlayers[whoIsActive].playerProfs.matterSpellLev>0) {
			
				allPlayers[whoIsActive].playerProfs.matterSpellProf++;
				allPlayers[whoIsActive].playerProfs.matterSpellBar++;
		
				if (allPlayers[whoIsActive].playerProfs.matterSpellLev==1) {
					$( "#matterSpellProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.matterSpellProf + " / 50)" );
				}
				
				if (allPlayers[whoIsActive].playerProfs.matterSpellLev==2){
					$( "#matterSpellProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.matterSpellProf + " / 90)" );
				}
				
				$( "#matterSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.matterSpellBar );
			}
			
			if (allPlayers[whoIsActive].playerProfs.matterSpellProf==20) {
			
				allPlayers[whoIsActive].playerProfs.matterSpellBar=0;
				allPlayers[whoIsActive].playerProfs.matterSpellLev=1;
				$( "#matterSpellProfLevLab" ).html( "Apprentice<br>(20 / 50)" );
				$( "#matterSpellProfBar" ).progressbar({value:0 , max:30});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.matterSpellProf==50) {
			
				allPlayers[whoIsActive].playerProfs.matterSpellBar=0;
				allPlayers[whoIsActive].playerProfs.matterSpellLev=2;
				$( "#matterSpellProfLevLab" ).html( "Adept (50 / 90)" );
				$( "#matterSpellProfBar" ).progressbar({value:0 , max:40});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.matterSpellProf==90) {
			
				
				allPlayers[whoIsActive].playerProfs.matterSpellLev=3;
				$( "#matterSpellProfLevLab" ).html( "Master" );
			
			}
			
			
		} //matterSpell
		
		
		//if divinationSpell selected
		
		if (currProf==14) {
			
			if (allPlayers[whoIsActive].playerProfs.divinationSpellLev==0) {
				
				allPlayers[whoIsActive].playerProfs.divinationSpellProf++;
				$( "#divinationSpellProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.divinationSpellProf + " / 20)" );
				$( "#divinationSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.divinationSpellProf );
			}
			
			else if (allPlayers[whoIsActive].playerProfs.divinationSpellLev>0) {
			
				allPlayers[whoIsActive].playerProfs.divinationSpellProf++;
				allPlayers[whoIsActive].playerProfs.divinationSpellBar++;
		
				if (allPlayers[whoIsActive].playerProfs.divinationSpellLev==1) {
					$( "#divinationSpellProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.divinationSpellProf + " / 50)" );
				}
				
				if (allPlayers[whoIsActive].playerProfs.divinationSpellLev==2){
					$( "#divinationSpellProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.divinationSpellProf + " / 90)" );
				}
				
				$( "#divinationSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.divinationSpellBar );
			}
			
			if (allPlayers[whoIsActive].playerProfs.divinationSpellProf==20) {
			
				allPlayers[whoIsActive].playerProfs.divinationSpellBar=0;
				allPlayers[whoIsActive].playerProfs.divinationSpellLev=1;
				$( "#divinationSpellProfLevLab" ).html( "Apprentice<br>(20 / 50)" );
				$( "#divinationSpellProfBar" ).progressbar({value:0 , max:30});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.divinationSpellProf==50) {
			
				allPlayers[whoIsActive].playerProfs.divinationSpellBar=0;
				allPlayers[whoIsActive].playerProfs.divinationSpellLev=2;
				$( "#divinationSpellProfLevLab" ).html( "Adept (50 / 90)" );
				$( "#divinationSpellProfBar" ).progressbar({value:0 , max:40});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.divinationSpellProf==90) {
			
				
				allPlayers[whoIsActive].playerProfs.divinationSpellLev=3;
				$( "#divinationSpellProfLevLab" ).html( "Master" );
			
			}
			
			
		} //divinationSpell
		
		
		//if clericalSpell selected
		
		if (currProf==15) {
			
			if (allPlayers[whoIsActive].playerProfs.clericalSpellLev==0) {
				
				allPlayers[whoIsActive].playerProfs.clericalSpellProf++;
				$( "#clericalSpellProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.clericalSpellProf + " / 20)" );
				$( "#clericalSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.clericalSpellProf );
			}
			
			else if (allPlayers[whoIsActive].playerProfs.clericalSpellLev>0) {
			
				allPlayers[whoIsActive].playerProfs.clericalSpellProf++;
				allPlayers[whoIsActive].playerProfs.clericalSpellBar++;
		
				if (allPlayers[whoIsActive].playerProfs.clericalSpellLev==1) {
					$( "#clericalSpellProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.clericalSpellProf + " / 50)" );
				}
				
				if (allPlayers[whoIsActive].playerProfs.clericalSpellLev==2){
					$( "#clericalSpellProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.clericalSpellProf + " / 90)" );
				}
				
				$( "#clericalSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.clericalSpellBar );
			}
			
			if (allPlayers[whoIsActive].playerProfs.clericalSpellProf==20) {
			
				allPlayers[whoIsActive].playerProfs.clericalSpellBar=0;
				allPlayers[whoIsActive].playerProfs.clericalSpellLev=1;
				$( "#clericalSpellProfLevLab" ).html( "Apprentice<br>(20 / 50)" );
				$( "#clericalSpellProfBar" ).progressbar({value:0 , max:30});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.clericalSpellProf==50) {
			
				allPlayers[whoIsActive].playerProfs.clericalSpellBar=0;
				allPlayers[whoIsActive].playerProfs.clericalSpellLev=2;
				$( "#clericalSpellProfLevLab" ).html( "Adept (50 / 90)" );
				$( "#clericalSpellProfBar" ).progressbar({value:0 , max:40});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.clericalSpellProf==90) {
			
				
				allPlayers[whoIsActive].playerProfs.clericalSpellLev=3;
				$( "#clericalSpellProfLevLab" ).html( "Master" );
			
			}
			
			
		} //clericalSpell
		
		
		//if enchantmentSpell selected
		
		if (currProf==16) {
			
			if (allPlayers[whoIsActive].playerProfs.enchantmentSpellLev==0) {
				
				allPlayers[whoIsActive].playerProfs.enchantmentSpellProf++;
				$( "#enchantmentSpellProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.enchantmentSpellProf + " / 20)" );
				$( "#enchantmentSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.enchantmentSpellProf );
			}
			
			else if (allPlayers[whoIsActive].playerProfs.enchantmentSpellLev>0) {
			
				allPlayers[whoIsActive].playerProfs.enchantmentSpellProf++;
				allPlayers[whoIsActive].playerProfs.enchantmentSpellBar++;
		
				if (allPlayers[whoIsActive].playerProfs.enchantmentSpellLev==1) {
					$( "#enchantmentSpellProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.enchantmentSpellProf + " / 50)" );
				}
				
				if (allPlayers[whoIsActive].playerProfs.enchantmentSpellLev==2){
					$( "#enchantmentSpellProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.enchantmentSpellProf + " / 90)" );
				}
				
				$( "#enchantmentSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.enchantmentSpellBar );
			}
			
			if (allPlayers[whoIsActive].playerProfs.enchantmentSpellProf==20) {
			
				allPlayers[whoIsActive].playerProfs.enchantmentSpellBar=0;
				allPlayers[whoIsActive].playerProfs.enchantmentSpellLev=1;
				$( "#enchantmentSpellProfLevLab" ).html( "Apprentice<br>(20 / 50)" );
				$( "#enchantmentSpellProfBar" ).progressbar({value:0 , max:30});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.enchantmentSpellProf==50) {
			
				allPlayers[whoIsActive].playerProfs.enchantmentSpellBar=0;
				allPlayers[whoIsActive].playerProfs.enchantmentSpellLev=2;
				$( "#enchantmentSpellProfLevLab" ).html( "Adept (50 / 90)" );
				$( "#enchantmentSpellProfBar" ).progressbar({value:0 , max:40});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.enchantmentSpellProf==90) {
			
				
				allPlayers[whoIsActive].playerProfs.enchantmentSpellLev=3;
				$( "#enchantmentSpellProfLevLab" ).html( "Master" );
			
			}
			
			
		} //enchantmentSpell
		
		
		//if healingSpell selected
		
		if (currProf==17) {
			
			if (allPlayers[whoIsActive].playerProfs.healingSpellLev==0) {
				
				allPlayers[whoIsActive].playerProfs.healingSpellProf++;
				$( "#healingSpellProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.healingSpellProf + " / 20)" );
				$( "#healingSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.healingSpellProf );
			}
			
			else if (allPlayers[whoIsActive].playerProfs.healingSpellLev>0) {
			
				allPlayers[whoIsActive].playerProfs.healingSpellProf++;
				allPlayers[whoIsActive].playerProfs.healingSpellBar++;
		
				if (allPlayers[whoIsActive].playerProfs.healingSpellLev==1) {
					$( "#healingSpellProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.healingSpellProf + " / 50)" );
				}
				
				if (allPlayers[whoIsActive].playerProfs.healingSpellLev==2){
					$( "#healingSpellProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.healingSpellProf + " / 90)" );
				}
				
				$( "#healingSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.healingSpellBar );
			}
			
			if (allPlayers[whoIsActive].playerProfs.healingSpellProf==20) {
			
				allPlayers[whoIsActive].playerProfs.healingSpellBar=0;
				allPlayers[whoIsActive].playerProfs.healingSpellLev=1;
				$( "#healingSpellProfLevLab" ).html( "Apprentice<br>(20 / 50)" );
				$( "#healingSpellProfBar" ).progressbar({value:0 , max:30});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.healingSpellProf==50) {
			
				allPlayers[whoIsActive].playerProfs.healingSpellBar=0;
				allPlayers[whoIsActive].playerProfs.healingSpellLev=2;
				$( "#healingSpellProfLevLab" ).html( "Adept (50 / 90)" );
				$( "#healingSpellProfBar" ).progressbar({value:0 , max:40});
			
			}
			
			if (allPlayers[whoIsActive].playerProfs.healingSpellProf==90) {
			
				
				allPlayers[whoIsActive].playerProfs.healingSpellLev=3;
				$( "#healingSpellProfLevLab" ).html( "Master" );
			
			}
			
			
		} //healingSpell
	
	} //if player exists
}

function profDec() {
}

$( "#daggerProfBar" ).progressbar({
	value: 0,
	max:20
});


$( "#axeProfBar" ).progressbar({
	value: 0,
	max:20
});

$( "#swordProfBar" ).progressbar({
	value: 0,
	max:20
});

$( "#bludgeonProfBar" ).progressbar({
	value: 0,
	max:20
});

$( "#staffProfBar" ).progressbar({
	value: 0,
	max:20
});

$( "#spearProfBar" ).progressbar({
	value: 0,
	max:20
});

$( "#polearmProfBar" ).progressbar({
	value: 0,
	max:20
});

$( "#bowProfBar" ).progressbar({
	value: 0,
	max:20
});

$( "#martialProfBar" ).progressbar({
	value: 0,
	max:20
});

$( "#barehandProfBar" ).progressbar({
	value: 0,
	max:20
});

$( "#augmentProfBar" ).progressbar({
	value: 0,
	max:20
});

$( "#mobilityProfBar" ).progressbar({
	value: 0,
	max:20
});

$( "#attackSpellProfBar" ).progressbar({
	value: 0,
	max:20
});

$( "#matterSpellProfBar" ).progressbar({
	value: 0,
	max:20
});

$( "#divinationSpellProfBar" ).progressbar({
	value: 0,
	max:20
});

$( "#clericalSpellProfBar" ).progressbar({
	value: 0,
	max:20
});

$( "#enchantmentSpellProfBar" ).progressbar({
	value: 0,
	max:20
});

$( "#healingSpellProfBar" ).progressbar({
	value: 0,
	max:20
});

$("div.profGrid").find("div.profLabel").click(function( event ) {

	//alert("asdf");
	
	var tempStr=this.id;
	
	//alert(tempStr);
	
	$("#daggerProfBar").css("background-color", "white");
	$("#axeProfBar").css("background-color", "white");
	$("#swordProfBar").css("background-color", "white");
	$("#bludgeonProfBar").css("background-color", "white");
	$("#staffProfBar").css("background-color", "white");
	$("#spearProfBar").css("background-color", "white");
	$("#polearmProfBar").css("background-color", "white");
	$("#bowProfBar").css("background-color", "white");
	$("#martialProfBar").css("background-color", "white");
	$("#barehandProfBar").css("background-color", "white");
	$("#augmentProfBar").css("background-color", "white");
	$("#mobilityProfBar").css("background-color", "white");
	$("#attackSpellProfBar").css("background-color", "white");
	$("#matterSpellProfBar").css("background-color", "white");
	$("#divinationSpellProfBar").css("background-color", "white");
	$("#clericalSpellProfBar").css("background-color", "white");
	$("#enchantmentSpellProfBar").css("background-color", "white");
	$("#healingSpellProfBar").css("background-color", "white");
	
	$("#"+tempStr+"ProfBar").css("background-color", profBarColor);
	
	if (tempStr=="dagger") {
	
		currProf=0;
	}
	
	if (tempStr=="axe") {
	
		currProf=1;
	}
	
	if (tempStr=="sword") {
	
		currProf=2;
	}
	
	if (tempStr=="bludgeon") {
	
		currProf=3;
	}
	
	if (tempStr=="staff") {
	
		currProf=4;
	}
	
	if (tempStr=="spear") {
	
		currProf=5;
	}
	
	if (tempStr=="polearm") {
	
		currProf=6;
	}
	
	if (tempStr=="bow") {
	
		currProf=7;
	}
	
	if (tempStr=="martial") {
	
		currProf=8;
	}
	
	if (tempStr=="barehand") {
	
		currProf=9;
	}
	
	if (tempStr=="augment") {
	
		currProf=10;
	}
	
	if (tempStr=="mobility") {
	
		currProf=11;
	}
	
	if (tempStr=="attackSpell") {
	
		currProf=12;
	}
	
	if (tempStr=="matterSpell") {
	
		currProf=13;
	}
	
	if (tempStr=="divinationSpell") {
	
		currProf=14;
	}
	
	if (tempStr=="clericalSpell") {
	
		currProf=15;
	}
	
	if (tempStr=="enchantmentSpell") {
	
		currProf=16;
	}
	
	if (tempStr=="healingSpell") {
	
		currProf=17;
	}
	
});

$("#daggerProfBar").click(function(){

	currProf=0;
	
	
	$(this).css("background-color", profBarColor);
	
	$("#axeProfBar").css("background-color", "white");
	$("#swordProfBar").css("background-color", "white");
	$("#bludgeonProfBar").css("background-color", "white");
	$("#staffProfBar").css("background-color", "white");
	$("#spearProfBar").css("background-color", "white");
	$("#polearmProfBar").css("background-color", "white");
	$("#bowProfBar").css("background-color", "white");
	$("#martialProfBar").css("background-color", "white");
	$("#barehandProfBar").css("background-color", "white");
	$("#augmentProfBar").css("background-color", "white");
	$("#mobilityProfBar").css("background-color", "white");
	$("#attackSpellProfBar").css("background-color", "white");
	$("#matterSpellProfBar").css("background-color", "white");
	$("#divinationSpellProfBar").css("background-color", "white");
	$("#clericalSpellProfBar").css("background-color", "white");
	$("#enchantmentSpellProfBar").css("background-color", "white");
	$("#healingSpellProfBar").css("background-color", "white");
	
	
});

$("#axeProfBar").click(function(){

	currProf=1;

	$(this).css("background-color", profBarColor);
	
	$("#daggerProfBar").css("background-color", "white");
	$("#swordProfBar").css("background-color", "white");
	$("#bludgeonProfBar").css("background-color", "white");
	$("#staffProfBar").css("background-color", "white");
	$("#spearProfBar").css("background-color", "white");
	$("#polearmProfBar").css("background-color", "white");
	$("#bowProfBar").css("background-color", "white");
	$("#martialProfBar").css("background-color", "white");
	$("#barehandProfBar").css("background-color", "white");
	$("#augmentProfBar").css("background-color", "white");
	$("#mobilityProfBar").css("background-color", "white");
	$("#attackSpellProfBar").css("background-color", "white");
	$("#matterSpellProfBar").css("background-color", "white");
	$("#divinationSpellProfBar").css("background-color", "white");
	$("#clericalSpellProfBar").css("background-color", "white");
	$("#enchantmentSpellProfBar").css("background-color", "white");
	$("#healingSpellProfBar").css("background-color", "white");
	
});

$("#swordProfBar").click(function(){

	currProf=2;

	$(this).css("background-color", profBarColor);
	
	$("#daggerProfBar").css("background-color", "white");
	$("#axeProfBar").css("background-color", "white");
	$("#bludgeonProfBar").css("background-color", "white");
	$("#staffProfBar").css("background-color", "white");
	$("#spearProfBar").css("background-color", "white");
	$("#polearmProfBar").css("background-color", "white");
	$("#bowProfBar").css("background-color", "white");
	$("#martialProfBar").css("background-color", "white");
	$("#barehandProfBar").css("background-color", "white");
	$("#augmentProfBar").css("background-color", "white");
	$("#mobilityProfBar").css("background-color", "white");
	$("#attackSpellProfBar").css("background-color", "white");
	$("#matterSpellProfBar").css("background-color", "white");
	$("#divinationSpellProfBar").css("background-color", "white");
	$("#clericalSpellProfBar").css("background-color", "white");
	$("#enchantmentSpellProfBar").css("background-color", "white");
	$("#healingSpellProfBar").css("background-color", "white");
	
});

$("#bludgeonProfBar").click(function(){

	currProf=3;

	$(this).css("background-color", profBarColor);
	
	$("#daggerProfBar").css("background-color", "white");
	$("#axeProfBar").css("background-color", "white");
	$("#swordProfBar").css("background-color", "white");
	$("#staffProfBar").css("background-color", "white");
	$("#spearProfBar").css("background-color", "white");
	$("#polearmProfBar").css("background-color", "white");
	$("#bowProfBar").css("background-color", "white");
	$("#martialProfBar").css("background-color", "white");
	$("#barehandProfBar").css("background-color", "white");
	$("#augmentProfBar").css("background-color", "white");
	$("#mobilityProfBar").css("background-color", "white");
	$("#attackSpellProfBar").css("background-color", "white");
	$("#matterSpellProfBar").css("background-color", "white");
	$("#divinationSpellProfBar").css("background-color", "white");
	$("#clericalSpellProfBar").css("background-color", "white");
	$("#enchantmentSpellProfBar").css("background-color", "white");
	$("#healingSpellProfBar").css("background-color", "white");
	
});

$("#staffProfBar").click(function(){

	currProf=4;

	$(this).css("background-color", profBarColor);
	
	$("#daggerProfBar").css("background-color", "white");
	$("#axeProfBar").css("background-color", "white");
	$("#swordProfBar").css("background-color", "white");
	$("#bludgeonProfBar").css("background-color", "white");
	$("#spearProfBar").css("background-color", "white");
	$("#polearmProfBar").css("background-color", "white");
	$("#bowProfBar").css("background-color", "white");
	$("#martialProfBar").css("background-color", "white");
	$("#barehandProfBar").css("background-color", "white");
	$("#augmentProfBar").css("background-color", "white");
	$("#mobilityProfBar").css("background-color", "white");
	$("#attackSpellProfBar").css("background-color", "white");
	$("#matterSpellProfBar").css("background-color", "white");
	$("#divinationSpellProfBar").css("background-color", "white");
	$("#clericalSpellProfBar").css("background-color", "white");
	$("#enchantmentSpellProfBar").css("background-color", "white");
	$("#healingSpellProfBar").css("background-color", "white");
	
});

$("#spearProfBar").click(function(){

	currProf=5;

	$(this).css("background-color", profBarColor);
	
	$("#daggerProfBar").css("background-color", "white");
	$("#axeProfBar").css("background-color", "white");
	$("#swordProfBar").css("background-color", "white");
	$("#bludgeonProfBar").css("background-color", "white");
	$("#staffProfBar").css("background-color", "white");
	$("#polearmProfBar").css("background-color", "white");
	$("#bowProfBar").css("background-color", "white");
	$("#martialProfBar").css("background-color", "white");
	$("#barehandProfBar").css("background-color", "white");
	$("#augmentProfBar").css("background-color", "white");
	$("#mobilityProfBar").css("background-color", "white");
	$("#attackSpellProfBar").css("background-color", "white");
	$("#matterSpellProfBar").css("background-color", "white");
	$("#divinationSpellProfBar").css("background-color", "white");
	$("#clericalSpellProfBar").css("background-color", "white");
	$("#enchantmentSpellProfBar").css("background-color", "white");
	$("#healingSpellProfBar").css("background-color", "white");
	
});

$("#polearmProfBar").click(function(){

	currProf=6;

	$(this).css("background-color", profBarColor);
	
	$("#daggerProfBar").css("background-color", "white");
	$("#axeProfBar").css("background-color", "white");
	$("#swordProfBar").css("background-color", "white");
	$("#bludgeonProfBar").css("background-color", "white");
	$("#staffProfBar").css("background-color", "white");
	$("#spearProfBar").css("background-color", "white");
	$("#bowProfBar").css("background-color", "white");
	$("#martialProfBar").css("background-color", "white");
	$("#barehandProfBar").css("background-color", "white");
	$("#augmentProfBar").css("background-color", "white");
	$("#mobilityProfBar").css("background-color", "white");
	$("#attackSpellProfBar").css("background-color", "white");
	$("#matterSpellProfBar").css("background-color", "white");
	$("#divinationSpellProfBar").css("background-color", "white");
	$("#clericalSpellProfBar").css("background-color", "white");
	$("#enchantmentSpellProfBar").css("background-color", "white");
	$("#healingSpellProfBar").css("background-color", "white");
	
});

$("#bowProfBar").click(function(){

	currProf=7;

	$(this).css("background-color", profBarColor);
	
	$("#daggerProfBar").css("background-color", "white");
	$("#axeProfBar").css("background-color", "white");
	$("#swordProfBar").css("background-color", "white");
	$("#bludgeonProfBar").css("background-color", "white");
	$("#staffProfBar").css("background-color", "white");
	$("#spearProfBar").css("background-color", "white");
	$("#polearmProfBar").css("background-color", "white");
	$("#martialProfBar").css("background-color", "white");
	$("#barehandProfBar").css("background-color", "white");
	$("#augmentProfBar").css("background-color", "white");
	$("#mobilityProfBar").css("background-color", "white");
	$("#attackSpellProfBar").css("background-color", "white");
	$("#matterSpellProfBar").css("background-color", "white");
	$("#divinationSpellProfBar").css("background-color", "white");
	$("#clericalSpellProfBar").css("background-color", "white");
	$("#enchantmentSpellProfBar").css("background-color", "white");
	$("#healingSpellProfBar").css("background-color", "white");
	
});

$("#martialProfBar").click(function(){

	currProf=8;

	$(this).css("background-color", profBarColor);
	
	$("#daggerProfBar").css("background-color", "white");
	$("#axeProfBar").css("background-color", "white");
	$("#swordProfBar").css("background-color", "white");
	$("#bludgeonProfBar").css("background-color", "white");
	$("#staffProfBar").css("background-color", "white");
	$("#spearProfBar").css("background-color", "white");
	$("#polearmProfBar").css("background-color", "white");
	$("#bowProfBar").css("background-color", "white");
	$("#barehandProfBar").css("background-color", "white");
	$("#augmentProfBar").css("background-color", "white");
	$("#mobilityProfBar").css("background-color", "white");
	$("#attackSpellProfBar").css("background-color", "white");
	$("#matterSpellProfBar").css("background-color", "white");
	$("#divinationSpellProfBar").css("background-color", "white");
	$("#clericalSpellProfBar").css("background-color", "white");
	$("#enchantmentSpellProfBar").css("background-color", "white");
	$("#healingSpellProfBar").css("background-color", "white");
	
});

$("#barehandProfBar").click(function(){

	currProf=9;

	$(this).css("background-color", profBarColor);
	
	$("#daggerProfBar").css("background-color", "white");
	$("#axeProfBar").css("background-color", "white");
	$("#swordProfBar").css("background-color", "white");
	$("#bludgeonProfBar").css("background-color", "white");
	$("#staffProfBar").css("background-color", "white");
	$("#spearProfBar").css("background-color", "white");
	$("#polearmProfBar").css("background-color", "white");
	$("#bowProfBar").css("background-color", "white");
	$("#martialProfBar").css("background-color", "white");
	$("#augmentProfBar").css("background-color", "white");
	$("#mobilityProfBar").css("background-color", "white");
	$("#attackSpellProfBar").css("background-color", "white");
	$("#matterSpellProfBar").css("background-color", "white");
	$("#divinationSpellProfBar").css("background-color", "white");
	$("#clericalSpellProfBar").css("background-color", "white");
	$("#enchantmentSpellProfBar").css("background-color", "white");
	$("#healingSpellProfBar").css("background-color", "white");
	
});

$("#augmentProfBar").click(function(){

	currProf=10;

	$(this).css("background-color", profBarColor);
	
	$("#daggerProfBar").css("background-color", "white");
	$("#axeProfBar").css("background-color", "white");
	$("#swordProfBar").css("background-color", "white");
	$("#bludgeonProfBar").css("background-color", "white");
	$("#staffProfBar").css("background-color", "white");
	$("#spearProfBar").css("background-color", "white");
	$("#polearmProfBar").css("background-color", "white");
	$("#bowProfBar").css("background-color", "white");
	$("#martialProfBar").css("background-color", "white");
	$("#barehandProfBar").css("background-color", "white");
	$("#mobilityProfBar").css("background-color", "white");
	$("#attackSpellProfBar").css("background-color", "white");
	$("#matterSpellProfBar").css("background-color", "white");
	$("#divinationSpellProfBar").css("background-color", "white");
	$("#clericalSpellProfBar").css("background-color", "white");
	$("#enchantmentSpellProfBar").css("background-color", "white");
	$("#healingSpellProfBar").css("background-color", "white");
	
});

$("#mobilityProfBar").click(function(){

	currProf=11;

	$(this).css("background-color", profBarColor);
	
	$("#daggerProfBar").css("background-color", "white");
	$("#axeProfBar").css("background-color", "white");
	$("#swordProfBar").css("background-color", "white");
	$("#bludgeonProfBar").css("background-color", "white");
	$("#staffProfBar").css("background-color", "white");
	$("#spearProfBar").css("background-color", "white");
	$("#polearmProfBar").css("background-color", "white");
	$("#bowProfBar").css("background-color", "white");
	$("#martialProfBar").css("background-color", "white");
	$("#barehandProfBar").css("background-color", "white");
	$("#augmentProfBar").css("background-color", "white");
	$("#attackSpellProfBar").css("background-color", "white");
	$("#matterSpellProfBar").css("background-color", "white");
	$("#divinationSpellProfBar").css("background-color", "white");
	$("#clericalSpellProfBar").css("background-color", "white");
	$("#enchantmentSpellProfBar").css("background-color", "white");
	$("#healingSpellProfBar").css("background-color", "white");
	
});

$("#attackSpellProfBar").click(function(){

	currProf=12;

	$(this).css("background-color", profBarColor);
	
	$("#daggerProfBar").css("background-color", "white");
	$("#axeProfBar").css("background-color", "white");
	$("#swordProfBar").css("background-color", "white");
	$("#bludgeonProfBar").css("background-color", "white");
	$("#staffProfBar").css("background-color", "white");
	$("#spearProfBar").css("background-color", "white");
	$("#polearmProfBar").css("background-color", "white");
	$("#bowProfBar").css("background-color", "white");
	$("#martialProfBar").css("background-color", "white");
	$("#barehandProfBar").css("background-color", "white");
	$("#augmentProfBar").css("background-color", "white");
	$("#mobilityProfBar").css("background-color", "white");
	$("#matterSpellProfBar").css("background-color", "white");
	$("#divinationSpellProfBar").css("background-color", "white");
	$("#clericalSpellProfBar").css("background-color", "white");
	$("#enchantmentSpellProfBar").css("background-color", "white");
	$("#healingSpellProfBar").css("background-color", "white");
	
});

$("#matterSpellProfBar").click(function(){

	currProf=13;

	$(this).css("background-color", profBarColor);
	
	$("#daggerProfBar").css("background-color", "white");
	$("#axeProfBar").css("background-color", "white");
	$("#swordProfBar").css("background-color", "white");
	$("#bludgeonProfBar").css("background-color", "white");
	$("#staffProfBar").css("background-color", "white");
	$("#spearProfBar").css("background-color", "white");
	$("#polearmProfBar").css("background-color", "white");
	$("#bowProfBar").css("background-color", "white");
	$("#martialProfBar").css("background-color", "white");
	$("#barehandProfBar").css("background-color", "white");
	$("#augmentProfBar").css("background-color", "white");
	$("#mobilityProfBar").css("background-color", "white");
	$("#attackSpellProfBar").css("background-color", "white");
	$("#divinationSpellProfBar").css("background-color", "white");
	$("#clericalSpellProfBar").css("background-color", "white");
	$("#enchantmentSpellProfBar").css("background-color", "white");
	$("#healingSpellProfBar").css("background-color", "white");
	
});

$("#divinationSpellProfBar").click(function(){

	currProf=14;

	$(this).css("background-color", profBarColor);
	
	$("#daggerProfBar").css("background-color", "white");
	$("#axeProfBar").css("background-color", "white");
	$("#swordProfBar").css("background-color", "white");
	$("#bludgeonProfBar").css("background-color", "white");
	$("#staffProfBar").css("background-color", "white");
	$("#spearProfBar").css("background-color", "white");
	$("#polearmProfBar").css("background-color", "white");
	$("#bowProfBar").css("background-color", "white");
	$("#martialProfBar").css("background-color", "white");
	$("#barehandProfBar").css("background-color", "white");
	$("#augmentProfBar").css("background-color", "white");
	$("#mobilityProfBar").css("background-color", "white");
	$("#attackSpellProfBar").css("background-color", "white");
	$("#matterSpellProfBar").css("background-color", "white");
	$("#clericalSpellProfBar").css("background-color", "white");
	$("#enchantmentSpellProfBar").css("background-color", "white");
	$("#healingSpellProfBar").css("background-color", "white");
	
});

$("#clericalSpellProfBar").click(function(){

	currProf=15;

	$(this).css("background-color", profBarColor);
	
	$("#daggerProfBar").css("background-color", "white");
	$("#axeProfBar").css("background-color", "white");
	$("#swordProfBar").css("background-color", "white");
	$("#bludgeonProfBar").css("background-color", "white");
	$("#staffProfBar").css("background-color", "white");
	$("#spearProfBar").css("background-color", "white");
	$("#polearmProfBar").css("background-color", "white");
	$("#bowProfBar").css("background-color", "white");
	$("#martialProfBar").css("background-color", "white");
	$("#barehandProfBar").css("background-color", "white");
	$("#augmentProfBar").css("background-color", "white");
	$("#mobilityProfBar").css("background-color", "white");
	$("#attackSpellProfBar").css("background-color", "white");
	$("#matterSpellProfBar").css("background-color", "white");
	$("#divinationSpellProfBar").css("background-color", "white");
	$("#enchantmentSpellProfBar").css("background-color", "white");
	$("#healingSpellProfBar").css("background-color", "white");
	
});

$("#enchantmentSpellProfBar").click(function(){

	currProf=16;

	$(this).css("background-color", profBarColor);
	
	$("#daggerProfBar").css("background-color", "white");
	$("#axeProfBar").css("background-color", "white");
	$("#swordProfBar").css("background-color", "white");
	$("#bludgeonProfBar").css("background-color", "white");
	$("#staffProfBar").css("background-color", "white");
	$("#spearProfBar").css("background-color", "white");
	$("#polearmProfBar").css("background-color", "white");
	$("#bowProfBar").css("background-color", "white");
	$("#martialProfBar").css("background-color", "white");
	$("#barehandProfBar").css("background-color", "white");
	$("#augmentProfBar").css("background-color", "white");
	$("#mobilityProfBar").css("background-color", "white");
	$("#attackSpellProfBar").css("background-color", "white");
	$("#matterSpellProfBar").css("background-color", "white");
	$("#divinationSpellProfBar").css("background-color", "white");
	$("#clericalSpellProfBar").css("background-color", "white");
	$("#healingSpellProfBar").css("background-color", "white");
	
});

$("#healingSpellProfBar").click(function(){

	currProf=17;

	$(this).css("background-color", profBarColor);
	
	$("#daggerProfBar").css("background-color", "white");
	$("#axeProfBar").css("background-color", "white");
	$("#swordProfBar").css("background-color", "white");
	$("#bludgeonProfBar").css("background-color", "white");
	$("#staffProfBar").css("background-color", "white");
	$("#spearProfBar").css("background-color", "white");
	$("#polearmProfBar").css("background-color", "white");
	$("#bowProfBar").css("background-color", "white");
	$("#martialProfBar").css("background-color", "white");
	$("#barehandProfBar").css("background-color", "white");
	$("#augmentProfBar").css("background-color", "white");
	$("#mobilityProfBar").css("background-color", "white");
	$("#attackSpellProfBar").css("background-color", "white");
	$("#matterSpellProfBar").css("background-color", "white");
	$("#divinationSpellProfBar").css("background-color", "white");
	$("#clericalSpellProfBar").css("background-color", "white");
	$("#enchantmentSpellProfBar").css("background-color", "white");
	
});


$("#playerTabs").tabs({collapsible: true});
$("#playerMiscTabs").tabs({collapsible: true});

/*$(function() {
            $( "#playerTabs-5" ).tabs({
               heightStyle:"fill",
               collapsible:true,
               hide:"slideUp"
            });
         });*/

//when tab is clicked


$( "#playerTabs" ).tabs({
  beforeActivate: function( event, ui ) {
  
	
	var tabCmp=ui.newPanel.attr('id'); //for comparing tab id
	
	//alert(ui.newPanel.attr('id'));
	
	if (tabCmp=="playerTabs-1")
	{
		whoIsActive=0;

		updatePlayer();
	}
	
	if (tabCmp=="playerTabs-2")
	{
		whoIsActive=1;
		
		updatePlayer();
	}
	
	if (tabCmp=="playerTabs-3")
	{
		whoIsActive=2;
		
		updatePlayer();
	}
	
	if (tabCmp=="playerTabs-4")
	{
		whoIsActive=3;

		updatePlayer();
	}
	
	if (tabCmp=="playerTabs-5")
	{
		whoIsActive=4;
		
		updatePlayer();
	}	
	
	if (tabCmp=="playerTabs-6")
	{
		whoIsActive=5;
		
		updatePlayer();
	}
	
	if (tabCmp=="playerTabs-7")
	{
		whoIsActive=6;
		
		updatePlayer();
		
	}
	
	if (tabCmp=="playerTabs-8")
	{
		whoIsActive=7;
		updatePlayer();
	}
	
	if (tabCmp=="playerTabs-9")
	{
		whoIsActive=8;
		updatePlayer();
	}
	
	//reset prof bars
	currProf=-1;
	$("#daggerProfBar").css("background-color", "white");
	$("#axeProfBar").css("background-color", "white");
	$("#swordProfBar").css("background-color", "white");
	$("#bludgeonProfBar").css("background-color", "white");
	$("#staffProfBar").css("background-color", "white");
	$("#spearProfBar").css("background-color", "white");
	$("#polearmProfBar").css("background-color", "white");
	$("#bowProfBar").css("background-color", "white");
	$("#martialProfBar").css("background-color", "white");
	$("#barehandProfBar").css("background-color", "white");
	$("#augmentProfBar").css("background-color", "white");
	$("#mobilityProfBar").css("background-color", "white");
	$("#attackSpellProfBar").css("background-color", "white");
	$("#matterSpellProfBar").css("background-color", "white");
	$("#divinationSpellProfBar").css("background-color", "white");
	$("#clericalSpellProfBar").css("background-color", "white");
	$("#enchantmentSpellProfBar").css("background-color", "white");
	$("#healingSpellProfBar").css("background-color", "white");
	
	
	//clears spinner entries
	$("div.playerStatsGrid").find("input[type=\"spinner\"]").spinner("value", '');
	
	
  }
});

function updatePlayer(){

	//updatefunc

	var tempStyle;
	var armorACInt;
	var otherACInt;
	var tempStat;
	
	//if (allPlayers[whoIsActive].hasTitle==false) {
		//let tempName=buildPlayerName();
		//$('#playerTitle').html(tempName);
	//}
	
	
	
		
	
	if (allPlayers[whoIsActive].hasName!=true && allPlayers[whoIsActive].hasTitle==true) {
	
		let tempInt=whoIsActive;
		tempInt++;
		//tempInt=toString(tempInt);
	
		//$('#playerTitle').html("asdf");
		$('#playerTitle').html("<h2>Player " + tempInt + ", the " + allPlayers[whoIsActive].playerNameRace + " " + allPlayers[whoIsActive].playerNameClass + "</h2>");
	}
	
	else if (allPlayers[whoIsActive].hasTitle==true && allPlayers[whoIsActive].hasName==true){
	
		$('#playerTitle').html("<h2>" + allPlayers[whoIsActive].playerName + ", the " + allPlayers[whoIsActive].playerNameRace + " " + allPlayers[whoIsActive].playerNameClass + "</h2>");
	}
	
	else if (allPlayers[whoIsActive].hasName==true && allPlayers[whoIsActive].hasTitle!=true) {
	
		$('#playerTitle').html("<h2>" + allPlayers[whoIsActive].playerName + "</h2>");
	}
	
	else if (allPlayers[whoIsActive].hasName!=true && allPlayers[whoIsActive].hasTitle!=true){
		tempInt=whoIsActive+1;
		tempStyle="<h2>Player " + tempInt + "</h2>";
		$('#playerTitle').html(tempStyle);
	}
	
	//to do: if player does not exist blank everything...
		
	if (allPlayers[whoIsActive].playerExists==true) {
		
		tempStat="Level: " + allPlayers[whoIsActive].playerLevel;
		$('#levelLab').html(tempStat);
			
		tempStat="HP: " + allPlayers[whoIsActive].hpCurr;
		tempStat+=" / " + allPlayers[whoIsActive].hpMax;
		$('#playerHP').html(tempStat);
		
		tempStat="Energy: " + allPlayers[whoIsActive].energyCurr;
		tempStat+=" / " + allPlayers[whoIsActive].energyMax;
		$('#playerEnergy').html(tempStat);
		
		
		
		tempStat="Encumbrance: " + allPlayers[whoIsActive].weightCurr;
		tempStat+=" / " + allPlayers[whoIsActive].weightMax;
		
		if (allPlayers[whoIsActive].weightCurr>allPlayers[whoIsActive].weightMax) {
		
			if (allPlayers[whoIsActive].weightCurr<=(allPlayers[whoIsActive].weightMax*burdenedMod)) {
			
				tempStat+="<br>Burdened";
			}
			
			else if (allPlayers[whoIsActive].weightCurr>(allPlayers[whoIsActive].weightMax*burdenedMod) && allPlayers[whoIsActive].weightCurr<=(allPlayers[whoIsActive].weightMax*stressedMod)) {
			
				tempStat+="<br>Stressed";
			}
			
			else if (allPlayers[whoIsActive].weightCurr>(allPlayers[whoIsActive].weightMax*stressedMod) && allPlayers[whoIsActive].weightCurr<=(allPlayers[whoIsActive].weightMax*strainedMod)) {
			
				tempStat+="<br>Strained";
			}
			
			else if (allPlayers[whoIsActive].weightCurr>(allPlayers[whoIsActive].weightMax*strainedMod) && allPlayers[whoIsActive].weightCurr<=(allPlayers[whoIsActive].weightMax*overtaxedMod)) {
			
				tempStat+="<br>Overtaxed";
			}
			
			else if (allPlayers[whoIsActive].weightCurr>(allPlayers[whoIsActive].weightMax*overtaxedMod) && allPlayers[whoIsActive].weightCurr<=(allPlayers[whoIsActive].weightMax*overloadedMod)) {
			
				tempStat+="<br>Overloaded";
			}
		
		}//encumbered
		
		$('#playerEncumb').html(tempStat);
		
		
		
		tempStat="Strength: " + allPlayers[whoIsActive].strength;
		$('#playerStr').html(tempStat);
		
		tempStat="Dexterity: " + allPlayers[whoIsActive].dexterity;
		$('#playerDex').html(tempStat);
		
		tempStat="Intelligence: " + allPlayers[whoIsActive].intelligence;
		$('#playerInt').html(tempStat);
		
		tempStat="Wisdom: " + allPlayers[whoIsActive].wisdom;
		$('#playerWis').html(tempStat);
		
		tempStat="Constitution: " + allPlayers[whoIsActive].constitution;
		$('#playerCon').html(tempStat);
		
		
		
		
		
		
		tempStat="Hunger: " + allPlayers[whoIsActive].hunger;
		if (allPlayers[whoIsActive].hunger>satiatedHigh) {
			
			tempStat+="<br>Oversatiated";
		}
		else if (allPlayers[whoIsActive].hunger>=satiatedLow && allPlayers[whoIsActive].hunger<satiatedHigh) {
			
			tempStat+="<br>Satiated";
		}
		else if (allPlayers[whoIsActive].hunger>=hungryLow && allPlayers[whoIsActive].hunger<=hungryHigh) {
			
			tempStat+="<br>Hungry";
		}
		else if (allPlayers[whoIsActive].hunger>=weakLow && allPlayers[whoIsActive].hunger<=weakHigh) {
			
			tempStat+="<br>Weak";
		}
		else if (allPlayers[whoIsActive].hunger<=0) {
			
			tempStat+="<br>Starved";
		}
		$('#playerHunger').html(tempStat);
		
		
		
		
		tempStat="AC: " + allPlayers[whoIsActive].totalAC;
		armorACInt=allPlayers[whoIsActive].armorAC;
		tempStat+=" (+" + allPlayers[whoIsActive].armorAC +" from armor, +" + allPlayers[whoIsActive].otherAC + " other)";
		$('#playerAC').html(tempStat);
		
		//actions
		tempStat="Actions this turn: "; 
		if (allPlayers[whoIsActive].speed>=12 && allPlayers[whoIsActive].speed<24){
			tempStat+="1";
			allPlayers[whoIsActive].actions=1;
		}
		if (allPlayers[whoIsActive].speed>=24){
			tempStat+="2";
			allPlayers[whoIsActive].actions=2;
		}
		
		if (allPlayers[whoIsActive].speed<12){
			tempStat+="0";
			allPlayers[whoIsActive].actions=0;
		}
		
		$('#playerTurnAct').html(tempStat);
		
		tempStat="Luck: " + allPlayers[whoIsActive].luck;
		$("#playerLuck").html(tempStat);
		
		tempStat="Prayer: ";
		if (allPlayers[whoIsActive].prayTime>0) {
			tempStat+=allPlayers[whoIsActive].prayTime;
		}
		$("#prayTime").html(tempStat);
		
		//update passives
		
		if (allPlayers[whoIsActive].playerPassives.coldResist==1) {
			
			$("#coldResist").prop('checked', true);
			$("#coldResist").checkboxradio('refresh');
			
		}
		if (allPlayers[whoIsActive].playerPassives.coldResist==0) {
			
			$("#coldResist").prop('checked', false);
			$("#coldResist").checkboxradio('refresh');
			
		}
		
		
		//update profs
		
		if (allPlayers[whoIsActive].playerProfs.daggerLev==0) {
			
			$( "#daggerProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.daggerProf + " / 20)" );
			$( "#daggerProfBar" ).progressbar({value:0 , max:20});
			$( "#daggerProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.daggerProf );
			
		}
		
		if (allPlayers[whoIsActive].playerProfs.daggerLev==1) {
		
			$( "#daggerProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.daggerProf + " / 50)" );
			$( "#daggerProfBar" ).progressbar({value:0 , max:30});
			$( "#daggerProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.daggerBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.daggerLev==2) {
		
			$( "#daggerProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.daggerProf + " / 90)" );
			$( "#daggerProfBar" ).progressbar({value:0 , max:40});
			$( "#daggerProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.daggerBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.daggerLev==3) {
		
			$( "#daggerProfLevLab" ).html( "Master" );
			$( "#daggerProfBar" ).progressbar({value:1 , max:1});
			$( "#daggerProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.daggerBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.axeLev==0) {
			
			$( "#axeProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.axeProf + " / 20)" );
			$( "#axeProfBar" ).progressbar({value:0 , max:20});
			$( "#axeProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.axeProf );
			
		}
		
		if (allPlayers[whoIsActive].playerProfs.axeLev==1) {
		
			$( "#axeProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.axeProf + " / 50)" );
			$( "#axeProfBar" ).progressbar({value:0 , max:30});
			$( "#axeProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.axeBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.axeLev==2) {
		
			$( "#axeProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.axeProf + " / 90)" );
			$( "#axeProfBar" ).progressbar({value:0 , max:40});
			$( "#axeProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.axeBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.axeLev==3) {
		
			$( "#axeProfLevLab" ).html( "Master" );
			$( "#axeProfBar" ).progressbar({value:1 , max:1});
			$( "#axeProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.axeBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.swordLev==0) {
			
			$( "#swordProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.swordProf + " / 20)" );
			$( "#swordProfBar" ).progressbar({value:0 , max:20});
			$( "#swordProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.swordProf );
			
		}
		
		if (allPlayers[whoIsActive].playerProfs.swordLev==1) {
		
			$( "#swordProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.swordProf + " / 50)" );
			$( "#swordProfBar" ).progressbar({value:0 , max:30});
			$( "#swordProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.swordBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.swordLev==2) {
		
			$( "#swordProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.swordProf + " / 90)" );
			$( "#swordProfBar" ).progressbar({value:0 , max:40});
			$( "#swordProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.swordBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.swordLev==3) {
		
			$( "#swordProfLevLab" ).html( "Master" );
			$( "#swordProfBar" ).progressbar({value:1 , max:1});
			$( "#swordProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.swordBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.bludgeonLev==0) {
			
			$( "#bludgeonProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.bludgeonProf + " / 20)" );
			$( "#bludgeonProfBar" ).progressbar({value:0 , max:20});
			$( "#bludgeonProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.bludgeonProf );
			
		}
		
		if (allPlayers[whoIsActive].playerProfs.bludgeonLev==1) {
		
			$( "#bludgeonProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.bludgeonProf + " / 50)" );
			$( "#bludgeonProfBar" ).progressbar({value:0 , max:30});
			$( "#bludgeonProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.bludgeonBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.bludgeonLev==2) {
		
			$( "#bludgeonProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.bludgeonProf + " / 90)" );
			$( "#bludgeonProfBar" ).progressbar({value:0 , max:40});
			$( "#bludgeonProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.bludgeonBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.bludgeonLev==3) {
		
			$( "#bludgeonProfLevLab" ).html( "Master" );
			$( "#bludgeonProfBar" ).progressbar({value:1 , max:1});
			$( "#bludgeonProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.bludgeonBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.staffLev==0) {
			
			$( "#staffProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.staffProf + " / 20)" );
			$( "#staffProfBar" ).progressbar({value:0 , max:20});
			$( "#staffProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.staffProf );
			
		}
		
		if (allPlayers[whoIsActive].playerProfs.staffLev==1) {
		
			$( "#staffProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.staffProf + " / 50)" );
			$( "#staffProfBar" ).progressbar({value:0 , max:30});
			$( "#staffProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.staffBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.staffLev==2) {
		
			$( "#staffProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.staffProf + " / 90)" );
			$( "#staffProfBar" ).progressbar({value:0 , max:40});
			$( "#staffProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.staffBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.staffLev==3) {
		
			$( "#staffProfLevLab" ).html( "Master" );
			$( "#staffProfBar" ).progressbar({value:1 , max:1});
			$( "#staffProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.staffBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.spearLev==0) {
			
			$( "#spearProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.spearProf + " / 20)" );
			$( "#spearProfBar" ).progressbar({value:0 , max:20});
			$( "#spearProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.spearProf );
			
		}
		
		if (allPlayers[whoIsActive].playerProfs.spearLev==1) {
		
			$( "#spearProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.spearProf + " / 50)" );
			$( "#spearProfBar" ).progressbar({value:0 , max:30});
			$( "#spearProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.spearBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.spearLev==2) {
		
			$( "#spearProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.spearProf + " / 90)" );
			$( "#spearProfBar" ).progressbar({value:0 , max:40});
			$( "#spearProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.spearBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.spearLev==3) {
		
			$( "#spearProfLevLab" ).html( "Master" );
			$( "#spearProfBar" ).progressbar({value:1 , max:1});
			$( "#spearProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.spearBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.polearmLev==0) {
			
			$( "#polearmProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.polearmProf + " / 20)" );
			$( "#polearmProfBar" ).progressbar({value:0 , max:20});
			$( "#polearmProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.polearmProf );
			
		}
		
		if (allPlayers[whoIsActive].playerProfs.polearmLev==1) {
		
			$( "#polearmProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.polearmProf + " / 50)" );
			$( "#polearmProfBar" ).progressbar({value:0 , max:30});
			$( "#polearmProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.polearmBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.polearmLev==2) {
		
			$( "#polearmProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.polearmProf + " / 90)" );
			$( "#polearmProfBar" ).progressbar({value:0 , max:40});
			$( "#polearmProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.polearmBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.polearmLev==3) {
		
			$( "#polearmProfLevLab" ).html( "Master" );
			$( "#polearmProfBar" ).progressbar({value:1 , max:1});
			$( "#polearmProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.polearmBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.bowLev==0) {
			
			$( "#bowProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.bowProf + " / 20)" );
			$( "#bowProfBar" ).progressbar({value:0 , max:20});
			$( "#bowProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.bowProf );
			
		}
		
		if (allPlayers[whoIsActive].playerProfs.bowLev==1) {
		
			$( "#bowProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.bowProf + " / 50)" );
			$( "#bowProfBar" ).progressbar({value:0 , max:30});
			$( "#bowProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.bowBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.bowLev==2) {
		
			$( "#bowProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.bowProf + " / 90)" );
			$( "#bowProfBar" ).progressbar({value:0 , max:40});
			$( "#bowProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.bowBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.bowLev==3) {
		
			$( "#bowProfLevLab" ).html( "Master" );
			$( "#bowProfBar" ).progressbar({value:1 , max:1});
			$( "#bowProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.bowBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.martialLev==0) {
			
			$( "#martialProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.martialProf + " / 20)" );
			$( "#martialProfBar" ).progressbar({value:0 , max:20});
			$( "#martialProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.martialProf );
			
		}
		
		if (allPlayers[whoIsActive].playerProfs.martialLev==1) {
		
			$( "#martialProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.martialProf + " / 50)" );
			$( "#martialProfBar" ).progressbar({value:0 , max:30});
			$( "#martialProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.martialBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.martialLev==2) {
		
			$( "#martialProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.martialProf + " / 90)" );
			$( "#martialProfBar" ).progressbar({value:0 , max:40});
			$( "#martialProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.martialBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.martialLev==3) {
		
			$( "#martialProfLevLab" ).html( "Master" );
			$( "#martialProfBar" ).progressbar({value:1 , max:1});
			$( "#martialProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.martialBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.barehandLev==0) {
			
			$( "#barehandProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.barehandProf + " / 20)" );
			$( "#barehandProfBar" ).progressbar({value:0 , max:20});
			$( "#barehandProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.barehandProf );
			
		}
		
		if (allPlayers[whoIsActive].playerProfs.barehandLev==1) {
		
			$( "#barehandProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.barehandProf + " / 50)" );
			$( "#barehandProfBar" ).progressbar({value:0 , max:30});
			$( "#barehandProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.barehandBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.barehandLev==2) {
		
			$( "#barehandProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.barehandProf + " / 90)" );
			$( "#barehandProfBar" ).progressbar({value:0 , max:40});
			$( "#barehandProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.barehandBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.barehandLev==3) {
		
			$( "#barehandProfLevLab" ).html( "Master" );
			$( "#barehandProfBar" ).progressbar({value:1 , max:1});
			$( "#barehandProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.barehandBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.augmentLev==0) {
			
			$( "#augmentProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.augmentProf + " / 20)" );
			$( "#augmentProfBar" ).progressbar({value:0 , max:20});
			$( "#augmentProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.augmentProf );
			
		}
		
		if (allPlayers[whoIsActive].playerProfs.augmentLev==1) {
		
			$( "#augmentProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.augmentProf + " / 50)" );
			$( "#augmentProfBar" ).progressbar({value:0 , max:30});
			$( "#augmentProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.augmentBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.augmentLev==2) {
		
			$( "#augmentProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.augmentProf + " / 90)" );
			$( "#augmentProfBar" ).progressbar({value:0 , max:40});
			$( "#augmentProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.augmentBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.augmentLev==3) {
		
			$( "#augmentProfLevLab" ).html( "Master" );
			$( "#augmentProfBar" ).progressbar({value:1 , max:1});
			$( "#augmentProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.augmentBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.mobilityLev==0) {
			
			$( "#mobilityProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.mobilityProf + " / 20)" );
			$( "#mobilityProfBar" ).progressbar({value:0 , max:20});
			$( "#mobilityProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.mobilityProf );
			
		}
		
		if (allPlayers[whoIsActive].playerProfs.mobilityLev==1) {
		
			$( "#mobilityProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.mobilityProf + " / 50)" );
			$( "#mobilityProfBar" ).progressbar({value:0 , max:30});
			$( "#mobilityProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.mobilityBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.mobilityLev==2) {
		
			$( "#mobilityProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.mobilityProf + " / 90)" );
			$( "#mobilityProfBar" ).progressbar({value:0 , max:40});
			$( "#mobilityProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.mobilityBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.mobilityLev==3) {
		
			$( "#mobilityProfLevLab" ).html( "Master" );
			$( "#mobilityProfBar" ).progressbar({value:1 , max:1});
			$( "#mobilityProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.mobilityBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.attackSpellLev==0) {
			
			$( "#attackSpellProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.attackSpellProf + " / 20)" );
			$( "#attackSpellProfBar" ).progressbar({value:0 , max:20});
			$( "#attackSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.attackSpellProf );
			
		}
		
		if (allPlayers[whoIsActive].playerProfs.attackSpellLev==1) {
		
			$( "#attackSpellProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.attackSpellProf + " / 50)" );
			$( "#attackSpellProfBar" ).progressbar({value:0 , max:30});
			$( "#attackSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.attackSpellBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.attackSpellLev==2) {
		
			$( "#attackSpellProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.attackSpellProf + " / 90)" );
			$( "#attackSpellProfBar" ).progressbar({value:0 , max:40});
			$( "#attackSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.attackSpellBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.attackSpellLev==3) {
		
			$( "#attackSpellProfLevLab" ).html( "Master" );
			$( "#attackSpellProfBar" ).progressbar({value:1 , max:1});
			$( "#attackSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.attackSpellBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.matterSpellLev==0) {
			
			$( "#matterSpellProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.matterSpellProf + " / 20)" );
			$( "#matterSpellProfBar" ).progressbar({value:0 , max:20});
			$( "#matterSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.matterSpellProf );
			
		}
		
		if (allPlayers[whoIsActive].playerProfs.matterSpellLev==1) {
		
			$( "#matterSpellProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.matterSpellProf + " / 50)" );
			$( "#matterSpellProfBar" ).progressbar({value:0 , max:30});
			$( "#matterSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.matterSpellBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.matterSpellLev==2) {
		
			$( "#matterSpellProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.matterSpellProf + " / 90)" );
			$( "#matterSpellProfBar" ).progressbar({value:0 , max:40});
			$( "#matterSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.matterSpellBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.matterSpellLev==3) {
		
			$( "#matterSpellProfLevLab" ).html( "Master" );
			$( "#matterSpellProfBar" ).progressbar({value:1 , max:1});
			$( "#matterSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.matterSpellBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.divinationSpellLev==0) {
			
			$( "#divinationSpellProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.divinationSpellProf + " / 20)" );
			$( "#divinationSpellProfBar" ).progressbar({value:0 , max:20});
			$( "#divinationSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.divinationSpellProf );
			
		}
		
		if (allPlayers[whoIsActive].playerProfs.divinationSpellLev==1) {
		
			$( "#divinationSpellProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.divinationSpellProf + " / 50)" );
			$( "#divinationSpellProfBar" ).progressbar({value:0 , max:30});
			$( "#divinationSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.divinationSpellBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.divinationSpellLev==2) {
		
			$( "#divinationSpellProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.divinationSpellProf + " / 90)" );
			$( "#divinationSpellProfBar" ).progressbar({value:0 , max:40});
			$( "#divinationSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.divinationSpellBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.divinationSpellLev==3) {
		
			$( "#divinationSpellProfLevLab" ).html( "Master" );
			$( "#divinationSpellProfBar" ).progressbar({value:1 , max:1});
			$( "#divinationSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.divinationSpellBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.clericalSpellLev==0) {
			
			$( "#clericalSpellProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.clericalSpellProf + " / 20)" );
			$( "#clericalSpellProfBar" ).progressbar({value:0 , max:20});
			$( "#clericalSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.clericalSpellProf );
			
		}
		
		if (allPlayers[whoIsActive].playerProfs.clericalSpellLev==1) {
		
			$( "#clericalSpellProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.clericalSpellProf + " / 50)" );
			$( "#clericalSpellProfBar" ).progressbar({value:0 , max:30});
			$( "#clericalSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.clericalSpellBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.clericalSpellLev==2) {
		
			$( "#clericalSpellProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.clericalSpellProf + " / 90)" );
			$( "#clericalSpellProfBar" ).progressbar({value:0 , max:40});
			$( "#clericalSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.clericalSpellBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.clericalSpellLev==3) {
		
			$( "#clericalSpellProfLevLab" ).html( "Master" );
			$( "#clericalSpellProfBar" ).progressbar({value:1 , max:1});
			$( "#clericalSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.clericalSpellBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.enchantmentSpellLev==0) {
			
			$( "#enchantmentSpellProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.enchantmentSpellProf + " / 20)" );
			$( "#enchantmentSpellProfBar" ).progressbar({value:0 , max:20});
			$( "#enchantmentSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.enchantmentSpellProf );
			
		}
		
		if (allPlayers[whoIsActive].playerProfs.enchantmentSpellLev==1) {
		
			$( "#enchantmentSpellProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.enchantmentSpellProf + " / 50)" );
			$( "#enchantmentSpellProfBar" ).progressbar({value:0 , max:30});
			$( "#enchantmentSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.enchantmentSpellBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.enchantmentSpellLev==2) {
		
			$( "#enchantmentSpellProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.enchantmentSpellProf + " / 90)" );
			$( "#enchantmentSpellProfBar" ).progressbar({value:0 , max:40});
			$( "#enchantmentSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.enchantmentSpellBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.enchantmentSpellLev==3) {
		
			$( "#enchantmentSpellProfLevLab" ).html( "Master" );
			$( "#enchantmentSpellProfBar" ).progressbar({value:1 , max:1});
			$( "#enchantmentSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.enchantmentSpellBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.healingSpellLev==0) {
			
			$( "#healingSpellProfLevLab" ).html( "Novice (" + allPlayers[whoIsActive].playerProfs.healingSpellProf + " / 20)" );
			$( "#healingSpellProfBar" ).progressbar({value:0 , max:20});
			$( "#healingSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.healingSpellProf );
			
		}
		
		if (allPlayers[whoIsActive].playerProfs.healingSpellLev==1) {
		
			$( "#healingSpellProfLevLab" ).html( "Apprentice<br>(" + allPlayers[whoIsActive].playerProfs.healingSpellProf + " / 50)" );
			$( "#healingSpellProfBar" ).progressbar({value:0 , max:30});
			$( "#healingSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.healingSpellBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.healingSpellLev==2) {
		
			$( "#healingSpellProfLevLab" ).html( "Adept (" + allPlayers[whoIsActive].playerProfs.healingSpellProf + " / 90)" );
			$( "#healingSpellProfBar" ).progressbar({value:0 , max:40});
			$( "#healingSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.healingSpellBar );
		
		}
		
		if (allPlayers[whoIsActive].playerProfs.healingSpellLev==3) {
		
			$( "#healingSpellProfLevLab" ).html( "Master" );
			$( "#healingSpellProfBar" ).progressbar({value:1 , max:1});
			$( "#healingSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.healingSpellBar );
		
		}
	
	} //if exists
	
	/*$( "#daggerProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.daggerProf );
	$( "#axeProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.axeProf );
	$( "#swordProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.swordProf );
	$( "#bludgeonProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.bludgeonProf );
	$( "#staffProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.staffProf );
	$( "#spearProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.spearProf );
	$( "#polearmProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.polearmProf );
	$( "#bowProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.bowProf );
	$( "#martialProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.martialProf );
	$( "#barehandProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.barehandProf );
	$( "#augmentProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.augmentProf );
	$( "#mobilityProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.mobilityProf );
	$( "#attackSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.attackSpellProf );
	$( "#matterSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.matterSpellProf );
	$( "#divinationSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.divinationSpellProf );
	$( "#clericalSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.clericalSpellProf );
	$( "#enchantmentSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.enchantmentSpellProf );
	$( "#healingSpellProfBar" ).progressbar( "value", allPlayers[whoIsActive].playerProfs.healingSpellProf );*/
	

}

$("#player1NameEntry").keyup(function(event) {


	var nameEnter = document.getElementById("player1NameEntry").value;

	
    if (event.keyCode === 13 && nameEnter!="") {
	
		
	
		//var nameStyle ="<h2>";
	
		//var nameEnter = document.getElementById("player1NameEntry").value;
	
        $("#player1NameEntry").click();
		
		
		
    
        $('#playerTabs ul:first li:eq('+whoIsActive+') a').text(nameEnter);
		
		//nameStyle += nameEnter;
		
		//nameStyle += ", the asdf asdf</h2>";
		
		allPlayers[whoIsActive].playerName=nameEnter;
		
		allPlayers[whoIsActive].hasName=true;
		
		updatePlayer();
		
		//if (allPlayers[whoIsActive].hasTitle==true)
			//$('#playerTitle').html(playerName);
		
		//player1Title.innerText = nameEnter;
		
		this.value=''; //empties text entry on enter
		
		
		
		//$(".head h3").html("your new header");
    }
	
	
	
});

$(document).ready(function changePlayerButtonText() {

	//var asdf=playerTest.test1;
	
	//var asdf=playerStuff.strength;
	
	//var asdf=1;
	
    //$("#tabs").tabs();
    
    $("#initPlayerBut").button().click(function(){
	
		//var asdf=rollDie(100, 1);
        //$('#tabs ul:first li:eq(0) a').text(asdf);
		
		var tempStat;
		
		tempStat="HP: " + allPlayers[whoIsActive].hpCurr;
		tempStat+=" / " + allPlayers[whoIsActive].hpMax;
		$('#playerHP').html(tempStat);
		
		tempStat="Energy: " + allPlayers[whoIsActive].energyCurr;
		tempStat+=" / " + allPlayers[whoIsActive].energyMax;
		$('#playerEnergy').html(tempStat);
		
		tempStat="Strength: " + allPlayers[whoIsActive].strength;
		$('#playerStr').html(tempStat);
		
		tempStat="Dexterity: " + allPlayers[whoIsActive].dexterity;
		$('#playerDex').html(tempStat);
		
		tempStat="Intelligence: " + allPlayers[whoIsActive].intelligence;
		$('#playerInt').html(tempStat);
		
		tempStat="Wisdom: " + allPlayers[whoIsActive].wisdom;
		$('#playerWis').html(tempStat);
		
		tempStat="Constitution: " + allPlayers[whoIsActive].constitution;
		$('#playerCon').html(tempStat);
    });
});

/*function myFunction() {
    var x = document.getElementById("myText").value;
    document.getElementById("demo").innerHTML = x;
}*/
/*$(function player1Name1() {

	$("#tabsa-1").hide();
	var status="asdf";
    $("#tabsa-1").document.getElementById('player1But').innerHTML=status;

});*/
</script>


<button id="player1But">asdf</button>
<script>

/*function tileTest() {

	var tempStr;
	
	var tempA=300;
	var tempB=300;
	
	var tile=0;
	
	tempA=roomGridArr[tile].a;
	tempB=roomGridArr[tile].b;
	
	tempStr= tempA + ", " + tempB;

	alert(tempStr);

}*/


</script>

<div id="turnCount">Turn: </div>



<div id="dungeonTabs">
	<h2>Dungeon</h2>
  <ul>
    <li><a href="#dungeonTabs-1">Floors</a></li>
    <li><a href="#dungeonTabs-2">Room</a></li>
	<li><a href="#dungeonTabs-3">Item ID</a></li>
  </ul>
  <div id="dungeonTabs-1">
	<div class="floorGrid">

			<h3 id="floorLab">Floor 1</h3>
			<div class="floorButCont"><button id="createFloorBut" class="createFloor">Create Floor</button><button id="saveFloorBut" class="createFloor">Save Floor</button><button id="floorDecBut">-</button><button id="floorIncBut">+</button></div>
			<br><br>


					<div class="floorContainer">
						<button id="floor0"></button>
						<button id="floor1"></button>
						<button id="floor2"></button>
						<button id="floor3"></button>
						<button id="floor4"></button>
						<button id="floor5"></button>
						<button id="floor6"></button>
						<button id="floor7"></button>
						<button id="floor8"></button>
						<button id="floor9"></button>
						<button id="floor10"></button>
						<button id="floor11"></button>
						<button id="floor12"></button>
						<button id="floor13"></button>
						<button id="floor14"></button>
						<button id="floor15"></button>
						<button id="floor16"></button>
						<button id="floor17"></button>
						<button id="floor18"></button>
						<button id="floor19"></button>
					</div>
		
					<br>Edit Floor Tile:<br><br>
					<div class="floorEdit">
						<div class="floorEditGrid1">
						<button class="floorEditBut" id="editFloor1"></button>
						<button class="floorEditBut" id="editFloor2"></button>
						<button class="floorEditBut" id="editFloor3"></button>
						<button class="floorEditBut" id="editFloor4"></button>
						<button class="floorEditBut" id="editFloor5"></button>
						<button class="floorEditBut" id="editFloor6"></button>
						<button class="floorEditBut" id="editFloor7"></button>
						<button class="floorEditBut" id="editFloor8"></button>
						<button class="floorEditBut" id="editFloor9"></button>
						<button class="floorEditBut" id="editFloor10"></button>
						<button class="floorEditBut" id="editFloor11"></button>
						<button class="floorEditBut" id="editFloor12"></button>
						</div>
					<br>
						<div class="floorEditGrid2">
						<button id="editFloor13"><br></button>
						<button id="editFloor14"><br></button>
						<button id="editFloor15"></button>
						<button id="editFloor16"></button>
						<button id="editFloor17"><br><br></button>
						<button id="editFloor18"></button>
						<button id="editFloor19"><br></button>
						<button id="editFloor20"><br></button>
						<button id="editFloor21"><br></button>
						<button id="editFloor22"><br></button>
						<button id="editFloor23"><br></button>
						<button id="editFloor24"><br><br></button>
						<button id="editFloor25"><br></button>
						<button id="editFloor26"><br><br></button>
						<button id="editFloor27"><br><br></button>
						</div>
					</div>
			
		</div>
	</div>
	<div id="dungeonTabs-2">
	
		<div class="roomGridClass">
			<button id="createRoomBut">Create Room</button>
			<div class="controlgroup">
				<div class="menu-container">
					<div class="roomContainer">
						<button id="roomTile0"> </button>
						<button id="roomTile1"> </button>
						<button id="roomTile2"> </button>
						<button id="roomTile3"> </button>
						<button id="roomTile4"> </button>
						<button id="roomTile5"> </button>
						<button id="roomTile6"> </button>
						<button id="roomTile7"> </button>
						<button id="roomTile8"> </button>
						<button id="roomTile9"> </button>
						<button id="roomTile10"> </button>
						<button id="roomTile11"> </button>
						<button id="roomTile12"> </button>
						<button id="roomTile13"> </button>
						<button id="roomTile14"> </button>
						<button id="roomTile15"> </button>
						<button id="roomTile16"> </button>
						<button id="roomTile17"> </button>
						<button id="roomTile18"> </button>
						<button id="roomTile19"> </button>
						<button id="roomTile20"> </button>
						<button id="roomTile21"> </button>
						<button id="roomTile22"> </button>
						<button id="roomTile23"> </button>
						<button id="roomTile24"> </button>
						<button id="roomTile25"> </button>
						<button id="roomTile26"> </button>
						<button id="roomTile27"> </button>
						<button id="roomTile28"> </button>
						<button id="roomTile29"> </button>
						<button id="roomTile30"> </button>
						<button id="roomTile31"> </button>
						<button id="roomTile32"> </button>
						<button id="roomTile33"> </button>
						<button id="roomTile34"> </button>
						<button id="roomTile35"> </button>
						<button id="roomTile36"> </button>
						<button id="roomTile37"> </button>
						<button id="roomTile38"> </button>
						<button id="roomTile39"> </button>
						<button id="roomTile40"> </button>
						<button id="roomTile41"> </button>
						<button id="roomTile42"> </button>
						<button id="roomTile43"> </button>
						<button id="roomTile44"> </button>
						<button id="roomTile45"> </button>
						<button id="roomTile46"> </button>
						<button id="roomTile47"> </button>
						<button id="roomTile48"> </button>
						<button id="roomTile49"> </button>
						<button id="roomTile50"> </button>
						<button id="roomTile51"> </button>
						<button id="roomTile52"> </button>
						<button id="roomTile53"> </button>
						<button id="roomTile54"> </button>
						<button id="roomTile55"> </button>
						<button id="roomTile56"> </button>
						<button id="roomTile57"> </button>
						<button id="roomTile58"> </button>
						<button id="roomTile59"> </button>
						<button id="roomTile60"> </button>
						<button id="roomTile61"> </button>
						<button id="roomTile62"> </button>
						<button id="roomTile63"> </button>
						<button id="roomTile64"> </button>
						<button id="roomTile65"> </button>
						<button id="roomTile66"> </button>
						<button id="roomTile67"> </button>
						<button id="roomTile68"> </button>
						<button id="roomTile69"> </button>
						<button id="roomTile70"> </button>
						<button id="roomTile71"> </button>
						<button id="roomTile72"> </button>
						<button id="roomTile73"> </button>
						<button id="roomTile74"> </button>
						<button id="roomTile75"> </button>
						<button id="roomTile76"> </button>
						<button id="roomTile77"> </button>
						<button id="roomTile78"> </button>
						<button id="roomTile79"> </button>
						<button id="roomTile80"> </button>
						<button id="roomTile81"> </button>
						<button id="roomTile82"> </button>
						<button id="roomTile83"> </button>
						<button id="roomTile84"> </button>
						<button id="roomTile85"> </button>
						<button id="roomTile86"> </button>
						<button id="roomTile87"> </button>
						<button id="roomTile88"> </button>
						<button id="roomTile89"> </button>
						<button id="roomTile90"> </button>
						<button id="roomTile91"> </button>
						<button id="roomTile92"> </button>
						<button id="roomTile93"> </button>
						<button id="roomTile94"> </button>
						<button id="roomTile95"> </button>
						<button id="roomTile96"> </button>
						<button id="roomTile97"> </button>
						<button id="roomTile98"> </button>
						<button id="roomTile99"> </button>
						<button id="roomTile100"> </button>
						<button id="roomTile101"> </button>
						<button id="roomTile102"> </button>
						<button id="roomTile103"> </button>
						<button id="roomTile104"> </button>
						<button id="roomTile105"> </button>
						<button id="roomTile106"> </button>
						<button id="roomTile107"> </button>
						<button id="roomTile108"> </button>
						<button id="roomTile109"> </button>
						<button id="roomTile110"> </button>
						<button id="roomTile111"> </button>
						<button id="roomTile112"> </button>
						<button id="roomTile113"> </button>
						<button id="roomTile114"> </button>
						<button id="roomTile115"> </button>
						<button id="roomTile116"> </button>
						<button id="roomTile117"> </button>
						<button id="roomTile118"> </button>
						<button id="roomTile119"> </button>
						<button id="roomTile120"> </button>
						<button id="roomTile121"> </button>
						<button id="roomTile122"> </button>
						<button id="roomTile123"> </button>
						<button id="roomTile124"> </button>
						<button id="roomTile125"> </button>
						<button id="roomTile126"> </button>
						<button id="roomTile127"> </button>
						<button id="roomTile128"> </button>
						<button id="roomTile129"> </button>
						<button id="roomTile130"> </button>
						<button id="roomTile131"> </button>
						<button id="roomTile132"> </button>
						<button id="roomTile133"> </button>
						<button id="roomTile134"> </button>
						<button id="roomTile135"> </button>
						<button id="roomTile136"> </button>
						<button id="roomTile137"> </button>
						<button id="roomTile138"> </button>
						<button id="roomTile139"> </button>
						<button id="roomTile140"> </button>
						<button id="roomTile141"> </button>
						<button id="roomTile142"> </button>
						<button id="roomTile143"> </button>
						<button id="roomTile144"> </button>
						<button id="roomTile145"> </button>
						<button id="roomTile146"> </button>
						<button id="roomTile147"> </button>
						<button id="roomTile148"> </button>
						<button id="roomTile149"> </button>
						<button id="roomTile150"> </button>
						<button id="roomTile151"> </button>
						<button id="roomTile152"> </button>
						<button id="roomTile153"> </button>
						<button id="roomTile154"> </button>
						<button id="roomTile155"> </button>
						<button id="roomTile156"> </button>
						<button id="roomTile157"> </button>
						<button id="roomTile158"> </button>
						<button id="roomTile159"> </button>
						<button id="roomTile160"> </button>
						<button id="roomTile161"> </button>
						<button id="roomTile162"> </button>
						<button id="roomTile163"> </button>
						<button id="roomTile164"> </button>
						<button id="roomTile165"> </button>
						<button id="roomTile166"> </button>
						<button id="roomTile167"> </button>
						<button id="roomTile168"> </button>
						<button id="roomTile169"> </button>
						<button id="roomTile170"> </button>
						<button id="roomTile171"> </button>
						<button id="roomTile172"> </button>
						<button id="roomTile173"> </button>
						<button id="roomTile174"> </button>
						<button id="roomTile175"> </button>
						<button id="roomTile176"> </button>
						<button id="roomTile177"> </button>
						<button id="roomTile178"> </button>
						<button id="roomTile179"> </button>
						<button id="roomTile180"> </button>
						<button id="roomTile181"> </button>
						<button id="roomTile182"> </button>
						<button id="roomTile183"> </button>
						<button id="roomTile184"> </button>
						<button id="roomTile185"> </button>
						<button id="roomTile186"> </button>
						<button id="roomTile187"> </button>
						<button id="roomTile188"> </button>
						<button id="roomTile189"> </button>
						<button id="roomTile190"> </button>
						<button id="roomTile191"> </button>
						<button id="roomTile192"> </button>
						<button id="roomTile193"> </button>
						<button id="roomTile194"> </button>
						<button id="roomTile195"> </button>
						<button id="roomTile196"> </button>
						<button id="roomTile197"> </button>
						<button id="roomTile198"> </button>
						<button id="roomTile199"> </button>
						<button id="roomTile200"> </button>
						<button id="roomTile201"> </button>
						<button id="roomTile202"> </button>
						<button id="roomTile203"> </button>
						<button id="roomTile204"> </button>
						<button id="roomTile205"> </button>
						<button id="roomTile206"> </button>
						<button id="roomTile207"> </button>
						<button id="roomTile208"> </button>
						<button id="roomTile209"> </button>
						<button id="roomTile210"> </button>
						<button id="roomTile211"> </button>
						<button id="roomTile212"> </button>
						<button id="roomTile213"> </button>
						<button id="roomTile214"> </button>
						<button id="roomTile215"> </button>
						<button id="roomTile216"> </button>
						<button id="roomTile217"> </button>
						<button id="roomTile218"> </button>
						<button id="roomTile219"> </button>
						<button id="roomTile220"> </button>
						<button id="roomTile221"> </button>
						<button id="roomTile222"> </button>
						<button id="roomTile223"> </button>
						<button id="roomTile224"> </button>
						<button id="roomTile225"> </button>
						<button id="roomTile226"> </button>
						<button id="roomTile227"> </button>
						<button id="roomTile228"> </button>
						<button id="roomTile229"> </button>
						<button id="roomTile230"> </button>
						<button id="roomTile231"> </button>
						<button id="roomTile232"> </button>
						<button id="roomTile233"> </button>
						<button id="roomTile234"> </button>
						<button id="roomTile235"> </button>
						<button id="roomTile236"> </button>
						<button id="roomTile237"> </button>
						<button id="roomTile238"> </button>
						<button id="roomTile239"> </button>
						<button id="roomTile240"> </button>
						<button id="roomTile241"> </button>
						<button id="roomTile242"> </button>
						<button id="roomTile243"> </button>
						<button id="roomTile244"> </button>
						<button id="roomTile245"> </button>
						<button id="roomTile246"> </button>
						<button id="roomTile247"> </button>
						<button id="roomTile248"> </button>
						<button id="roomTile249"> </button>
						<button id="roomTile250"> </button>
						<button id="roomTile251"> </button>
						<button id="roomTile252"> </button>
						<button id="roomTile253"> </button>
						<button id="roomTile254"> </button>
						<button id="roomTile255"></button>
					</div>
					<br>
					Entering from:
					<br>
					<div class="enterFromGrid">
						<button></button>
						<button id="enterN"></button>
						<button></button>
						<button id="enterW"></button>
						<button id="enterA">+</button>
						<button id="enterE"></button>
						<button></button>
						<button id="enterS"></button>
						<button></button>
					</div>
					<br>
					<div id="roomStuffTabs">
					  <ul>
						<li><a href="#roomStuffTabs-1">Monsters</a></li>
						<li><a href="#roomStuffTabs-2">Items</a></li>
						<li><a href="#roomStuffTabs-3">Traps</a></li>
					  </ul>
					  <div id="roomStuffTabs-1">
						
					  </div>
					  
					  <!-- Items -->
					  <div id="roomStuffTabs-2">

						
					  </div>
					  
					  <!-- Traps -->
					  <div id="roomStuffTabs-3">
						
						
						
						
					  </div>
					</div>
				</div>
			</div>
		</div>
  
	</div>
	
	<div id="dungeonTabs-3">
		<div id="itemTabs">
			<ul>
				<li><a href="#itemTabs-1">Wands</a></li>
				<li><a href="#itemTabs-2">Scrolls</a></li>
				<li><a href="#itemTabs-3">Spellbooks</a></li>
				<li><a href="#itemTabs-4">Potions</a></li>
				<li><a href="#itemTabs-5">Robes</a></li>
				<li><a href="#itemTabs-6">Shoes</a></li>
				<li><a href="#itemTabs-7">Gloves</a></li>
				<li><a href="#itemTabs-8">Rings</a></li>
				<li><a href="#itemTabs-9">Amulets</a></li>
			 </ul>
			 <div id="itemTabs-1">
				<p id="wands"> </p>
			 </div>
			 <div id="itemTabs-2">
				<p id="scrolls"> </p>
			 </div>
			 <div id="itemTabs-3">
				<p id="spellbooks"> </p>
			 </div>
			 <div id="itemTabs-4">
				<p id="potions"> </p>
			 </div>
			 <div id="itemTabs-5">
				<p id="robes"> </p>
			 </div>
			 <div id="itemTabs-6">
				<p id="shoes"> </p>
			 </div>
			 <div id="itemTabs-7">
				<p id="gloves"> </p>
			 </div>
			 <div id="itemTabs-8">
				<p id="rings"> </p>
			 </div>
			 <div id="itemTabs-9">
				<p id="amulets"> </p>
			 </div>
		</div>
	</div>
</div>

<script>
$("#itemTabs").tabs({collapsible: true});




initItems();


function initItems() {
	
	
	var wandsID=["aluminum", "curved", "iridium", "marble", "short", "uranium", "balsa", "oak", "forked", "jeweled", "pine", "glass", "long", "platinum", "crystal", "maple", "mahogany", "tin",];
	var wands=["light", "enlightenment", "unlocking", "tick", "lance", "invisibility", "scrutiny", "slow", "brisk", "haste", "force bolt", "ice spike", "fireball", "lightning", "sleep", "cancellation", "create monster", "death"];
	var wandsUsed=[];
	var potions=[];
	var potionsID=[];
	var potionsUsed=[];
	var scrolls=[];
	var scrollsID=[];
	var scrollsUsed=[];
	var spellbooks=[];
	var spellbooksID=[];
	var spellbooksUsed=[];
	var robes=[];
	var robesID=[];
	var robesUsed=[];
	var gloves=[];
	var glovesID=[];
	var glovesUsed=[];
	var shoes=[];
	var shoesID=[];
	var shoesUsed=[];
	var rings=[];
	var ringsID=[];
	var ringsUSed=[];
	var amulets=[];
	var amuletsID=[];
	var amuletsUsed=[];
	
	var amount=0;
	var itemRoll=0;
	



	
	// ---wands---
	amount=wands.length;
	
	for (i=0;i<amount;i++) {
	
		itemRoll=rollDie0(amount,1);
	
		while (wandsUsed.includes(itemRoll)) {
		
			itemRoll=rollDie0(amount,1);
			//console.log(wandsUsed.length);
		}
		
		wandsUsed.push(itemRoll);
		
		$("#wands").append(wands[i] + " = ");
		$("#wands").append(wandsID[itemRoll] + "<br>");

	}
	
	
	
	
}

function clearRoom () {

	var tempSym="";

	//clear symbols
	for (i=0;i<roomSize;i++) {
	
		tempSym=$("#roomTile" + i).html();
		
		if (tempSym!="" && tempSym!="" && tempSym!="" && tempSym!="" && tempSym!="" && tempSym!="" && tempSym!="+" && tempSym!="@" ){
		
			$("#roomTile" + i).html("");
		}
	}	
		
}

$("div.enterFromGrid").find("button").click(function( event ) {

	if (allRooms[currRoomIndex].roomExists==true) {
	
		clearRoom();
	
		var tempId=this.id;
		
		if (tempId!="") {
		
			var tempInd;
			var enterCheck=-1; //1 for north, 2 for west, 3 for east, 4 for south
			var tempEx=0; //index for exit

			
			if (tempId=="enterA") {
			
				
				if (allRooms[currRoomIndex].arrExit>1) {
				
					//check for which adjacent tile is in spawn zone
				
				
					//north
					tempInd=allRooms[currRoomIndex].arrExit+16;			
					
					if (allRooms[currRoomIndex].spawnArray.includes(tempInd)==true) {
					
						enterCheck=1;
					}
					
					//west
					tempInd=allRooms[currRoomIndex].arrExit+1;
					
					
					if (allRooms[currRoomIndex].spawnArray.includes(tempInd)==true) {
					
						enterCheck=2;
					}
				
					
					//east
					tempInd=allRooms[currRoomIndex].arrExit-1;
					
					
					if (allRooms[currRoomIndex].spawnArray.includes(tempInd)==true) {
					
						enterCheck=3;
					}
					
					
					
					//south
					tempInd=allRooms[currRoomIndex].arrExit-16;
					
					
					if (allRooms[currRoomIndex].spawnArray.includes(tempInd)==true) {
					
						enterCheck=4;
					}
					
					//console.log(enterCheck);
				
				}
			
			}
		
			if (tempId=="enterN" || enterCheck==1) {
			
			
				if (allRooms[currRoomIndex].northExit>1 || enterCheck==1) {
				
					clearRoom();
				
					//start 3 down, 1 right
					//populate leftwards
					
					//3 down, 1 right is +49
					
					if (enterCheck<0) {
						tempInd=allRooms[currRoomIndex].northExit+49;
						tempEx=allRooms[currRoomIndex].northExit;
					}
					
					else if (enterCheck==1) {
					
						tempInd=allRooms[currRoomIndex].arrExit+49;
						tempEx=allRooms[currRoomIndex].arrExit;
					}
					
					else {
					
						alert("wrong enter");
					}
					
					
					for (i=0;i<playersMax;i++) {
					
						
						
							//console.log(tempInd);
							//allRooms[currRoomIndex]
							
							$("#roomTile" + tempInd).html(formArr[i]);
							
							tempInd--;
							
							if (tempInd==(tempEx+46)) {
							
								tempInd=tempEx+33;
							
							}
							
							if (tempInd==(tempEx+30)) {
							
								tempInd=tempEx+17;
							
							}
							
						
						
					}	
				
				} //has north exit
			
			} //north
			
			
			
			if (tempId=="enterW" || enterCheck==2) {
			
				clearRoom();
			
				//start 3 right, 1 up
				//populate downwards
				
				//3 right, 1 up is -13
				
				if (allRooms[currRoomIndex].westExit>1 || enterCheck==2) {
				
					if (enterCheck<0) {
					
						tempInd=allRooms[currRoomIndex].westExit-13;
						tempEx=allRooms[currRoomIndex].westExit;
					}
					
					else if (enterCheck==2) {
					
						tempInd=allRooms[currRoomIndex].arrExit-13;
						tempEx=allRooms[currRoomIndex].arrExit;
					}
					
					else {
					
						alert("wrong enter");
					}
					
					
					for (i=0;i<playersMax;i++) {
					
						
						
							//console.log(tempInd);
							//allRooms[currRoomIndex]
							
							$("#roomTile" + tempInd).html(formArr[i]);
							
							tempInd+=roomMaxLength;
							
							if (tempInd==(tempEx+35)) {
							
								tempInd=tempEx-14;
							
							}
							
							if (tempInd==(tempEx+34)) {
							
								tempInd=tempEx-15;
							
							}
							
						
						
					}	
				
				} //has west exit
				
			
			} //west
			
			
			
			
			if (tempId=="enterE" || enterCheck==3) {
			
				clearRoom();
			
				//start 3 left, 1 down
				//populate upwards
				
				//3 left, 1 down is +13
				
				if (allRooms[currRoomIndex].eastExit>1 || enterCheck==3) {
				
					if (enterCheck<0) {
					
						tempInd=allRooms[currRoomIndex].eastExit+13;
						tempEx=allRooms[currRoomIndex].eastExit;
					}
					
					else if (enterCheck==3) {
					
						tempInd=allRooms[currRoomIndex].arrExit+13;
						tempEx=allRooms[currRoomIndex].arrExit;
					}
					
					else {
					
						alert("wrong enter");
					}
					
					
					for (i=0;i<playersMax;i++) {
					
						
						
							//console.log(tempInd);
							//allRooms[currRoomIndex]
							
							$("#roomTile" + tempInd).html(formArr[i]);
							
							tempInd-=roomMaxLength;
							
							if (tempInd==(tempEx-35)) {
							
								tempInd=tempEx+14;
							
							}
							
							if (tempInd==(tempEx-34)) {
							
								tempInd=tempEx+15;
							
							}
							
						
						
					}	
				
				} //has east exit
				
			
			} //east
			
			
			
			if (tempId=="enterS" || enterCheck==4) {
			
				if (allRooms[currRoomIndex].southExit>1 || enterCheck==4) {
				
					clearRoom();
					
				
					//start 3 up, 1 left
					//populate rightwards
					
					//3 up, 1 left is -49
					
					
					if (enterCheck<0) {
						tempInd=allRooms[currRoomIndex].southExit-49;
						tempEx=allRooms[currRoomIndex].southExit;
					}
					
					else if (enterCheck==4) {
					
						tempInd=allRooms[currRoomIndex].arrExit-49;
						tempEx=allRooms[currRoomIndex].arrExit;
					}
					
					else {
					
						alert("wrong enter");
					}
					
					
					for (i=0;i<playersMax;i++) {
					
						
						
							//console.log(tempInd);
							//allRooms[currRoomIndex]
							
							$("#roomTile" + tempInd).html(formArr[i]);
							
							tempInd++;
							
							if (tempInd==(tempEx-46)) {
							
								tempInd=tempEx-33;
							
							}
							
							if (tempInd==(tempEx-30)) {
							
								tempInd=tempEx-17;
							
							}
							
						
						
					}	
				
				}
			
			} //south
			
			
			
			
		}
		
	}
});

$( "#roomStuffTabs" ).tabs({
  collapsible: true
});

$( "#dungeonTabs" ).tabs({
  beforeActivate: function( event, ui ) {
        //var active = $('#tabs').tabs('option', 'active');
        //$("#tabid").html('the tab id is ' + $("#tabs ul>li a").eq(active).attr("href"));

		var tabCmp=ui.newPanel.attr('id'); //for comparing tab id

		
		if (tabCmp=="dungeonTabs-2") {
		
			$("div.roomContainer").find("button").html(""); //initialize
			$("div.roomContainer").find("button").css("background", butDefColor);
			
			
		
			//load selected room if it exists
			
			if (allRooms[currRoomIndex].roomExists==true && allRooms[currRoomIndex].floorSymbol!="") {
			
				for (i=0;i<roomSize;i++) {
				
					$("#roomTile" + i).html(allRooms[currRoomIndex].roomTile[i].symbol);
				}
			
			}
			
			
			//if doesnt exist, make one
			if (allRooms[currRoomIndex].roomExists==false && allRooms[currRoomIndex].floorSymbol!="") {
			
				roomGen();
				allRooms[currRoomIndex].roomExists=true;
				for (i=0;i<roomSize;i++) {
				
					allRooms[currRoomIndex].roomTile[i].symbol=$("#roomTile" + i).html();
				}
			
				
			
			}
		
		}
		
    }
});

function roomGen() {

	//determine what the room/hall is, then create it

	var isRoom=currFloorSym.includes("");
	var isDes=currFloorSym.includes("b");
	var isArr=currFloorSym.includes("a");
	
	var northEx=currFloorSym.includes("");
	var eastEx=currFloorSym.includes("");
	var southEx=currFloorSym.includes("");
	var westEx=currFloorSym.includes("");
	
	//quick fix
	if (isDes==true) {
	
		northEx=true;
		eastEx=true;
		southEx=true;
		westEx=true;
	}
	
	var isHall1=currFloorSym.includes("");
	var isHall2=currFloorSym.includes("");
	var isHall3=currFloorSym.includes("");
	var isHall4=currFloorSym.includes("");
	var isHall5=currFloorSym.includes("");
	var isHall6=currFloorSym.includes("");
	var isHall7=currFloorSym.includes("");
	var isHall8=currFloorSym.includes("");
	var isHall9=currFloorSym.includes("");
	var isHall10=currFloorSym.includes("");
	var isHall11=currFloorSym.includes("");
	
	
	var aCoor; //horizontal
	var bCoor; //vertical
	var exirCoor;
	var saveCoor; //for saving index
	
	var aCoor2; //for hallways
	var bCoor2; 
	var aCoor3;
	var bCoor3;
	
	var tempInd; //for iterating over room buttons
	var tempRange; //finding door
	

	//if room
	if (isRoom==true || isDes==true || isArr==true) {
	
		
	
		aCoor=rollDie(3,1,10);
		bCoor=rollDie(3,1,10);
		tempRange=aCoor-4;
		exitCoor=rollDie(tempRange, 1,3);
		
		//check exits
		
		$("#roomTile0").html("");
	
		//north wall
		for (i=1;i<=aCoor;i++) {
			
			
			$("#roomTile" + i).html("");
			
			if (i==exitCoor && northEx==true) {
			
				$("#roomTile" + i).html("+");
				allRooms[currRoomIndex].northExit=i;
			}
			
			saveCoor=i;
		}
		
		$("#roomTile" + saveCoor).html("");
		
		tempRange=bCoor-4;
		exitCoor=rollDie(tempRange, 1,2);
		tempInd=saveCoor;
		
		
		//east wall
		for (i=1;i<bCoor;i++) {
			
			tempInd=saveCoor+(roomMaxLength*i);
			
			//console.log(vert);
			
			$("#roomTile" + tempInd).html("");
			
			if (i==exitCoor && eastEx==true) {
			
				$("#roomTile" + tempInd).html("+");
				allRooms[currRoomIndex].eastExit=tempInd;
			}
			
			if (i==(bCoor-1)) {
			
				$("#roomTile" + tempInd).html("");
				saveCoor=i;
			}
		}
		
		tempRange=bCoor-4;
		exitCoor=rollDie(tempRange, 1,2);
		
		
		//west wall
		for (i=1;i<bCoor;i++) {
		
			tempInd=(roomMaxLength*i);
			
			$("#roomTile" + tempInd).html("");
			
			if (i==exitCoor && westEx==true) {
			
				$("#roomTile" + tempInd).html("+");
				allRooms[currRoomIndex].westExit=tempInd;
			}
			
			if (i==(bCoor-1)) {
			
				$("#roomTile" + tempInd).html("");
				saveCoor=tempInd;
			}
		}
		tempRange=bCoor-6;
		exitCoor=rollDie(tempRange, 1,4);
		tempInd=saveCoor;
		tempInd++; //dont overwrite bottom left corner
		
		
		//south wall
		for (i=2;i<=aCoor;i++) {
			
			
			$("#roomTile" + tempInd).html("");
			
			if (i==exitCoor && southEx==true) {
			
				$("#roomTile" + tempInd).html("+");
				allRooms[currRoomIndex].southExit=tempInd;
			}
			
			tempInd++;
			
			
			
		}
		
		//if at arrival, one random wall becomes starting point
		if (isArr==true) {
			
			let aHasEnt=false;
			let tempButSym="";
			tempInd=0;
			let aRoll=0;
			let prevButSym="";
			let prevInd=0;
			let nextButSym="";
			let nextInd=0;
			let upButSym="";
			let upInd=0;
			let downButSym="";
			let downInd=0;
		
			while (aHasEnt==false) {
			
				if (tempInd>0){
					
					prevInd=tempInd;
					prevInd--;
				}
				
				if (tempInd<roomSize){
					
					nextInd=tempInd;
					nextInd++;
				}
				
				if (tempInd<(roomSize-roomMaxLength)){
					
					downInd=tempInd;
					downInd+=roomMaxLength;
				}
				
				if (tempInd>=roomMaxLength){
					
					upInd=tempInd;
					upInd-=roomMaxLength;
				}
			
				tempButSym=$("#roomTile" + tempInd).html();
				prevButSym=$("#roomTile" + prevInd).html();
				nextButSym=$("#roomTile" + nextInd).html();
				downButSym=$("#roomTile" + downInd).html();
				upButSym=$("#roomTile" + upInd).html();
				if ((tempButSym!="" && tempButSym!="" && tempButSym!="" && tempButSym!="" && tempButSym!="") && tempButSym!="+") {
				
					aRoll=rollDie(20,1);
					
					if (aRoll==1 && prevInd!="" && prevInd!="" && prevInd!="" && prevInd!="" 
						&& nextInd!="" && nextInd!="" && nextInd!="" && nextInd!="" 
						&& upInd!="" && upInd!="" && upInd!="" && upInd!="" 
						&& downInd!="" && downInd!="" && downInd!="" && downInd!="") {
					
						$("#roomTile" + tempInd).html("@");
						aHasEnt=true;
						allRooms[currRoomIndex].arrExit=tempInd;
					
					}
				
				}
				
				tempInd++;

				
				if (tempInd>=roomSize) {
				
					tempInd=0;
				}
				
			}
		}
		
		
		//make monsters/items/traps
		//setSpawnPoints();
		
	} //room
	
	//straight up 6 oclock 
	else if (isHall1==true) {
	
		aCoor=rollDie(2,1,3);
		bCoor=rollDie(4,1,11);
		//tempRange=aCoor-2;
		//exitCoor=rollDie(tempRange, 1,2);
		
		allRooms[currRoomIndex].hallWidth=aCoor;
		
		$("#roomTile0").html("");
		
		
		//west wall
		for (i=1;i<bCoor;i++) {
		
			tempInd=(roomMaxLength*i);
		
			$("#roomTile" + tempInd).html("");
			saveCoor=tempInd;
			allRooms[currRoomIndex].hallLength1=i;
		}
		
		allRooms[currRoomIndex].hallLength1--;
		$("#roomTile" + tempInd).html("");
		
		
		doorIndex=makeHallDoor(aCoor);
		//south wall
		for (i=1;i<=aCoor;i++) {
		
			tempInd++;
		
			$("#roomTile" + tempInd).html("");
			
			saveCoor=i;
			
			if (i==doorIndex) {
			
				$("#roomTile" + tempInd).html("+");
				allRooms[currRoomIndex].southExit=tempInd;
			}
			
			

		}
		
		//makeHallDoor(aCoor, "south", tempInd, "left");
		
		
		doorIndex=makeHallDoor(aCoor);
		//north wall
		for (i=1;i<=aCoor;i++) {
		
			$("#roomTile" + i).html("");
			
			saveCoor=i;
			
			
			if (i==doorIndex) {
			
				$("#roomTile" + i).html("+");
				allRooms[currRoomIndex].northExit=i;
			}

		}
		
		makeHallDoor(aCoor, "north");
		
		//one past hall width
		saveCoor++;
		$("#roomTile" + saveCoor).html("");
		
		tempInd=saveCoor;
		
		//east wall
		for (i=1;i<bCoor;i++) {
		
			tempInd+=roomMaxLength;
		
			$("#roomTile" + tempInd).html("");
			saveCoor=tempInd;
		}
		
		$("#roomTile" + saveCoor).html("");
		
		
		//make monsters/items/traps
		//setSpawnPoints();
		
	
	} //
	
	
	//
	else if (isHall2==true) {
	
		bCoor=rollDie(2,1,3);
		aCoor=rollDie(4,1,11);
		var doorIndex;
		
		//console.log(bCoor);
		
		$("#roomTile0").html("");
		
		
		//north wall
		for (i=1;i<=aCoor;i++) {
		
			$("#roomTile" + i).html("");
			
			saveCoor=i;

		}
		
		$("#roomTile" + saveCoor).html("");
		
		tempInd=saveCoor;
		
		
		doorIndex=makeHallDoor(bCoor);
		
		//east wall
		for (i=1;i<=bCoor;i++) {
		
			tempInd+=roomMaxLength;
		
			$("#roomTile" + tempInd).html("");
			saveCoor=tempInd;
			
			if (i==doorIndex) {
			
				$("#roomTile" + tempInd).html("+");
				allRooms[currRoomIndex].eastExit=tempInd;
			}
			

		}
		
		
		
		//bottom right corner
		tempInd+=roomMaxLength;
		$("#roomTile" + tempInd).html("");
		
		doorIndex=makeHallDoor(bCoor);
		
		//west wall
		for (i=1;i<=bCoor;i++) {
		
			tempInd=(roomMaxLength*i)
		
			$("#roomTile" + tempInd).html("");
			saveCoor=tempInd;
			
			if (i==doorIndex) {
			
				$("#roomTile" + tempInd).html("+");
				allRooms[currRoomIndex].westExit=tempInd;
			}

		}
		
		//bottom left corner
		tempInd+=roomMaxLength;
		$("#roomTile" + tempInd).html("");
		
		//south wall
		
		for (i=1;i<aCoor;i++) {
		
			tempInd++;
		
			$("#roomTile" + tempInd).html("");
		

		}
		
		//make monsters/items/traps
		//setSpawnPoints();
		
	} //
	
	//
	if (isHall3==true) {
	
		aCoor=rollDie(4,1,11);
		bCoor=rollDie(3,1,3);
		aCoor2=aCoor-bCoor;
		aCoor2-=2;
		bCoor2=rollDie(4,1,11);
		bCoor3=bCoor2-bCoor;
		bCoor3-=2;
		
		$("#roomTile0").html("");
		doorIndex=makeHallDoor(bCoor);
		
		//west wall
		for (i=1;i<=bCoor;i++) {
		
			tempInd=i*roomMaxLength;
			
			$("#roomTile" + tempInd).html("");
			
			if (i==doorIndex) {
			
				$("#roomTile" + tempInd).html("+");
				allRooms[currRoomIndex].westExit=tempInd;
			}
			
			
			
		}

		
		tempInd+=roomMaxLength;
		$("#roomTile" + tempInd).html("");
		tempInd++;

		//short horizontal
		for (i=1;i<aCoor2;i++) {
		
			$("#roomTile" + tempInd).html("");
			tempInd++;
			
			saveCoor=tempInd;
		
		}
		
		$("#roomTile" + tempInd).html("");
		
		//short vertical
		for (i=1;i<=bCoor3;i++) {
		
			tempInd+=roomMaxLength;
			
			$("#roomTile" + tempInd).html("");
			
			
			
		}
		
		$("#roomTile" + tempInd).html("");
		
		doorIndex=makeHallDoor(bCoor);
		//south wall
		for (i=1;i<=bCoor;i++) {
		
			tempInd++;
			$("#roomTile" + tempInd).html("");
			
			
			saveCoor=tempInd;
			
			if (i==doorIndex) {
			
				$("#roomTile" + tempInd).html("+");
				allRooms[currRoomIndex].southExit=tempInd;
			}
		
		}
		
		tempInd++;
		$("#roomTile" + tempInd).html("");
		
		
		
		//north wall
		for (i=1;i<aCoor;i++) {
		
			$("#roomTile" + i).html("");
			
			saveCoor=i;
		}
		
		$("#roomTile" + saveCoor).html("");
		
		tempInd=saveCoor;

		bCoor2--;
		//east wall
		for (i=1;i<bCoor2;i++) {
		
			tempInd+=roomMaxLength;
			
			$("#roomTile" + tempInd).html("");
			
			
			
		}
		
		//make monsters/items/traps
		//setSpawnPoints();
	
	}//
	
	//
	if (isHall4==true) {
	
		aCoor=rollDie(3,1,10);
		bCoor=rollDie(3,1,3);
		aCoor2=aCoor-bCoor;
		aCoor2-=2;
		bCoor2=rollDie(3,1,9);
		bCoor3=bCoor2-bCoor;
		//bCoor3-=2;
		
		$("#roomTile0").html("");
		
		//west wall
		for (i=1;i<=bCoor2;i++) {
		
			tempInd=i*roomMaxLength;
			
			$("#roomTile" + tempInd).html("");
			
			
		}

		
		tempInd+=roomMaxLength;
		$("#roomTile" + tempInd).html("");
		//tempInd++;
		
		doorIndex=makeHallDoor(bCoor);
		//south wall
		for (i=1;i<=bCoor;i++) {
		
			tempInd++;
			$("#roomTile" + tempInd).html("");
			
			
			saveCoor=tempInd;
			
			if (i==doorIndex) {
			
				$("#roomTile" + tempInd).html("+");
				allRooms[currRoomIndex].southExit=tempInd;
			}
		
		}
		
		tempInd++;
		$("#roomTile" + tempInd).html("");
		tempInd-=roomMaxLength;

		//short vertical
		for (i=1;i<bCoor3;i++) {
		
			
		
			$("#roomTile" + tempInd).html("");
			tempInd-=roomMaxLength;
			
			saveCoor=tempInd;
		
		}
		
		$("#roomTile" + tempInd).html("");
		tempInd++;
		
		//short horizontal
		for (i=1;i<aCoor2;i++) {
		
			$("#roomTile" + tempInd).html("");
			tempInd++;
			
			saveCoor=tempInd;
		
		}
		
		$("#roomTile" + tempInd).html("");
		//tempInd-=roomMaxLength;
		
		doorIndex=makeHallDoor(bCoor);
		//console.log(doorIndex);
		//east wall
		for (i=0;i<bCoor;i++) {
		
			
			tempInd-=roomMaxLength;
			$("#roomTile" + tempInd).html("");
			
			
			if (i==doorIndex) {
			
				$("#roomTile" + tempInd).html("+");
				allRooms[currRoomIndex].eastExit=tempInd;
			}
			
		}
		
		tempInd-=roomMaxLength;
		
		
		//north wall
		for (i=1;i<aCoor;i++) {
		
			$("#roomTile" + i).html("");
			
			saveCoor=i;
		}
		
		$("#roomTile" + saveCoor).html("");
		
		
		
		
		
	
	} //
	
	//
	if (isHall5==true) {
	
		aCoor=rollDie(3,1,9); //long vertical
		bCoor=rollDie(3,1,3); //width
		aCoor2=aCoor-bCoor; //short vertical
		bCoor2=rollDie(3,1,8); //long horizontal
		//bCoor2-=2;
		bCoor3=bCoor2-bCoor; //short horizontal
		
		$("#roomTile0").html("");
		
		doorIndex=makeHallDoor(bCoor);
		//north wall
		for (i=1;i<=bCoor;i++) {
		
			$("#roomTile" + i).html("");
		
			if (i==doorIndex) {
			
				$("#roomTile" + i).html("+");
				allRooms[currRoomIndex].northExit=i;
			}
		
			tempInd=i;
			
		}
		
		tempInd++;
		$("#roomTile"+tempInd).html("");
		tempInd+=roomMaxLength;
		
		//short vertical
		for (i=0;i<aCoor2;i++) {
		
			$("#roomTile" + tempInd).html("");
			tempInd+=roomMaxLength;
		
		}
		
		$("#roomTile"+tempInd).html("");
		
		//short horizontal
		for (i=0;i<bCoor3;i++) {
		
			tempInd++;
			$("#roomTile" + tempInd).html("");
		
		}
		
		tempInd++;
		$("#roomTile"+tempInd).html("");
		
		doorIndex=makeHallDoor(bCoor);
		//console.log(doorIndex);
		//east wall
		for (i=1;i<=bCoor;i++) {
		
			tempInd+=roomMaxLength;
			$("#roomTile" + tempInd).html("");
			
		
			if (i==doorIndex) {
				$("#roomTile" + tempInd).html("+");
				allRooms[currRoomIndex].eastExit=tempInd;
			}

		}
		
		tempInd+=roomMaxLength;
		$("#roomTile"+tempInd).html("");
		
		for (i=0;i<=bCoor2;i++) {
		
			tempInd--;
			$("#roomTile" + tempInd).html("");
		
		}
		
		tempInd--;
		$("#roomTile"+tempInd).html("");
		
		for (i=0;i<=aCoor;i++) {
		
			tempInd-=roomMaxLength;
			$("#roomTile" + tempInd).html("");
		}
		
	
	}//
	
	//
	if (isHall6==true) {
	
		aCoor=rollDie(3,1,9); //long vertical
		bCoor=rollDie(3,1,3); //width
		aCoor2=aCoor-bCoor; //short vertical
		bCoor2=rollDie(3,1,8); //long horizontal
		//bCoor2-=2;
		bCoor3=bCoor2-bCoor; //short horizontal
		
		
		
		tempInd=roomMaxLength;
		tempInd--;
	
		$("#roomTile" + tempInd).html("");
		
		doorIndex=makeHallDoor(bCoor);
		//north wall
		for (i=1;i<=bCoor;i++) {
		
			tempInd--;
			$("#roomTile" + tempInd).html("");
			
			
			if (i==doorIndex) {
				$("#roomTile" + tempInd).html("+");
				allRooms[currRoomIndex].northExit=tempInd;
			}

		}
		
		tempInd--;
		$("#roomTile" + tempInd).html("");
		
		for (i=0;i<aCoor2;i++) {
			
			tempInd+=roomMaxLength;
			$("#roomTile" + tempInd).html("");
		}
		
		tempInd+=roomMaxLength;
		$("#roomTile" + tempInd).html("");
		tempInd--;
		
		for (i=0;i<aCoor2;i++) {
			
			$("#roomTile" + tempInd).html("");
			tempInd--;
		}
		
		$("#roomTile" + tempInd).html("");
		
		
		doorIndex=makeHallDoor(bCoor);
		//west wall
		for (i=1;i<=bCoor;i++) {
		
			tempInd+=roomMaxLength;
			$("#roomTile" + tempInd).html("");
			
			
			if (i==doorIndex) {
				$("#roomTile" + tempInd).html("+");
				allRooms[currRoomIndex].westExit=tempInd;
			}

		}
		
		tempInd+=roomMaxLength;
		$("#roomTile" + tempInd).html("");
		tempInd++;
		
		//south wall
		for (i=0;i<=aCoor;i++) {
		
			$("#roomTile" + tempInd).html("");
			tempInd++;
		
		}
		
		$("#roomTile" + tempInd).html("");
		tempInd-=roomMaxLength;
		
		//bCoor2++;
		//east wall
		for (i=0;i<=aCoor;i++) {
		
			$("#roomTile" + tempInd).html("");
			tempInd-=roomMaxLength;
		
		}
		
	} //
	
	
	//
	if (isHall7==true) {
	
		aCoor=rollDie(2,1,14); //long vertical
		bCoor=rollDie(2,1,3); //width
		aCoor2= rollDie(2,1,4); //short vertical
		bCoor2=rollDie(3,1,8); //long horizontal
		//bCoor2-=2;
		bCoor3=bCoor2-bCoor; //short horizontal
		
		aCoor3=aCoor-bCoor-aCoor2;
		aCoor3-=2;
		
		//north wall
		$("#roomTile0").html("");
		
		for (i=1;i<aCoor;i++) {
		
			tempInd=i;
			$("#roomTile" + tempInd).html("");
		}
		
		tempInd++;
		$("#roomTile" + tempInd).html("");
		//tempInd+=roomMaxLength;
		
		doorIndex=makeHallDoor(bCoor);
		//east wall
		for (i=1;i<=bCoor;i++) {
		
			tempInd+=roomMaxLength;
			$("#roomTile" + tempInd).html("");
			
			
			if (i==doorIndex) {
				$("#roomTile" + tempInd).html("+");
				allRooms[currRoomIndex].eastExit=tempInd;
			}

		}
		
		tempInd+=roomMaxLength;
		$("#roomTile" + tempInd).html("");
	
		
		for (i=0;i<aCoor2;i++) {
		
			tempInd--;
			$("#roomTile" + tempInd).html("");
		
		}
		
		tempInd--;
		$("#roomTile" + tempInd).html("");
		
		for(i=0;i<aCoor2;i++) {
		
			tempInd+=roomMaxLength;
			$("#roomTile" + tempInd).html("");
		
		}
		
		tempInd+=roomMaxLength;
		$("#roomTile" + tempInd).html("");
		
		doorIndex=makeHallDoor(bCoor);
		//south wall
		for (i=1;i<=bCoor;i++) {
		
			tempInd--;
			$("#roomTile" + tempInd).html("");
			
			
			if (i==doorIndex) {
				$("#roomTile" + tempInd).html("+");
				allRooms[currRoomIndex].southExit=tempInd;
			}

		}
		
		tempInd--;
		$("#roomTile" + tempInd).html("");
		
		for (i=0;i<aCoor2;i++) {
		
			tempInd-=roomMaxLength;
			$("#roomTile" + tempInd).html("");
			
		
		}
		
		tempInd-=roomMaxLength;
		$("#roomTile" + tempInd).html("");
		
		//console.log(aCoor3);
		
		for (i=0;i<aCoor3;i++) {
		
			tempInd--;
			$("#roomTile" + tempInd).html("");
		
		}
		
		$("#roomTile" + tempInd).html("");
		
		doorIndex=makeHallDoor(bCoor);
		//west wall
		for (i=1;i<=bCoor;i++) {
		
			tempInd-=roomMaxLength;
			$("#roomTile" + tempInd).html("");
			
			
			if (i==doorIndex) {
				$("#roomTile" + tempInd).html("+");
				allRooms[currRoomIndex].westExit=tempInd;
			}

		}
		
	
	} //
	
	
	
	//
	if (isHall8==true) {
	
		aCoor=rollDie(2,1,12); //long horizontal
		bCoor=rollDie(2,1,3); //width
		aCoor2= rollDie(2,1,4); //short vertical
		bCoor2=rollDie(2,1,5); //short horizontal right
		//bCoor2-=2;
		//bCoor3=bCoor2-bCoor; //short horizontal
		
		aCoor3=aCoor-bCoor-bCoor2;
		//aCoor3-=2; //other short horizontal left
		
		//start in bottom left corner
		
		tempInd=aCoor3;
		
		$("#roomTile" + tempInd).html("");
		
		doorIndex=makeHallDoor(bCoor);
		//north wall
		for (i=1;i<=bCoor;i++) {
		
			tempInd++;
			$("#roomTile" + tempInd).html("");
			
			
			if (i==doorIndex) {
				$("#roomTile" + tempInd).html("+");
				allRooms[currRoomIndex].northExit=tempInd;
			}

		}
		
		tempInd++;
		$("#roomTile" + tempInd).html("");
		
		for (i=0;i<aCoor2;i++) {
		
			tempInd+=roomMaxLength;
			$("#roomTile" + tempInd).html("");		
		
		}
		
		tempInd+=roomMaxLength;
		$("#roomTile" + tempInd).html("");
		
		for (i=0;i<bCoor2;i++) {
		
			tempInd++;
			$("#roomTile" + tempInd).html("");		
		
		}
		
		$("#roomTile" + tempInd).html("");
		
		doorIndex=makeHallDoor(bCoor);
		//east wall
		for (i=1;i<=bCoor;i++) {
		
			tempInd+=roomMaxLength;
			$("#roomTile" + tempInd).html("");
			
			
			if (i==doorIndex) {
				$("#roomTile" + tempInd).html("+");
				allRooms[currRoomIndex].eastExit=tempInd;
			}

		}
		
		tempInd+=roomMaxLength;
		$("#roomTile" + tempInd).html("");
		
		//south wall
		for (i=0;i<aCoor;i++) {
		
			tempInd--;
			$("#roomTile" + tempInd).html("");
		}
		
		tempInd--;
		$("#roomTile" + tempInd).html("");
		
		doorIndex=makeHallDoor(bCoor);
		//west wall
		for (i=1;i<=bCoor;i++) {
		
			tempInd-=roomMaxLength;
			$("#roomTile" + tempInd).html("");
			
			
			if (i==doorIndex) {
				$("#roomTile" + tempInd).html("+");
				allRooms[currRoomIndex].westExit=tempInd;
			}

		}
		
		tempInd-=roomMaxLength;
		$("#roomTile" + tempInd).html("");
		
		for (i=0;i<aCoor3;i++) {
		
			tempInd++;
			$("#roomTile" + tempInd).html("");
		
		}
		
		$("#roomTile" + tempInd).html("");
		
		for (i=0;i<aCoor2;i++) {
		
			tempInd-=roomMaxLength;
			$("#roomTile" + tempInd).html("");		
		
		}
		
	
	} //
	
	
	
	//
	if (isHall9==true) {
	
		aCoor=rollDie(2,1,14); //long vertical
		bCoor=rollDie(2,1,3); //width
		aCoor2= rollDie(2,1,4); //short vertical
		bCoor2=rollDie(3,1,8); //long horizontal
		//bCoor2-=2;
		bCoor3=bCoor2-bCoor; //short horizontal
		
		aCoor3=aCoor-bCoor-aCoor2;
		aCoor3-=2; //other short horizontal
		
		$("#roomTile0").html("");
		tempInd=0;
		
		//west wall
		for (i=1;i<aCoor;i++) {
		
			tempInd+=roomMaxLength;
			$("#roomTile" + tempInd).html("");
		}
		
		tempInd+=roomMaxLength;
		$("#roomTile" + tempInd).html("");
		
		doorIndex=makeHallDoor(bCoor);
		//south wall
		for (i=1;i<=bCoor;i++) {
		
			tempInd++;
			$("#roomTile" + tempInd).html("");
			
			
			if (i==doorIndex) {
				$("#roomTile" + tempInd).html("+");
				allRooms[currRoomIndex].southExit=tempInd;
			}

		}
		
		tempInd++;
		$("#roomTile" + tempInd).html("");
		
		for (i=0;i<bCoor3;i++) {
		
			tempInd-=roomMaxLength;
			$("#roomTile" + tempInd).html("");		
		
		}
		
		$("#roomTile" + tempInd).html("");
		
		
		for (i=0;i<=aCoor2;i++) {
		
			tempInd++;
			$("#roomTile" + tempInd).html("");		
		
		}
		
		tempInd++;
		$("#roomTile" + tempInd).html("");
		
		doorIndex=makeHallDoor(bCoor);
		//east wall
		for (i=1;i<=bCoor;i++) {
		
			tempInd-=roomMaxLength;
			$("#roomTile" + tempInd).html("");
			
			
			if (i==doorIndex) {
				$("#roomTile" + tempInd).html("+");
				allRooms[currRoomIndex].eastExit=tempInd;
			}

		}
		
		tempInd-=roomMaxLength;
		$("#roomTile" + tempInd).html("");
		
		for (i=0;i<=aCoor2;i++) {
		
			tempInd--;
			$("#roomTile" + tempInd).html("");		
		
		}
		
		tempInd--;
		$("#roomTile" + tempInd).html("");
		
		for (i=0;i<aCoor3;i++) {
		
			tempInd-=roomMaxLength;
			$("#roomTile" + tempInd).html("");		
		
		}
		
		//north wall
		doorIndex=makeHallDoor(bCoor);
		for (i=1;i<=bCoor;i++) {
		
			$("#roomTile" + i).html("");
			
			
			if (i==doorIndex) {
				$("#roomTile" + i).html("+");
				allRooms[currRoomIndex].northExit=i;
			}
			
			tempInd=i;

		}
		
		tempInd++;
		$("#roomTile" + tempInd).html("");
		
		tempInd+=roomMaxLength;
		$("#roomTile" + tempInd).html("");	
		
		
	
	} //
	
	
	//
	if (isHall10==true) {
	
		aCoor=rollDie(2,1,14); //long vertical
		bCoor=rollDie(2,1,3); //width
		aCoor2= rollDie(2,1,4); //short vertical
		bCoor2=rollDie(3,1,8); //long horizontal
		//bCoor2-=2;
		bCoor3=bCoor2-bCoor; //short horizontal
		
		aCoor3=aCoor-bCoor-aCoor2;
		aCoor3-=2; //other short horizontal
		
		$("#roomTile15").html("");
		tempInd=15;
		
		//west wall
		for (i=1;i<aCoor;i++) {
		
			tempInd+=roomMaxLength;
			$("#roomTile" + tempInd).html("");
		}
		
		tempInd+=roomMaxLength;
		$("#roomTile" + tempInd).html("");
		
		doorIndex=makeHallDoor(bCoor);
		//south wall
		for (i=1;i<=bCoor;i++) {
		
			tempInd--;
			$("#roomTile" + tempInd).html("");
			
			
			if (i==doorIndex) {
				$("#roomTile" + tempInd).html("+");
				allRooms[currRoomIndex].southExit=tempInd;
			}

		}
		
		tempInd--;
		$("#roomTile" + tempInd).html("");
		
		for (i=0;i<bCoor3;i++) {
		
			tempInd-=roomMaxLength;
			$("#roomTile" + tempInd).html("");		
		
		}
		
		$("#roomTile" + tempInd).html("");
		
		for (i=0;i<=aCoor2;i++) {
		
			tempInd--;
			$("#roomTile" + tempInd).html("");		
		
		}
		
		tempInd--;
		$("#roomTile" + tempInd).html("");
		
		doorIndex=makeHallDoor(bCoor);
		
		//west wall
		for (i=1;i<=bCoor;i++) {
		
			tempInd-=roomMaxLength;
			$("#roomTile" + tempInd).html("");
			
			
			if (i==doorIndex) {
				$("#roomTile" + tempInd).html("+");
				allRooms[currRoomIndex].westExit=tempInd;
			}

		}
		
		tempInd-=roomMaxLength;
		$("#roomTile" + tempInd).html("");
		
		for (i=0;i<=aCoor2;i++) {
		
			tempInd++;
			$("#roomTile" + tempInd).html("");		
		
		}
		
		tempInd++;
		$("#roomTile" + tempInd).html("");
		
		for (i=0;i<aCoor3;i++) {
		
			tempInd-=roomMaxLength;
			$("#roomTile" + tempInd).html("");		
		
		}
		
		tempInd=15;
		
		//north wall
		doorIndex=makeHallDoor(bCoor);
		for (i=1;i<=bCoor;i++) {
		
			tempInd--;
			$("#roomTile" + tempInd).html("");
			
			
			if (i==doorIndex) {
				$("#roomTile" + tempInd).html("+");
				allRooms[currRoomIndex].northExit=tempInd;
			}
			

		}
		
		tempInd--;
		$("#roomTile" + tempInd).html("");
		
		tempInd+=roomMaxLength;
		$("#roomTile" + tempInd).html("");	
		
	
	} //
	
	
	//
	if (isHall11==true) {
	
		vert1=rollDie(2,1,3); //upper vert
		hWidth=rollDie(2,1,3); //width
		vert2= rollDie(2,1,3); //lower vertical
		hori1=rollDie(2,1,3); //left horizontal
		hori2=rollDie(2,1,3); //right horizontal
		
		console.log(vert1);
		console.log(vert2);
		console.log(hori1);
		console.log(hori2);
		console.log(hWidth);
		
		tempInd=hori1;
		tempInd++;
		
		$("#roomTile" + tempInd).html("");
		
		//north wall
		doorIndex=makeHallDoor(hWidth);
		for (i=1;i<=hWidth;i++) {
		
			tempInd++;
			$("#roomTile" + tempInd).html("");
			
			
			if (i==doorIndex) {
				$("#roomTile" + tempInd).html("+");
				allRooms[currRoomIndex].northExit=tempInd;
			}
			

		}
		
		tempInd++;
		$("#roomTile" + tempInd).html("");
		
		for (i=0;i<vert1;i++) {
		
			tempInd+=roomMaxLength;
			$("#roomTile" + tempInd).html("");		
		
		}
		
		tempInd+=roomMaxLength;
		$("#roomTile" + tempInd).html("");
		
		for (i=0;i<hori2;i++) {
		
			tempInd++;
			$("#roomTile" + tempInd).html("");		
		
		}
		
		tempInd++;
		$("#roomTile" + tempInd).html("");
		
		//east wall
		doorIndex=makeHallDoor(hWidth);
		for (i=1;i<=hWidth;i++) {
		
			tempInd+=roomMaxLength;
			$("#roomTile" + tempInd).html("");
			
			
			if (i==doorIndex) {
				$("#roomTile" + tempInd).html("+");
				allRooms[currRoomIndex].eastExit=tempInd;
			}
			

		}
		
		tempInd+=roomMaxLength;
		$("#roomTile" + tempInd).html("");

		for (i=0;i<hori2;i++) {
		
			tempInd--;
			$("#roomTile" + tempInd).html("");		
		
		}
		
		tempInd--;
		$("#roomTile" + tempInd).html("");
		
		for (i=0;i<vert2;i++) {
		
			tempInd+=roomMaxLength;
			$("#roomTile" + tempInd).html("");		
		
		}
		
		tempInd+=roomMaxLength;
		$("#roomTile" + tempInd).html("");
		
		//south wall
		doorIndex=makeHallDoor(hWidth);
		for (i=1;i<=hWidth;i++) {
		
			tempInd--;
			$("#roomTile" + tempInd).html("");
			
			
			if (i==doorIndex) {
				$("#roomTile" + tempInd).html("+");
				allRooms[currRoomIndex].southExit=tempInd;
			}
			

		}
		
		tempInd--;
		$("#roomTile" + tempInd).html("");
		
		for (i=0;i<vert2;i++) {
		
			tempInd-=roomMaxLength;
			$("#roomTile" + tempInd).html("");		
		
		}
		
		tempInd-=roomMaxLength;
		$("#roomTile" + tempInd).html("");
		
		for (i=0;i<hori1;i++) {
		
			tempInd--;
			$("#roomTile" + tempInd).html("");		
		
		}
		
		tempInd--;
		$("#roomTile" + tempInd).html("");
		
		//west wall
		doorIndex=makeHallDoor(hWidth);
		for (i=1;i<=hWidth;i++) {
		
			tempInd-=roomMaxLength;
			$("#roomTile" + tempInd).html("");
			
			
			if (i==doorIndex) {
				$("#roomTile" + tempInd).html("+");
				allRooms[currRoomIndex].westExit=tempInd;
			}
			

		}
		
		tempInd-=roomMaxLength;
		$("#roomTile" + tempInd).html("");
		
		for (i=0;i<hori1;i++) {
		
			tempInd++;
			$("#roomTile" + tempInd).html("");		
		
		}
		
		tempInd++;
		$("#roomTile" + tempInd).html("");
		
		for (i=0;i<vert1;i++) {
		
			tempInd-=roomMaxLength;
			$("#roomTile" + tempInd).html("");		
		
		}
		
		
		
	
	} //
	
	
	
	//put players in appropriate entrance
	
	//make monsters/items/traps
	setSpawnPoints();
}

var spawnArray=[];

function setSpawnPoints() {

	var tempInd=0;
	var prevInd=0;
	var prevSym="";
	var butSym="";
	var startPoint=-1;
	var inRoom=false;
	var inRow=false;
	var rowCount=0;
	var hasOther=false;

	
	butSym=$("#roomTile"+tempInd).html();
	
	//determine starting point
	//while (startPoint<0) {
	for (i=0;i<roomSize;i++) {
	
	
		prevInd=i;
		if (prevInd>0) {
			prevInd--;
		}
		
		prevSym=$("#roomTile"+prevInd).html();
		butSym=$("#roomTile"+i).html();
		
		
		
		if ((prevSym=="" || ((prevSym=="+" || prevSym=="@" || prevSym=="" || prevSym=="" || prevSym=="" || prevSym=="") && ((i%16)<13))) && hasOther!=true && (i%16!=0)) {
		//if ((prevSym=="" || prevSym=="+" || prevSym=="@" || prevSym=="" || prevSym=="" || prevSym=="" || prevSym=="")  && hasOther!=true) {
			inRoom=true;
			inRow=true;

		}
		
		if ((prevSym=="" || prevSym=="" || prevSym=="" || prevSym=="") && (butSym=="" || butSym=="") &&  (1%16!=15)) {
		
			inRoom=false;
			inRow=false;
			hasOther=true;

		}
		
		if (prevSym=="@" && (i%16>5)) {
		
			inRoom=false;
		}
		
		if (prevSym=="" && inRoom==true && inRow==false) {
		
			inRoom=false;
		}
		
		if ((prevSym=="" || prevSym=="+") && inRow==true && rowCount>0 ) {
		
			//inRow=false;
			inRoom=false;
		}
		
		if (i%16==0) {
		
			inRoom=false;
			inRow=false;
			rowCount=0;
			hasOther=false;
		}
		
		
		if (i%16==15) {
		
			inRoom=false;
			inRow=false;
			rowCount=0;
			hasOther=false;
		}
		
		
		if (inRoom==true && butSym=="") {
		
			$("#roomTile"+i).css("background", butSelColor);
			spawnArray.push(i);
			rowCount++;
			
		}
		
		butSym=$("#roomTile"+i).html();
		

		
	} //for 
	
	allRooms[currRoomIndex].spawnArray=spawnArray;
	spawnArray=[];

	
}

function makeHallDoor(width) {

	var doorRoll=0;
	var doorInd=0;
	
	if (width==3) { 
	
		doorInd=2;
	}
	
	if (width==4) {
	
		doorRoll=rollDie(2,1);
		
		if (doorRoll==1) {
		
			doorInd=2;
		}
		
		if (doorRoll==2) {
		
			doorInd=3;
		}
	
	
	}
	
	if (width==5) {
	
		doorRoll=rollDie(3,1);
		
		if (doorRoll==1) {
		
			doorInd=2;
		}
		
		if (doorRoll==2) {
		
			doorInd=3;
		}
		
		if (doorRoll==3) {
		
			doorInd=4;
		}
	
	}
	
	

	/*if (startInd==undefined) {
	
		startInd=1;
	}
	
	if (direction==undefined) {
	
		direction="right";
	}
	
	
	
	if (width==3) {
	
		if (direction=="right") {
	
			if (wall=="north" || wall=="south" ) {
				startInd+=1;
			}
		
		}
		
		if (direction=="left") {
	
			if (wall=="north" || wall=="south" ) {
				startInd-=1;
			}
		
		}
		
		if (direction=="up") {
		
			if (wall=="east" || wall=="west") {
				
				startInd-=16;
			}
		
		}
		
		if (direction=="down") {
		
			if (wall=="east" || wall=="west") {
				
				startInd+=16;
			}
		
		}
	
	}
	
	else if (width==4) {
	
		doorRoll=rollDie(2,1);
		
		if (doorRoll==1) {
		
			if (direction=="right") {
	
				if (wall=="north" || wall=="south" ) {
					startInd+=1;
				}
			
			}
			
			if (direction=="left") {
		
				if (wall=="north" || wall=="south" ) {
					startInd-=1;
				}
			
			}
			
			if (direction=="up") {
			
				if (wall=="east" || wall=="west") {
					
					startInd-=16;
				}
			
			}
			
			if (direction=="down") {
			
				if (wall=="east" || wall=="west") {
					
					startInd+=16;
				}
			
			}
		
		}
		
		if (doorRoll==2) {
		
			if (direction=="right") {
	
				if (wall=="north" || wall=="south" ) {
					startInd+=2;
				}
			
			}
			
			if (direction=="left") {
		
				if (wall=="north" || wall=="south" ) {
					startInd-=2;
				}
			
			}
			
			if (direction=="up") {
			
				if (wall=="east" || wall=="west") {
					
					startInd-=32;
				}
			
			}
			
			if (direction=="down") {
			
				if (wall=="east" || wall=="west") {
					
					startInd+=32;
				}
			
			}
		
		}
	
	}
	
	else if (width==5) {
	
		doorRoll=rollDie(3,1);
		
		if (doorRoll==1) {
		
			if (direction=="right") {
	
				if (wall=="north" || wall=="south" ) {
					startInd+=1;
				}
			
			}
			
			if (direction=="left") {
		
				if (wall=="north" || wall=="south" ) {
					startInd-=1;
				}
			
			}
			
			if (direction=="up") {
			
				if (wall=="east" || wall=="west") {
					
					startInd-=16;
				}
			
			}
			
			if (direction=="down") {
			
				if (wall=="east" || wall=="west") {
					
					startInd+=16;
				}
			
			}
		
		}
		
		if (doorRoll==2) {
		
			if (direction=="right") {
	
				if (wall=="north" || wall=="south" ) {
					startInd+=2;
				}
			
			}
			
			if (direction=="left") {
		
				if (wall=="north" || wall=="south" ) {
					startInd-=2;
				}
			
			}
			
			if (direction=="up") {
			
				if (wall=="east" || wall=="west") {
					
					startInd-=32;
				}
			
			}
			
			if (direction=="down") {
			
				if (wall=="east" || wall=="west") {
					
					startInd+=32;
				}
			
			}
		
		}
	
		if (doorRoll==3) {
		
			if (direction=="right") {
	
				if (wall=="north" || wall=="south" ) {
					startInd+=3;
				}
			
			}
			
			if (direction=="left") {
		
				if (wall=="north" || wall=="south" ) {
					startInd-=3;
				}
			
			}
			
			if (direction=="up") {
			
				if (wall=="east" || wall=="west") {
					
					startInd-=48;
				}
			
			}
			
			if (direction=="down") {
			
				if (wall=="east" || wall=="west") {
					
					startInd+=48;
				}
			
			}
		
		}
		
	}
	
	
	
	
	$("#roomTile" + startInd).html("+");*/
	
	return doorInd;
	

}

$("#createFloorBut").click(function() {

	console.log("NEW----------------------------------------");

	//to do...?
	//to scale to any dimension floor,
	//keep track of all grid cells on perimeter
	//SE corner = ((length-of-columns * length-of-rows) - 1)
	//SW corner = ((length-of-colums * length-of-rows) - 1) - length-of-rows
	//NE corner = (length-of-rows) - 1
	//NW corner = 0
	//top row = 0 through length-of-rows
	//bottom row = (length-of-colums * length-of-rows - 1) through length-of-rows
	//right column = all equal to (SE corner - (length-of-rows * n)) where n = number of rows
	//left column = all equal to (SW corner - (length-of-rows * n)) where n = number of rows
	//right column = (indicies-1) equal to (length-of-rows) when (length-of-rows % length-of-columns)?
	//left column = (indicies-1) equal to 0 when (length-of-rows % length-of-columns))
	//zero base

	/*var index=1;

	var floorLabel;
	floorLabel=floorGridArr[index].label;
	
	
	$("#" + floorLabel).html("room");*/
	
	//initialize floor button colors and allRooms array
	
	var tempRoomIndex=currFloor*20;
	for (i=0;i<floorSize;i++)
	{
		$("div.floorContainer").find("button").css("background", butDefColor);
		
		allRooms[tempRoomIndex].roomExists=false;
		tempRoomIndex++;
	}
	floorTileIndex=-1;
	
	let tempInd=buildRoom.length;
	tempInd--;
	
	for (i=0;i<tempInd;i++) {
	
			buildRoom.pop();
		
	
	}

	buildRoom[0].hasMultipiece=false;
	
	//newBuildRoom();


	var desCheckA=0; //check if descend=arrival (is duplicate)
	var desCheckB=0; //check if duplicate
	var aArrLoc=0; //a coordinate of arrival room
	//var bArrLoc=0; //b coordinate of arrival room
	//var aDesLoc=0; //a coordinate of descending room
	var bDesLoc=0; //b coordinate of descending room
	
	var roomRoll=0; //for rolling die
	
	var tempRoomIndex=0; //index of temporary room, for checking feature
	var prevRoomIndex=0; //index of previous room, if needed
	
	var floorArrIndex=0;
	var floorLabel=""; //for building floor feature
	
	var tempLabel=""; //for creating directional labels
	
	var deadEndIndex=0; //for when moving one-way into dead end
	var compareLabel=""; //for comparing button for dead end
		
	//allFloors[currFloor].floorExists=true;
	
	
	for (i=0;i<floorSize;i++) //initialize floor
	{
	
		floorLabel=floorGridArr[floorArrIndex].label;
		$("#" + floorLabel).html("");
		
		floorArrIndex++; //left to right...
		
		
	}
	
	buildRoom[0].northPossible=false;
	buildRoom[0].eastPossible=false;
	buildRoom[0].southPossible=false;
	buildRoom[0].westPossible=false;
	
	//set obstacles
	//test
	
	let obstAm=rollDie(2,1);
	let obstProb=rollDie(3,1);
	let obstInd=rollDie0(19,1);
	
	for (i=0;i<obstAm;i++) {
		
		if (obstProb==1) {
		
			floorLabel=floorGridArr[obstInd].label;
			$("#" + floorLabel).html(".");
		}
		
		obstProb=rollDie(3,1);
		obstInd=rollDie0(19,1);
	}
	
	//test
	
	floorArrIndex=rollDie0(20, 1);
	
	//start in custom position, 0-19
	//floorArrIndex=0; //test
	
	/*let tempRoll=rollDie(4,1);
	
	if (tempRoll==1) {
		floorArrIndex=4;
	}
	
	if (tempRoll==2) {
		floorArrIndex=9;
	}
	
	if (tempRoll==3) {
		floorArrIndex=14;
	}
	
	if (tempRoll==4) {
		floorArrIndex=19;
	}*/
	
	
	buildRoom[0].floorIndex=floorArrIndex;
	
	//set arrival tile
	floorLabel=floorGridArr[floorArrIndex].label;
	aArrLoc=floorArrIndex; //save arrival tile
	$("#" + floorLabel).html("a");
	
	console.log("a is in " + aArrLoc);
	
	
	//set descending tile
	floorArrIndex=rollDie0(20, 1);
	
	//descend in custom position, 1-19
	//floorArrIndex=4; //test
	
	//if descend = arrival, or is horizonal/vertical adjacent
	while (floorArrIndex==aArrLoc || floorArrIndex+1==aArrLoc || floorArrIndex-1==aArrLoc || floorArrIndex+5==aArrLoc || floorArrIndex-5==aArrLoc) {
	
		floorArrIndex=rollDie0(20, 1);
		
	}
	
	
	/*//if descend is vertical adjacent
	while (floorArrIndex+5==aArrLoc || floorArrIndex-5==aArrLoc || floorArrIndex==aArrLoc) {
	
		floorArrIndex=rollDie0(20, 1);
		
	}
	
	
	//if descend is horizontal adjacent
	while (floorArrIndex+1==aArrLoc || floorArrIndex-1==aArrLoc || floorArrIndex==aArrLoc) {
	
		floorArrIndex=rollDie0(20, 1);
		
	}*/
	
	bDesLoc=floorArrIndex; //save descending tile
	floorLabel=floorGridArr[floorArrIndex].label;
	
	console.log("b is at " + bDesLoc);
	$("#" + floorLabel).html("b");
	
	buildRoom[0].northPossible=false;
	buildRoom[0].eastPossible=false;
	buildRoom[0].southPossible=false;
	buildRoom[0].westPossible=false;
	
	//set index back to arrival
	floorArrIndex=aArrLoc;
	
	//check north of arrival
	tempRoomIndex=floorArrIndex-5;
	
	if (tempRoomIndex<0)
	buildRoom[0].northPossible=false;
	else
	buildRoom[0].northPossible=true;
	
	//check east of arrival
	tempRoomIndex=floorArrIndex;
	
	
	if (tempRoomIndex==4 || tempRoomIndex==9 || tempRoomIndex==14 || tempRoomIndex==19)
	buildRoom[0].eastPossible=false;
	else if  (tempRoomIndex>=0 && tempRoomIndex<=19)
	buildRoom[0].eastPossible=true;

	//check south of arrival
	tempRoomIndex=floorArrIndex+5;
	
	if (tempRoomIndex>19)
	buildRoom[0].southPossible=false;
	else if  (tempRoomIndex>=0 && tempRoomIndex<=19)
	buildRoom[0].southPossible=true;

	//check west of arrival
	tempRoomIndex=floorArrIndex;
	
	if (tempRoomIndex==0 || tempRoomIndex==5 || tempRoomIndex==10 || tempRoomIndex==15)
	buildRoom[0].westPossible=false;
	else if  (tempRoomIndex>=0 && tempRoomIndex<=19)
	buildRoom[0].westPossible=true;
	
	
	buildRoom[0].exitAmount=0;
	buildRoom[0].hasNorthExit=false;
	buildRoom[0].hasSouthExit=false;
	buildRoom[0].hasWestExit=false;
	buildRoom[0].hasEastExit=false;
	
	//one pass to get exits, 50% chance of each
	//with allRooms, update hasExits here
	while (buildRoom[0].exitAmount==0) {
		
		if (buildRoom[0].northPossible==true) {
		
			roomRoll=rollDie(2, 1);
			
			if (roomRoll==1) {
			
				buildRoom[0].hasNorthExit=true;
				buildRoom[0].exitAmount++;
			}
			
		}
		
		if (buildRoom[0].eastPossible==true) {
		
			roomRoll=rollDie(2, 1);
			
			if (roomRoll==1) {
			
				buildRoom[0].hasEastExit=true;
				buildRoom[0].exitAmount++;
			}
		
		}
		
		if (buildRoom[0].southPossible==true) {
		
			roomRoll=rollDie(2, 1);
			
			if (roomRoll==1) {
			
				buildRoom[0].hasSouthExit=true;
				buildRoom[0].exitAmount++;
			}
		
		}
		
		if (buildRoom[0].westPossible==true) {
		
			roomRoll=rollDie(2, 1);
			
			if (roomRoll==1) {
			
				buildRoom[0].hasWestExit=true;
				buildRoom[0].exitAmount++;
			}
		
		}
	}
	
	
	//push onto stack if multiple exits
	if (buildRoom[0].exitAmount>1) {
	
		//console.log(buildRoom[0].exitAmount);
		newBuildRoom(aArrLoc, buildRoom[0].hasNorthExit, buildRoom[0].hasEastExit, buildRoom[0].hasSouthExit, buildRoom[0].hasWestExit, buildRoom[0].exitAmount);
	}
	
	
	//change arrival label
	
	//N
	if (buildRoom[0].hasNorthExit==true && buildRoom[0].hasEastExit==false && buildRoom[0].hasSouthExit==false && buildRoom[0].hasWestExit==false) {
	
		tempLabel="<br>a"; //hehe, bra
		floorLabel=floorGridArr[aArrLoc].label;
		$("#" + floorLabel).html(tempLabel);
		
	}
	
	//E
	if (buildRoom[0].hasNorthExit==false && buildRoom[0].hasEastExit==true && buildRoom[0].hasSouthExit==false && buildRoom[0].hasWestExit==false) {
	
		tempLabel="a";
		floorLabel=floorGridArr[aArrLoc].label;
		$("#" + floorLabel).html(tempLabel);
		
	}

	//S
	if (buildRoom[0].hasNorthExit==false && buildRoom[0].hasEastExit==false && buildRoom[0].hasSouthExit==true && buildRoom[0].hasWestExit==false) {
	
		tempLabel="a<br>";
		floorLabel=floorGridArr[aArrLoc].label;
		$("#" + floorLabel).html(tempLabel);
		
	}
	
	//W
	if (buildRoom[0].hasNorthExit==false && buildRoom[0].hasEastExit==false && buildRoom[0].hasSouthExit==false && buildRoom[0].hasWestExit==true) {
	
		tempLabel="a";
		floorLabel=floorGridArr[aArrLoc].label;
		$("#" + floorLabel).html(tempLabel);
		
	}
	

	// N/E
	if (buildRoom[0].hasNorthExit==true && buildRoom[0].hasEastExit==true && buildRoom[0].hasSouthExit==false && buildRoom[0].hasWestExit==false) {
	
		tempLabel="<br>a";
		floorLabel=floorGridArr[aArrLoc].label;
		$("#" + floorLabel).html(tempLabel);
		
	}
	
	//N/S
	if (buildRoom[0].hasNorthExit==true && buildRoom[0].hasEastExit==false && buildRoom[0].hasSouthExit==true && buildRoom[0].hasWestExit==false) {
	
		tempLabel="<br>a<br>";
		floorLabel=floorGridArr[aArrLoc].label;
		$("#" + floorLabel).html(tempLabel);
		
	}
	
	//N/W
	if (buildRoom[0].hasNorthExit==true && buildRoom[0].hasEastExit==false && buildRoom[0].hasSouthExit==false && buildRoom[0].hasWestExit==true) {
	
		tempLabel="<br>a";
		floorLabel=floorGridArr[aArrLoc].label;
		$("#" + floorLabel).html(tempLabel);
		
	}
	
	//E/S
	if (buildRoom[0].hasNorthExit==false && buildRoom[0].hasEastExit==true && buildRoom[0].hasSouthExit==true && buildRoom[0].hasWestExit==false) {
	
		tempLabel="a<br>";
		floorLabel=floorGridArr[aArrLoc].label;
		$("#" + floorLabel).html(tempLabel);
		
	}
	
	//E/W
	if (buildRoom[0].hasNorthExit==false && buildRoom[0].hasEastExit==true && buildRoom[0].hasSouthExit==false && buildRoom[0].hasWestExit==true) {
	
		tempLabel="a";
		floorLabel=floorGridArr[aArrLoc].label;
		$("#" + floorLabel).html(tempLabel);
		
	}
	
	//S/W
	if (buildRoom[0].hasNorthExit==false && buildRoom[0].hasEastExit==false && buildRoom[0].hasSouthExit==true && buildRoom[0].hasWestExit==true) {
	
		tempLabel="a<br>";
		floorLabel=floorGridArr[aArrLoc].label;
		$("#" + floorLabel).html(tempLabel);
		
	}
	
	//N/E/S
	if (buildRoom[0].hasNorthExit==true && buildRoom[0].hasEastExit==true && buildRoom[0].hasSouthExit==true && buildRoom[0].hasWestExit==false) {
	
		tempLabel="<br>a<br>";
		floorLabel=floorGridArr[aArrLoc].label;
		$("#" + floorLabel).html(tempLabel);
		
	}
	
	//N/E/W
	if (buildRoom[0].hasNorthExit==true && buildRoom[0].hasEastExit==true && buildRoom[0].hasSouthExit==false && buildRoom[0].hasWestExit==true) {
	
		tempLabel="<br>a";
		floorLabel=floorGridArr[aArrLoc].label;
		$("#" + floorLabel).html(tempLabel);
		
	}
	
	//N/W/S
	if (buildRoom[0].hasNorthExit==true && buildRoom[0].hasEastExit==false && buildRoom[0].hasSouthExit==true && buildRoom[0].hasWestExit==true) {
	
		tempLabel="<br>a<br>";
		floorLabel=floorGridArr[aArrLoc].label;
		$("#" + floorLabel).html(tempLabel);
		
	}
	
	//W/S/E
	if (buildRoom[0].hasNorthExit==false && buildRoom[0].hasEastExit==true && buildRoom[0].hasSouthExit==true && buildRoom[0].hasWestExit==true) {
	
		tempLabel="a<br>";
		floorLabel=floorGridArr[aArrLoc].label;
		$("#" + floorLabel).html(tempLabel);
		
	}
	
	//N/E/S/W
	if (buildRoom[0].hasNorthExit==true && buildRoom[0].hasEastExit==true && buildRoom[0].hasSouthExit==true && buildRoom[0].hasWestExit==true) {
	
		tempLabel="<br>a<br>";
		floorLabel=floorGridArr[aArrLoc].label;
		$("#" + floorLabel).html(tempLabel);
		
	}
	
	//console.log(tempLabel);
	
	
	//to do: if exitAmount > 1 pop onto stack...
	
	deadEnd=false;
	
	//set temp index & current index back to arrival
	tempRoomIndex=aArrLoc;
	floorArrIndex=aArrLoc;
	
	
	
	//build path to destination
	
	//determine which exit to use first if multiple
	//if multiple, should be popped on stack
	//while not at destination or not at a dead end, and in bounds
	
	while (floorArrIndex!=bDesLoc && buildRoom.length>0 && (floorArrIndex>=0 && floorArrIndex<=19)) {
	
		console.log(floorArrIndex);
		floorArrIndex=buildFloorToDes(floorArrIndex, prevRoomIndex, floorLabel, roomRoll, bDesLoc, aArrLoc);

	} // create feature while loop 
	
	for (i=0;i<floorSize;i++) {
		
			floorGridArr[i].symbol=$("#floor"+i).html();
			
		
	}
})

function buildFloorToDes(floorArrIndex, prevRoomIndex, floorLabel,roomRoll, bDesLoc, aArrLoc) {

	let testVal=floorArrIndex;

	//console.log(floorArrIndex);

	var compareLabel=""; //for comparing in case of bump
	
	isMulti=false;
	buildRoom[0].hasMultipiece=false;
	
	stackPopped=false;
	buildRoom[0].reroute=false;
		
	
	
	if (buildRoom[0].hasNorthExit==false && buildRoom[0].hasSouthExit==false && buildRoom[0].hasWestExit==false && buildRoom[0].hasEastExit==false && buildRoom.length==1) {
	
		floorArrIndex=777;
		console.log("all directions false");
	}
	
	if (buildRoom[0].northPossible==false && buildRoom[0].eastPossible==false && buildRoom[0].southPossible==false && buildRoom.westPossible==false) {
	
		console.log("dead end!");
	}
	
	
	if (floorArrIndex>=0 && floorArrIndex<=19) {
		//---
		
		//to do
		//all of the below should really go into the inbounds if...

		//check if hit destination, don't change current, should be okay here

		
		checkConnect (compareLabel, floorLabel, floorArrIndex, floorArrIndex);
		
		if (buildRoom[0].northPossible!=true)
		{

			buildRoom[0].hasNorthExit=false;
			
		}
		
		if (buildRoom[0].eastPossible!=true)
		{

			buildRoom[0].hasEastExit=false;
			
		}
		
		if (buildRoom[0].southPossible!=true)
		{

			buildRoom[0].hasSouthExit=false;
			
		}
		
		if (buildRoom[0].westPossible!=true)
		{

			buildRoom[0].hasWestExit=false;
			
		}
		
		

		
		//move up one if has north exit
		if (buildRoom[0].hasNorthExit==true) {
		
			prevRoomIndex=floorArrIndex;
			floorArrIndex-=5;
			

		}
		
		//move right one if has east exit
		else if (buildRoom[0].hasEastExit==true) {
		
			prevRoomIndex=floorArrIndex;
			floorArrIndex+=1;
			

		}
		
		//move down one if has south exit
		else if (buildRoom[0].hasSouthExit==true) {
		
			prevRoomIndex=floorArrIndex;
			floorArrIndex+=5;
			

		}
		
		//move left one if has west exit
		else if (buildRoom[0].hasWestExit==true) {
		
			prevRoomIndex=floorArrIndex;
			floorArrIndex-=1;
			

		}
		
		console.log("now in " + floorArrIndex);
		
		/*//test west + north
		if (buildRoom[0].hasWestExit==true || buildRoom[0].hasEastExit==true) {
		
			prevRoomIndex=floorArrIndex;
			floorArrIndex-=1;
		}
		
		else if (buildRoom[0].hasNorthExit==true || buildRoom[0].hasSouthExit==true) {
		
			prevRoomIndex=floorArrIndex;
			floorArrIndex-=5;
			
			//test
			//floorArrIndex=777;
		}*/
		
		//test east
		//prevRoomIndex=floorArrIndex;
		//floorArrIndex+=1;
		
		
		//test west
		//prevRoomIndex=floorArrIndex;
		//floorArrIndex-=1;
		
		
		//test south
		//prevRoomIndex=floorArrIndex;
		//floorArrIndex+=5;

		
		//test north
		//prevRoomIndex=floorArrIndex;
		//floorArrIndex-=5;
		
		
		
		//check if bumping into feature that's not descending room
								
		floorLabel=floorGridArr[floorArrIndex].label;
		compareLabel=$("#" + floorLabel).html();
		
		if (prevRoomIndex==floorArrIndex-1 && (floorArrIndex!=4 && floorArrIndex!=9 && floorArrIndex!=14 && floorArrIndex!=19) && compareLabel!="" && compareLabel!="b" && floorArrIndex!=aArrLoc)
		{

			//if different, then bump
			
			
			//move back east one square
			floorArrIndex--;
			prevRoomIndex=floorArrIndex;
			
			//reroute
			console.log("bump in east");
			floorArrIndex=bumpFloor(floorArrIndex, "east", aArrLoc, bDesLoc);
			
		}
		
		floorLabel=floorGridArr[floorArrIndex].label;
		compareLabel=$("#" + floorLabel).html();
		
		if (prevRoomIndex==floorArrIndex+1 && floorArrIndex!=0 && floorArrIndex!=5 && floorArrIndex!=10 && floorArrIndex!=15 && compareLabel!="" && compareLabel!="b")
		{

			//if different, then bump
			
			
			//move back west one square
			floorArrIndex++;
			prevRoomIndex=floorArrIndex;
			
			//reroute
			console.log("bump in west");
			floorArrIndex=bumpFloor(floorArrIndex, "west", aArrLoc, bDesLoc);
			
		}
		
		floorLabel=floorGridArr[floorArrIndex].label;
		compareLabel=$("#" + floorLabel).html();
		
		if (prevRoomIndex==floorArrIndex-5 && floorArrIndex<15 && compareLabel!="" && compareLabel!="b")
		{

			//if different, then bump
			
			
			//move back north one square
			
			floorArrIndex+=5;
			prevRoomIndex=floorArrIndex;
			
			//reroute
			
			console.log("bump in north");
			floorArrIndex=bumpFloor(floorArrIndex, "north", aArrLoc, bDesLoc);
			
		}
		
		floorLabel=floorGridArr[floorArrIndex].label;
		compareLabel=$("#" + floorLabel).html();
		
		if (prevRoomIndex==floorArrIndex+5 && floorArrIndex>4 && compareLabel!="" && compareLabel!="b")
		{

			//if different, then bump
			
			
			//move back south one square
			floorArrIndex-=5;
			prevRoomIndex=floorArrIndex;
			
			//reroute
			console.log("bump in south");
			floorArrIndex=bumpFloor(floorArrIndex, "south", aArrLoc, bDesLoc);
			
		}
		
		
		/*if (buildRoom[0].reroute==true) {
		
			//redo exits if bump
			
			//move up one if has north exit
			if (buildRoom[0].hasNorthExit==true) {
			
				prevRoomIndex=floorArrIndex;
				floorArrIndex-=5;
				
				//test
				//floorArrIndex=777;
			}
			
			//move right one if has east exit
			else if (buildRoom[0].hasEastExit==true) {
			
				prevRoomIndex=floorArrIndex;
				floorArrIndex+=1;
				
				//test
				//floorArrIndex=777;
			}
			
			//move down one if has south exit
			else if (buildRoom[0].hasSouthExit==true) {
			
				prevRoomIndex=floorArrIndex;
				floorArrIndex+=5;
				
				//test
				//floorArrIndex=777;
			}
			
			//move left one if has west exit
			else if (buildRoom[0].hasWestExit==true) {
			
				prevRoomIndex=floorArrIndex;
				floorArrIndex-=1;
				
				//test
				//floorArrIndex=777;
			}
		
		}*/
		
		
		
		if (floorArrIndex==bDesLoc) {
		
			let tempRoomIndex=0; //lazy
			hitDes=true;
		
			console.log("hit descend!");
			if (buildRoom.length==1) {
			
				console.log("popped all in stack and all were dead ends");
				floorArrIndex=777;
			}
			
			if (buildRoom.length>1) {
			
				buildRoom.shift();
				stackPopped=true;
				//floorArrIndex=buildRoom[0].floorIndex; //popped stack*/
				
				//console.log(buildRoom[0].floorIndex);
				floorArrIndex=buildRoom[0].floorIndex;
				buildRoom[0].hasMultiPiece=false;
				console.log("new index is: " + floorArrIndex);
				
				console.log("checking surroundings of new popped room");
				checkConnect (compareLabel, floorLabel, tempRoomIndex, floorArrIndex);
				//floorArrIndex=floorCheckSurround(compareLabel, floorLabel, tempRoomIndex, floorArrIndex);
				
				while (buildRoom.length>1 && buildRoom[0].northPossible==false && buildRoom[0].eastPossible==false && buildRoom[0].southPossible==false && buildRoom[0].westPossible==false) {
					
					console.log("last popped room was dead end");
					//buildRoom[1]=buildRoom[0];
					buildRoom.shift();
					stackPopped=true;
					
					//console.log(buildRoom[0].floorIndex);
					floorArrIndex=buildRoom[0].floorIndex; //not needed since return buildRoom's anyway?
					buildRoom[0].hasMultiPiece=false;
					console.log("new index is: " + floorArrIndex);
					
					console.log("checking surroundings of new popped room");
					checkConnect (compareLabel, floorLabel, tempRoomIndex, floorArrIndex);
					//floorArrIndex=floorCheckSurround(compareLabel, floorLabel, tempRoomIndex, floorArrIndex);
					
				} //while
				
				//check if exits of popped room are now occupied
				
				//move to appropriate position from popped room
				
				let dirChosen=false;
				prevRoomIndex=777;
				
				//move up one if has north exit
				if (buildRoom[0].hasNorthExit==true) {
				
					//not occupied
					if (buildRoom[0].northPossible==true) {
				
						prevRoomIndex=floorArrIndex;
						floorArrIndex-=5;
						
						//check if destination
						floorLabel=floorGridArr[floorArrIndex].label;
						compareLabel=$("#" + floorLabel).html();
						
						if (compareLabel!="b" && compareLabel=="") {
							dirChosen=true;
						}
						
						//move back and exit is false
						else {
						
							buildRoom[0].hasNorthExit=false;
							floorArrIndex+=5;
							prevRoomIndex=777;
						}
					}
					
					//occupied
					else {
					
						buildRoom[0].hasNorthExit=false;
					}
		
				}
				
				//move right one if has east exit
				else if (buildRoom[0].hasEastExit==true && dirChosen==false) {
				
					if (buildRoom[0].eastPossible==true) {
					
						prevRoomIndex=floorArrIndex;
						floorArrIndex+=1;
						
						//check if destination
						floorLabel=floorGridArr[floorArrIndex].label;
						compareLabel=$("#" + floorLabel).html();
						
						if (compareLabel!="b" && compareLabel=="") {
							dirChosen=true;
						}
						
						//move back and exit is false
						else {
						
							buildRoom[0].hasEastExit=false;
							floorArrIndex-=1;
							prevRoomIndex=777;
						}			
					}
					
					//occupied
					else {
					
						buildRoom[0].hasEastExit=false;
					}
				}
				
				//move down one if has south exit
				else if (buildRoom[0].hasSouthExit==true && dirChosen==false) {
				
					if (buildRoom[0].southPossible==true) {
						prevRoomIndex=floorArrIndex;
						floorArrIndex+=5;
						
						//check if destination
						floorLabel=floorGridArr[floorArrIndex].label;
						compareLabel=$("#" + floorLabel).html();
						
						if (compareLabel!="b" && compareLabel=="") {
							dirChosen=true;
						}
						
						//move back and exit is false
						else {
						
							buildRoom[0].hasSouthExit=false;
							floorArrIndex-=5;
							prevRoomIndex=777;
						}
						
					}
		
					//occupied
					else {
					
						buildRoom[0].hasSouthExit=false;
					}
				}
				
				//move left one if has west exit
				else if (buildRoom[0].hasWestExit==true && dirChosen==false) {
				
					if (buildRoom[0].westPossible==true) {
						prevRoomIndex=floorArrIndex;
						floorArrIndex-=1;
						//check if destination
						floorLabel=floorGridArr[floorArrIndex].label;
						compareLabel=$("#" + floorLabel).html();
						
						if (compareLabel!="b" && compareLabel=="") {
							dirChosen=true;
						}
						
						//move back and exit is false
						else {
							
							buildRoom[0].hasWestExit=false;
							floorArrIndex+=1;
							prevRoomIndex=777;
						}
					}
					
					//occupied
					else {
					
						buildRoom[0].hasWestExit=false;
					}

				}
			
			} //if stack length >1
			
			console.log("hit des, now in index " + floorArrIndex);
			
		} //ran into des
		
		console.log("prevRoomIndex is " + prevRoomIndex);
		
		checkConnect (compareLabel, floorLabel, floorArrIndex, floorArrIndex);
		//floorArrIndex=floorCheckSurround(compareLabel, floorLabel, floorArrIndex, floorArrIndex);
		
		buildRoom[0].floorIndex=floorArrIndex;
		
		//---
		
		
		//create random valid feature in new current room
		//check current position (having just moved), then make feature


		if (floorArrIndex!=aArrLoc && floorArrIndex!=bDesLoc) {
		
		//moving east
		//if (floorArrIndex==prevRoomIndex+1 || (stackPopped==true && buildRoom[0].hasEastExit==true)) {
		if (floorArrIndex==prevRoomIndex+1) {
			console.log("east");
			
		
			//set previous room hasEast to false if multipiece
			//necessarily is at top of stack
			/*if (isMulti==true) {
			
				let tempInd=buildRoom.length;
				tempInd--;
				
				if (tempInd>0) {
				
					buildRoom[tempInd].hasEastExit=false;
				
				}
			
			}*/
			
			//check if on descend tile
			//if (floorArrIndex!=bDesLoc) {
		
				
				
				//if not bump
				//else {
			
					//moving east in top row
					if (floorArrIndex<5) {
					
						//moving east in top row, not in corner (top right)
						if (floorArrIndex<4) {
						
							//floorArrIndex=777;
							
							//four options: , , , or room
							// 28% chance of non room, 14% chance of room
							
							roomRoll=rollDie(7,1);
							
							//roomRoll=rollDie(3,1);
							
							//console.log("roll is " + roomRoll);
							
							//
							if (((roomRoll==1 || roomRoll==2))  && (buildRoom[0].eastPossible==true || buildRoom[0].eastMand==true) && (buildRoom[0].southMand!=true)) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false;
								buildRoom[0].hasEastExit=true;
								buildRoom[0].hasNorthExit=false;
								buildRoom[0].hasWestExit=false; //coming from west
								
								buildRoom[0].exitAmount=1;
								
								
								console.log(", moving east in top row");
								
								//floorArrIndex=777;
							
							} //
							
							//
							else if ((roomRoll==3 || roomRoll==4) && buildRoom[0].hasMultipiece==true && (buildRoom[0].southConnect==true || buildRoom[0].southMand==true) && buildRoom[0].eastMand!=true) {

								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=true;
								buildRoom[0].hasEastExit=false;
								buildRoom[0].hasNorthExit=false;
								buildRoom[0].hasWestExit=false; //coming from west
								
								buildRoom[0].exitAmount=1;
							
								console.log(", moving east in top row");
								
								//floorArrIndex=777;
							
							} //
							
							//
							else if ((roomRoll==5 || roomRoll==6) && buildRoom[0].hasMultipiece==false && (buildRoom[0].eastPossible==true || buildRoom[0].eastMand==true) && (buildRoom[0].southPossible==true || buildRoom[0].southMand==true)) {
						
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=true;
								buildRoom[0].hasEastExit=true;
								buildRoom[0].hasNorthExit=false;
								buildRoom[0].hasWestExit=false; //coming from west
								
								buildRoom[0].hasMultipiece=true;
								isMulti=true;
								
								//to do: change to multiple exits
								buildRoom[0].exitAmount=2;
								newBuildRoom(floorArrIndex, buildRoom[0].hasNorthExit, buildRoom[0].hasEastExit, buildRoom[0].hasSouthExit, buildRoom[0].hasWestExit, buildRoom[0].exitAmount);
								
								console.log(", moving east in top row");
							
								//floorArrIndex=777;
								
							} //
							
							
							//room
							else {

								console.log("room, moving east in top row");
								setFloorAsRoom(floorArrIndex, "east");
							
								//floorArrIndex=777; //test
							
							} //room
						
						
						} //moving east in top row and not in corner
						
						//moving east, in top right corner
						if (floorArrIndex==4) {
						
						
							roomRoll=rollDie(3,1);
							
							//roomRoll=1;
							
							//
							if ((roomRoll==1 || roomRoll==2) && (buildRoom[0].southPossible==true || buildRoom[0].southMand==true)) {
							

								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=true;
								buildRoom[0].hasEastExit=false;
								buildRoom[0].hasNorthExit=false;
								buildRoom[0].hasWestExit=false; //coming from west
								
								buildRoom[0].exitAmount=1;
								
								console.log(", moving east in top left corner");
								
							
							} //
							
							//room
							else {
							
								console.log("room, moving east in top left corner");
								setFloorAsRoom(floorArrIndex, "east");
								
							
							} //room
						
							//floorArrIndex=777; //test
						
						}//moving east, in top right corner
					
					} //moving east in top row
					
					//moving east in bottom row
					if (floorArrIndex>14) {
					
						//moving east in bottom row, not in corner
						if (floorArrIndex<19) {
						
							//four options: , , , or room
							
							roomRoll=rollDie(7,1);
							
							//roomRoll=rollDie(3,1); //test
							
							
							
							//
							if ((roomRoll==1 || roomRoll==2) && ((buildRoom[0].eastPossible==true || buildRoom[0].eastMand==true) && buildRoom[0].northMand!=true)) {
							
								
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false;
								buildRoom[0].hasEastExit=true;
								buildRoom[0].hasNorthExit=false;
								buildRoom[0].hasWestExit=false; //coming from west
								
								buildRoom[0].exitAmount=1;
								
								console.log(", moving east in bottom row");
								
								//floorArrIndex=777;
							
							} //
							
							
							//
							else if ((roomRoll==3 || roomRoll==4) && buildRoom[0].hasMultipiece==true && (buildRoom[0].northPossible==true || buildRoom[0].northMand==true)) {

								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false;
								buildRoom[0].hasEastExit=false;
								buildRoom[0].hasNorthExit=true;
								buildRoom[0].hasWestExit=false; //coming from west
								
								buildRoom[0].exitAmount=1;
								
								console.log(", moving east in bottom row");
								
							
							} //
							
							//
							else if ((roomRoll==5 || roomRoll==6) && buildRoom[0].hasMultipiece==false && (buildRoom[0].eastPossible==true || buildRoom[0].eastMand==true) && (buildRoom[0].northPossible==true || buildRoom[0].northMand==true)) {
								
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false;
								buildRoom[0].hasEastExit=true;
								buildRoom[0].hasNorthExit=true;
								buildRoom[0].hasWestExit=false; //coming from west
								
								buildRoom[0].hasMultipiece=true;
								isMulti=true;
								
								//to do: change to multiple exits
								buildRoom[0].exitAmount=2;
								newBuildRoom(floorArrIndex, buildRoom[0].hasNorthExit, buildRoom[0].hasEastExit, buildRoom[0].hasSouthExit, buildRoom[0].hasWestExit, buildRoom[0].exitAmount);
								
							
								console.log(", moving east in bottom row");
							
							} //
							
							
							//room
							else{
							
								setFloorAsRoom(floorArrIndex, "east");
							
							} //room
						
							//floorArrIndex=777;
						
						
						} // moving east in bottom row and not in corner
						
						//moving east, in bottom right corner 
						if (floorArrIndex==19) {
						
							//two choices: , room
						
							roomRoll=rollDie(3,1);
							
							//roomRoll=1;
							
							
							//
							if ((roomRoll==1 || roomRoll==2) && buildRoom[0].northConnect==true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false;
								buildRoom[0].hasEastExit=false;
								buildRoom[0].hasNorthExit=true;
								buildRoom[0].hasWestExit=false; //coming from west
								
								buildRoom[0].exitAmount=1;
								
								console.log(", moving east in bottom right corner");
								
							} //
							
							//room
							else {
								
								setFloorAsRoom(floorArrIndex, "east");
								
							
							} //room
						
							//floorArrIndex=777;
						
						} //moving east, in bottom corner
					
					} //moving east in bottom row
					
					//moving east, somewhere in middle (not in top or bottom row)
					if (floorArrIndex>4 && floorArrIndex<15) {
					
						//console.log("somewhere in middle");
					
						//moving east, somewhere in middle, not in rightmost column
						if (floorArrIndex%5 != 4) {
						
							//seven choices: ,  , , , , , room
							
							roomRoll=rollDie(13, 1);
							
							
							//roomRoll=rollDie(6,1); //test
							
							//roomRoll=6;//test
							
							//
							if ((roomRoll==1 || roomRoll==2) && (buildRoom[0].eastPossible==true || buildRoom[0].eastMand==true) && buildRoom[0].southMand!=true && buildRoom[0].northMand!=true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false;
								buildRoom[0].hasEastExit=true;
								buildRoom[0].hasNorthExit=false;
								buildRoom[0].hasWestExit=false; //coming from west
								
								buildRoom[0].exitAmount=1;
								
								
								//floorArrIndex=777;
							
							
							} //
							
							
							//
							else if ((roomRoll==3 || roomRoll==4) && (buildRoom[0].northPossible==true || buildRoom[0].northMand==true) && buildRoom[0].eastMand!=true && buildRoom[0].southMand!=true) {

								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false;
								buildRoom[0].hasEastExit=false;
								buildRoom[0].hasNorthExit=true;
								buildRoom[0].hasWestExit=false; //coming from west
								
								buildRoom[0].exitAmount=1;
							
							} //
							
							
							//
							else if ((roomRoll==5 || roomRoll==6) && (buildRoom[0].southPossible==true|| buildRoom[0].southMand==true) && buildRoom[0].eastMand!=true && buildRoom[0].northMand!=true) {

								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=true;
								buildRoom[0].hasEastExit=false;
								buildRoom[0].hasNorthExit=false;
								buildRoom[0].hasWestExit=false; //coming from west
								
								buildRoom[0].exitAmount=1;
							
							} //
							
							
							//
							else if ((roomRoll==7 || roomRoll==8)  && (buildRoom[0].northPossible==true || buildRoom[0].northMand==true)&& (buildRoom[0].eastPossible==true || buildRoom[0].eastMand==true)) {

								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false;
								buildRoom[0].hasEastExit=true;
								buildRoom[0].hasNorthExit=true;
								buildRoom[0].hasWestExit=false; //coming from west
								
								isMulti=true;
								
								//to do: change to multiple exits
								buildRoom[0].exitAmount=2;
								newBuildRoom(floorArrIndex, buildRoom[0].hasNorthExit, buildRoom[0].hasEastExit, buildRoom[0].hasSouthExit, buildRoom[0].hasWestExit, buildRoom[0].exitAmount);
							
							
							} //
							
							
							//
							else if (roomRoll==9 ||roomRoll==10 && (buildRoom[0].southPossible==true && buildRoom[0].southMand==true) && (buildRoom[0].eastPossible==true && buildRoom[0].eastMand==true) && buildRoom[0].northMand!=true) {

								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=true;
								buildRoom[0].hasEastExit=true;
								buildRoom[0].hasNorthExit=false;
								buildRoom[0].hasWestExit=false; //coming from west
								
								isMulti=true;
								
								//to do: change to multiple exits
								buildRoom[0].exitAmount=2;
								newBuildRoom(floorArrIndex, buildRoom[0].hasNorthExit, buildRoom[0].hasEastExit, buildRoom[0].hasSouthExit, buildRoom[0].hasWestExit, buildRoom[0].exitAmount);
								
							
								//floorArrIndex=777;
							
							
							} //
							
							//
							else if (roomRoll<=5 && buildRoom[0].northPossible==true && buildRoom[0].southPossible==true && buildRoom[0].eastPossible==true && buildRoom[0].westPossible==true) {

								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=true;
								buildRoom[0].hasEastExit=true;
								buildRoom[0].hasNorthExit=true;
								buildRoom[0].hasWestExit=false; //coming from west
								
								isMulti=true;
								
								//to do: change to multiple exits	
								buildRoom[0].exitAmount=3;
								newBuildRoom(floorArrIndex, buildRoom[0].hasNorthExit, buildRoom[0].hasEastExit, buildRoom[0].hasSouthExit, buildRoom[0].hasWestExit, buildRoom[0].exitAmount);
					
								//floorArrIndex=777;
							
							
							} //
							
							
							//room
							else {
							
								setFloorAsRoom(floorArrIndex, "east");

							
							} //room
							
						
							//floorArrIndex=777;
						
						}
						
						//moving east, somewhere in middle, in rightmost column
						if (floorArrIndex%5==4) {
						
							//four choices: ,  , , room
							
							roomRoll=rollDie(6,1);
							
							
							//roomRoll=rollDie(3,1); //test
							
							
							//
							if ((roomRoll==1 || roomRoll==2) && buildRoom[0].hasMultipiece==true && buildRoom[0].northPossible==true && buildRoom[0].southMand!=true) {

								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false;
								buildRoom[0].hasEastExit=false;
								buildRoom[0].hasNorthExit=true;
								buildRoom[0].hasWestExit=false; //coming from west
								
								buildRoom[0].exitAmount=1;
								
							
							} //
							
							
							//
							else if ((roomRoll==3 || roomRoll==4) && buildRoom[0].hasMultipiece==true && (buildRoom[0].southPossible==true || buildRoom[0].southMand==true) && buildRoom[0].northMand!=true) {

								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=true;
								buildRoom[0].hasEastExit=false;
								buildRoom[0].hasNorthExit=false;
								buildRoom[0].hasWestExit=false; //coming from west
								
								buildRoom[0].exitAmount=1;
								
							
							} //
							
							
							
							//
							else if (roomRoll<=3 && buildRoom[0].hasMultipiece==false && buildRoom[0].northPossible==true && buildRoom[0].southPossible==true) {

								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=true;
								buildRoom[0].hasEastExit=false;
								buildRoom[0].hasNorthExit=true;
								buildRoom[0].hasWestExit=false; //coming from west
								
								buildRoom[0].hasMultipiece=true;
								isMulti=true;
								
								//to do: change to multiple exits
								buildRoom[0].exitAmount=2;
								newBuildRoom(floorArrIndex, buildRoom[0].hasNorthExit, buildRoom[0].hasEastExit, buildRoom[0].hasSouthExit, buildRoom[0].hasWestExit, buildRoom[0].exitAmount);
								
							
							} //
							
							//room
							else {

								setFloorAsRoom(floorArrIndex, "east");
								
							
							} //room
						
							//floorArrIndex=777;
						
						} //moving east, somewhere in middle, rightmost column
					
					} //moving east, somewhere in middle
					
				//} //bump
			
			//}//not on descend tile
		
		} //moving east
		
		//moving west
		//if (floorArrIndex==prevRoomIndex-1 || (stackPopped==true && buildRoom[0].hasWestExit==true)) {
		if (floorArrIndex==prevRoomIndex-1) {
			console.log("west");
		
			//set previous room hasEast to false if multipiece
			//necessarily is at top of stack
			/*if (isMulti==true) {
			
				let tempInd=buildRoom.length;
				tempInd--;
				
				if (tempInd>0) {
				
					buildRoom[tempInd].hasWestExit=false;
				}
			
			}*/
			
			//check if on descend tile
			//if (floorArrIndex!=bDesLoc) {
		
				/*//check if bumping into feature
							
				floorLabel=floorGridArr[floorArrIndex].label;
				compareLabel=$("#" + floorLabel).html();
				
				
				if (compareLabel!="")
				{
					//if different, then bump

					//move back (east) one square
					floorArrIndex++;
					
					//reroute
					floorArrIndex=bumpFloor(floorArrIndex, "west");
					
					//floorArrIndex=777;
					
				}
				
				//if not bump
				else {*/
			
					//moving west, in top row
					if (floorArrIndex<5) {
					
						//moving west, in top row, not in corner
						if (floorArrIndex>0) {
						
							//four choices: , , , room
							
							roomRoll=rollDie(6,1);
							
							//
							if ((roomRoll==1 || roomRoll==2) && ((buildRoom[0].westPossible==true || buildRoom[0].westMand==true) && buildRoom[0].southMand!=true)) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false;
								buildRoom[0].hasEastExit=false; //coming from east
								buildRoom[0].hasNorthExit=false;
								buildRoom[0].hasWestExit=true; 
								
								buildRoom[0].exitAmount=1;
								
								
								//floorArrIndex=777;
							
							} //
							
							//
							else if ((roomRoll==3 || roomRoll==4) && buildRoom[0].hasMultipiece==true && (buildRoom[0].southPossible==true && buildRoom[0].southMand==true) && buildRoom[0].westMand!=true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=true;
								buildRoom[0].hasEastExit=false; //coming from east
								buildRoom[0].hasNorthExit=false;
								buildRoom[0].hasWestExit=false; 
								
								buildRoom[0].exitAmount=1;
							
							} //
							
							
							//
							else if (roomRoll<=3 && buildRoom[0].hasMultipiece==false && (buildRoom[0].southPossible==true || buildRoom[0].southMand==true) && (buildRoom[0].westPossible==true || buildRoom.westMand==true)) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=true;
								buildRoom[0].hasEastExit=false; //coming from east
								buildRoom[0].hasNorthExit=false;
								buildRoom[0].hasWestExit=true; 
								
								buildRoom[0].hasMultipiece=true;
								isMulti=true;
								
								//to do: change to multiple exits
								buildRoom[0].exitAmount=2;
								newBuildRoom(floorArrIndex, buildRoom[0].hasNorthExit, buildRoom[0].hasEastExit, buildRoom[0].hasSouthExit, buildRoom[0].hasWestExit, buildRoom[0].exitAmount);
								
								
							
								//floorArrIndex=777;
							
							} //
							
							
							//room
							else {
							
								setFloorAsRoom(floorArrIndex, "west");
							
							} //room
						
							//floorArrIndex=777;
						
						} //moving west, in top row, not in corner
						
						//moving west, in top corner
						if (floorArrIndex==0) {
						
							//two choices: , room
							
							roomRoll=rollDie(3,1);
							
							//
							if ((roomRoll==1 || roomRoll==2) && (buildRoom[0].southPossible==true || buildRoom[0].southMand==true)) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=true;
								buildRoom[0].hasEastExit=false; //coming from east
								buildRoom[0].hasNorthExit=false;
								buildRoom[0].hasWestExit=false; 
								
								buildRoom[0].exitAmount=1;
							
							} //
							
							
							//room
							else  {
							
								setFloorAsRoom(floorArrIndex, "west");
							
							} //room
						
							//floorArrIndex=777;
						
						} //moving west, in top corner (top left)
					
					} //moving west, in top row
					
					
					
					
					//moving west, in bottom row
					if (floorArrIndex>14) {
					
						//moving west, in bottom row, not in corner (bottom left)
						if (floorArrIndex<19) {
						
							//four choices: , , , room
							
							roomRoll=rollDie(6,1);
							
							//
							if ((roomRoll==1 || roomRoll==2) && ((buildRoom[0].westPossible==true || buildRoom[0].westMand==true) && buildRoom[0].northMand!=true)) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false;
								buildRoom[0].hasEastExit=false; //coming from east
								buildRoom[0].hasNorthExit=false;
								buildRoom[0].hasWestExit=true; 
								
								buildRoom[0].exitAmount=1;
								
								
								//floorArrIndex=777;
							
							} //
					
							
							
							//
							else if ((roomRoll==3 || roomRoll==4) && buildRoom[0].hasMultipiece==true && buildRoom[0].northPossible==true && buildRoom[0].westMand!=true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false;
								buildRoom[0].hasEastExit=false; //coming from east
								buildRoom[0].hasNorthExit=true;
								buildRoom[0].hasWestExit=false; 
								
								buildRoom[0].exitAmount=1;
							
							} //
							
							//
							else if (roomRoll<=3 && buildRoom[0].hasMultipiece==false && buildRoom[0].northPossible==true && buildRoom[0].westPossible==true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false;
								buildRoom[0].hasEastExit=false; //coming from east
								buildRoom[0].hasNorthExit=true;
								buildRoom[0].hasWestExit=true; 
								
								buildRoom[0].hasMultipiece=true;
								isMulti=true;
								
								//to do: change to multiple exits
								buildRoom[0].exitAmount=2;
								newBuildRoom(floorArrIndex, buildRoom[0].hasNorthExit, buildRoom[0].hasEastExit, buildRoom[0].hasSouthExit, buildRoom[0].hasWestExit, buildRoom[0].exitAmount);
								
								
							
								//floorArrIndex=777;
							
							} //
							
							
							//room
							else {
							
								setFloorAsRoom(floorArrIndex, "west");
							
							} //room
						
							//floorArrIndex=777;
						
						} //moving west, in bottom row, not in corner
						
						//moving west, in bottom left corner
						if (floorArrIndex==15) {
						
							//two choices: , room
							
							roomRoll=rollDie(3,1);
							
							//
							if ((roomRoll==1 || roomRoll==2) && buildRoom[0].northPossible==true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false;
								buildRoom[0].hasEastExit=false; //coming from east
								buildRoom[0].hasNorthExit=true;
								buildRoom[0].hasWestExit=false; 
								
								buildRoom[0].exitAmount=1;
							
							} //
							
							
							//room
							else {
							
								setFloorAsRoom(floorArrIndex, "west");
							
							} //room
						
							//floorArrIndex=777;
						
						}//moving west, in bottom row, not in corner
						
					
					} //moving west, in bottom row
					
					
					//moving west, not in top/bottom row, somewhere in middle
					if (floorArrIndex>4 && floorArrIndex<15) {
					
						//moving west, somewhere in middle, not in leftmost column
						if (floorArrIndex%5!=0) {
						
							//seven choices: ,  , , , , , room
							
							roomRoll=rollDie(13, 1);
							
							//roomRoll=6;//test
							
							//
							if ((roomRoll==1 || roomRoll==2) && (buildRoom[0].westPossible==true || buildRoom[0].westMand==true) && buildRoom[0].northMand!=true && buildRoom[0].southMand!=true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false;
								buildRoom[0].hasEastExit=false; //coming from east
								buildRoom[0].hasNorthExit=false;
								buildRoom[0].hasWestExit=true; 
								
								buildRoom[0].exitAmount=1;
								
								
								//floorArrIndex=777;
							
							
							} //
							
							
							//
							else if ((roomRoll==3 || roomRoll==4) && buildRoom[0].northPossible==true && buildRoom[0].westMand!=true && buildRoom[0].southMand!=true) {

								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false;
								buildRoom[0].hasEastExit=false; //coming from east
								buildRoom[0].hasNorthExit=true;
								buildRoom[0].hasWestExit=false;
								
								buildRoom[0].exitAmount=1;
							
							} //
							
							
							//
							else if ((roomRoll==5 || roomRoll==6) && (buildRoom[0].southPossible==true && buildRoom[0].southMand==true) && buildRoom[0].northMand!=true && buildRoom[0].westMand!=true) {

								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=true;
								buildRoom[0].hasEastExit=false; //coming from east
								buildRoom[0].hasNorthExit=false;
								buildRoom[0].hasWestExit=false;
								
								buildRoom[0].exitAmount=1;
							
							} //
							
							
							//
							else if ((roomRoll==7 || roomRoll==8) && (buildRoom[0].northPossible==true || buildRoom[0].northMand==true)  && (buildRoom[0].westPossible==true || buildRoom[0].westMand==true) && buildRoom[0].southMand!=true) {

								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false;
								buildRoom[0].hasEastExit=false; //coming from east
								buildRoom[0].hasNorthExit=true;
								buildRoom[0].hasWestExit=true;
								
								isMulti=true;
								
								//to do: change to multiple exits
								buildRoom[0].exitAmount=2;
								newBuildRoom(floorArrIndex, buildRoom[0].hasNorthExit, buildRoom[0].hasEastExit, buildRoom[0].hasSouthExit, buildRoom[0].hasWestExit, buildRoom[0].exitAmount);
							
							
							} //
							
							
							//
							else if ((roomRoll==9 || roomRoll==10) && buildRoom[0].southPossible==true && buildRoom[0].westPossible==true && buildRoom[0].northMand!=true) {

								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=true;
								buildRoom[0].hasEastExit=false; //coming from east
								buildRoom[0].hasNorthExit=false;
								buildRoom[0].hasWestExit=true;
								
								isMulti=true;
								
								//to do: change to multiple exits
								buildRoom[0].exitAmount=2;
								newBuildRoom(floorArrIndex, buildRoom[0].hasNorthExit, buildRoom[0].hasEastExit, buildRoom[0].hasSouthExit, buildRoom[0].hasWestExit, buildRoom[0].exitAmount);
								
							
								//floorArrIndex=777;
							
							
							} //
							
							
							//
							else if (roomRoll<=5 && buildRoom[0].northPossible==true && buildRoom[0].southPossible==true && buildRoom[0].westPossible==true) {

								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=true;
								buildRoom[0].hasEastExit=false; //coming from east
								buildRoom[0].hasNorthExit=true;
								buildRoom[0].hasWestExit=true;
								
								isMulti=true;
								
								//to do: change to multiple exits	
								buildRoom[0].exitAmount=3;
								newBuildRoom(floorArrIndex, buildRoom[0].hasNorthExit, buildRoom[0].hasEastExit, buildRoom[0].hasSouthExit, buildRoom[0].hasWestExit, buildRoom[0].exitAmount);
					
								//floorArrIndex=777;
							
							
							} //
							
							
							//room
							else {
							
								setFloorAsRoom(floorArrIndex, "west");

							
							
							} //room
						
							//floorArrIndex=777;
						
						} //moving west, somewhere in middle, not in leftmost column
						
						
						
						//moving west, somewhere in middle, in leftmost column
						if (floorArrIndex%5==0) {
						
							//four choices: , , , room
							
							roomRoll=rollDie(4,1);
							
							
							//
							if (roomRoll==1 && buildRoom[0].hasMultipiece==true && buildRoom[0].northPossible==true && buildRoom[0].southMand!=true) {

								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false;
								buildRoom[0].hasEastExit=false; //coming from east
								buildRoom[0].hasNorthExit=true;
								buildRoom[0].hasWestExit=false;
								
								buildRoom[0].exitAmount=1;
								
							
							} //
							
							
							//
							else if (roomRoll==2 && buildRoom[0].hasMultipiece==true && buildRoom[0].southPossible==true && buildRoom[0].northMand!=true) {

								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=true;
								buildRoom[0].hasEastExit=false;
								buildRoom[0].hasNorthExit=false;
								buildRoom[0].hasWestExit=false; //coming from east
								
								buildRoom[0].exitAmount=1;
								
							
							} //
							

							
							//
							else if (roomRoll==3 && buildRoom[0].hasMultipiece==false) {

								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=true;
								buildRoom[0].hasEastExit=false; //coming from east
								buildRoom[0].hasNorthExit=true;
								buildRoom[0].hasWestExit=false;
								
								buildRoom[0].hasMultipiece=true;
								isMulti=true;
								
								//to do: change to multiple exits
								buildRoom[0].exitAmount=2;
								newBuildRoom(floorArrIndex, buildRoom[0].hasNorthExit, buildRoom[0].hasEastExit, buildRoom[0].hasSouthExit, buildRoom[0].hasWestExit, buildRoom[0].exitAmount);
								
							
							} //
							
							
							//room
							else  {

								setFloorAsRoom(floorArrIndex, "west");
								
							
							} //room
							
							
						
							//floorArrIndex=777;
							
							
						
						} //moving west, somewhere in middle, in leftmost column
					
					} //moving west, not in top/bottom row, somewhere in middle
			
				//} //bump
			
			//} //not on descend
		
		} //moving west
		
		
		//moving south
		//if (floorArrIndex==prevRoomIndex+5 || (stackPopped==true && buildRoom[0].hasSouthExit==true)) {
		if (floorArrIndex==prevRoomIndex+5) {
			console.log("south");
		
			//set previous room hasEast to false if multipiece
			//necessarily is at top of stack
			/*if (isMulti==true) {
			
				let tempInd=buildRoom.length;
				tempInd--;
				
				if (tempInd>0) {
				
					buildRoom[tempInd].hasSouthExit=false;
				}
			
			}*/
			
			//check if on descend
			//if (floorArrIndex!=bDesLoc) {
			
				/*//check if bumping into feature
							
				floorLabel=floorGridArr[floorArrIndex].label;
				compareLabel=$("#" + floorLabel).html();

				if (compareLabel!="")
				{
					
					//if different, then bump
					
					//move back up (north) one square
					floorArrIndex-=5;
					
					//reroute
					floorArrIndex=bumpFloor(floorArrIndex, "south");
					
					//floorArrIndex=777;
					
				}
				
				
				
				//if not bump
				else {*/
			

					//---
					//moving south, in leftmost column
					if (floorArrIndex%5==0) {
					
						//moving south in leftmost column, not in corner
						if (floorArrIndex != 15) {
						
							//four choices: , , , room
							
							roomRoll=rollDie(4,1);
							
							//
							if (roomRoll==1 && buildRoom[0].hasMultipiece==true && buildRoom[0].eastPossible==true && buildRoom[0].southMand!=true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false;
								buildRoom[0].hasEastExit=true;
								buildRoom[0].hasNorthExit=false; //coming from north
								buildRoom[0].hasWestExit=false;
							
							} //
							
							
							//
							else if (roomRoll==2 || roomRoll==1 && buildRoom[0].hasMultipiece==false && buildRoom[0].eastPossible==true && buildRoom[0].southPossible==true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=true;
								buildRoom[0].hasEastExit=true;
								buildRoom[0].hasNorthExit=false; //coming from north
								buildRoom[0].hasWestExit=false;
								
								buildRoom[0].hasMultipiece=true;
								isMulti=true;
								
								//to do: change to multiple exits
								buildRoom[0].exitAmount=2;
								newBuildRoom(floorArrIndex, buildRoom[0].hasNorthExit, buildRoom[0].hasEastExit, buildRoom[0].hasSouthExit, buildRoom[0].hasWestExit, buildRoom[0].exitAmount);
							
							} //
							
							
							//
							else if (roomRoll==3 && buildRoom[0].eastMand!=true && buildRoom[0].southPossible==true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=true;
								buildRoom[0].hasEastExit=false;
								buildRoom[0].hasNorthExit=false; //coming from north
								buildRoom[0].hasWestExit=false;
							
							} //
							
							
							//room
							else {
							
								setFloorAsRoom(floorArrIndex, "south");
							
							} //room
			
						
							//floorArrIndex=777;
							
						
						}//moving south in leftmost column, not in corner (bottom left)
						
						
						//moving south in leftmost column, in bottom left corner
						if (floorArrIndex == 15) {
						
							//two choices: , room
							
							roomRoll=rollDie(2,1);
							
							roomRoll=1;
							
							//
							if (roomRoll==1 && buildRoom[0].eastPossible==true) {
							
								
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false;
								buildRoom[0].hasEastExit=true;
								buildRoom[0].hasNorthExit=false; //coming from north
								buildRoom[0].hasWestExit=false;
							
							
							} //
							
							//room
							else {
							
								setFloorAsRoom(floorArrIndex, "south");
							
							} //room
						
							//floorArrIndex=777;
						
						} //moving south in leftmost column, in bottom left corner
					
					} //moving south, in leftmost column
					
					
					//---
					//moving south, in rightmost column
					if (floorArrIndex %5 == 4 ) {
					
						//moving south, in rightmost column, not in corner (bottom right)
						if (floorArrIndex != 19) {
						
							//four choices: , , , room
							
							roomRoll=rollDie(4,1);
							
							//
							if (roomRoll==1 && buildRoom[0].hasMultipiece==true && buildRoom[0].westPossible==true && buildRoom[0].southMand!=true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false;
								buildRoom[0].hasEastExit=false;
								buildRoom[0].hasNorthExit=false; //coming from north
								buildRoom[0].hasWestExit=true;
							
							} //
							
							
							//
							else if (roomRoll==2 && buildRoom[0].hasMultipiece==false && buildRoom[0].westPossible==true && buildRoom[0].southPossible==true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=true;
								buildRoom[0].hasEastExit=false;
								buildRoom[0].hasNorthExit=false; //coming from north
								buildRoom[0].hasWestExit=true;
								
								buildRoom[0].hasMultipiece=true;
								isMulti=true;
								
								//to do: change to multiple exits
								buildRoom[0].exitAmount=2;
								newBuildRoom(floorArrIndex, buildRoom[0].hasNorthExit, buildRoom[0].hasEastExit, buildRoom[0].hasSouthExit, buildRoom[0].hasWestExit, buildRoom[0].exitAmount);
							
							} //
							
							
							//
							else if (roomRoll==3 && buildRoom[0].southPossible==true && buildRoom[0].westMand!=true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=true;
								buildRoom[0].hasEastExit=false;
								buildRoom[0].hasNorthExit=false; //coming from north
								buildRoom[0].hasWestExit=false;
							
							} //
							
							
							//room
							else {
							
								setFloorAsRoom(floorArrIndex, "south");
							
							} //room
						
							
						
						} //moving south, in rightmost column, not in corner (bottom right)
						
						//moving south, in rightmost column, in bottom right corner
						if (floorArrIndex == 19) {
						
							//two choices: , room
							
							roomRoll=rollDie(3,1);
							
							roomRoll=1;
							
							
							//
							if ((roomRoll==1 || roomRoll==2) && buildRoom[0].westPossible==true) {
							
								
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false;
								buildRoom[0].hasEastExit=false;
								buildRoom[0].hasNorthExit=false; //coming from north
								buildRoom[0].hasWestExit=true;
							
							
							} //
							
							//room
							else {
							
								setFloorAsRoom(floorArrIndex, "south");
							
							} //room
						
							//floorArrIndex=777;
						
						} //moving south, in rightmost column, in bottom right corner
					
					
					} //moving south, in rightmost column
					
					//moving south, somewhere in the middle
					if (floorArrIndex%5 != 0 && floorArrIndex%5 != 4 && floorArrIndex<19){
					
						//console.log("no");
					
						//moving south, somewhere in middle, not in bottom row
						if (floorArrIndex<15) {
						
							//eight choices: , , , , , , , room
							
							roomRoll=rollDie(8,1);
							
							//
							if (roomRoll==1 && buildRoom[0].eastPossible==true && buildRoom[0].westPossible==true && buildRoom[0].southMand!=true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false;
								buildRoom[0].hasEastExit=true;
								buildRoom[0].hasNorthExit=false; //coming from north
								buildRoom[0].hasWestExit=true;

								isMulti=true;
								
								//to do: change to multiple exits
								buildRoom[0].exitAmount=2;
								newBuildRoom(floorArrIndex, buildRoom[0].hasNorthExit, buildRoom[0].hasEastExit, buildRoom[0].hasSouthExit, buildRoom[0].hasWestExit, buildRoom[0].exitAmount);
							
							} //
							
							
							//
							else if (roomRoll==2 && buildRoom[0].southPossible==true && buildRoom[0].eastMand!=true && buildRoom[0].westMand!=true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=true;
								buildRoom[0].hasEastExit=false;
								buildRoom[0].hasNorthExit=false; //coming from north
								buildRoom[0].hasWestExit=false;
							
							} //
							
							
							//
							else if (roomRoll==3 && buildRoom[0].westPossible==true && buildRoom[0].eastPossible!=true && buildRoom[0].southMand!=true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false;
								buildRoom[0].hasEastExit=false;
								buildRoom[0].hasNorthExit=false; //coming from north
								buildRoom[0].hasWestExit=true;
							
							} //
							
							
							//
							else if (roomRoll==4 && buildRoom[0].eastPossible==true && buildRoom[0].westMand!=true && buildRoom[0].southMand!=true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false;
								buildRoom[0].hasEastExit=true;
								buildRoom[0].hasNorthExit=false; //coming from north
								buildRoom[0].hasWestExit=false;
							
							} //
							
							
							//
							else if (roomRoll==5 && buildRoom[0].southPossible==true && buildRoom[0].westPossible==true && buildRoom[0].eastMand!=true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=true;
								buildRoom[0].hasEastExit=false;
								buildRoom[0].hasNorthExit=false; //coming from north
								buildRoom[0].hasWestExit=true;
								
								isMulti=true;
								
								//to do: change to multiple exits
								buildRoom[0].exitAmount=2;
								newBuildRoom(floorArrIndex, buildRoom[0].hasNorthExit, buildRoom[0].hasEastExit, buildRoom[0].hasSouthExit, buildRoom[0].hasWestExit, buildRoom[0].exitAmount);
							
							
							} //
							
							
							//
							else if (roomRoll==6 && buildRoom[0].eastPossible==true && buildRoom[0].southPossible==true && buildRoom[0].westMand!=true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=true;
								buildRoom[0].hasEastExit=true;
								buildRoom[0].hasNorthExit=false; //coming from north
								buildRoom[0].hasWestExit=false;
								
								isMulti=true;
								
								//to do: change to multiple exits
								buildRoom[0].exitAmount=2;
								newBuildRoom(floorArrIndex, buildRoom[0].hasNorthExit, buildRoom[0].hasEastExit, buildRoom[0].hasSouthExit, buildRoom[0].hasWestExit, buildRoom[0].exitAmount);
							
							
								
							
							} //
							
							//
							else if (roomRoll==7 && buildRoom[0].eastPossible==true && buildRoom[0].southPossible==true && buildRoom[0].westPossible==true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=true;
								buildRoom[0].hasEastExit=true;
								buildRoom[0].hasNorthExit=false; //coming from north
								buildRoom[0].hasWestExit=true; 
								
								isMulti=true;
								
								//to do: change to multiple exits	
								buildRoom[0].exitAmount=3;
								newBuildRoom(floorArrIndex, buildRoom[0].hasNorthExit, buildRoom[0].hasEastExit, buildRoom[0].hasSouthExit, buildRoom[0].hasWestExit, buildRoom[0].exitAmount);
					
							
							} //
							
							
							
							//room
							else {
							
								setFloorAsRoom(floorArrIndex, "south");
							
							} //room
						
							//floorArrIndex=777;
						
						} //moving south, somewhere in middle, not in bottom row
						
						//moving south, somewhere in middle, in bottom row
						if (floorArrIndex>15) {
						
							//four choices: , , , room
							
							roomRoll=rollDie(4,1);
							
							
							//
							if (roomRoll==1 && buildRoom[0].hasMultipiece==true && buildRoom[0].westPossible==true && buildRoom[0].eastMand!=true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false;
								buildRoom[0].hasEastExit=false;
								buildRoom[0].hasNorthExit=false; //coming from north
								buildRoom[0].hasWestExit=true;
							
							} //
							
							
							//
							else if (roomRoll==2 && buildRoom[0].hasMultipiece==true && buildRoom[0].eastPossible==true && buildRoom[0].westMand!=true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false;
								buildRoom[0].hasEastExit=true;
								buildRoom[0].hasNorthExit=false; //coming from north
								buildRoom[0].hasWestExit=false;
							
							} //
							
							//
							else if (roomRoll==3 && buildRoom[0].hasMultipiece==false && buildRoom[0].eastPossible==true && buildRoom[0].westPossible==true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false;
								buildRoom[0].hasEastExit=true;
								buildRoom[0].hasNorthExit=false; //coming from north
								buildRoom[0].hasWestExit=true;

								buildRoom[0].hasMultipiece=true;
								isMulti=true;
								
								//to do: change to multiple exits
								buildRoom[0].exitAmount=2;
								newBuildRoom(floorArrIndex, buildRoom[0].hasNorthExit, buildRoom[0].hasEastExit, buildRoom[0].hasSouthExit, buildRoom[0].hasWestExit, buildRoom[0].exitAmount);
							
							} //
							
							//room
							else {
							
								setFloorAsRoom(floorArrIndex, "south");
							
							} //room
						
							//floorArrIndex=777;
						
						} //moving south, somewhere in middle, in bottom row
					
					} //moving south, somewhere in the middle
					
				//} //bump
			
			//} //not on descend
		
		} //moving south
		
		//moving north
		//if (floorArrIndex==prevRoomIndex-5 || (stackPopped==true && buildRoom[0].hasNorthExit==true)) {
		if (floorArrIndex==prevRoomIndex-5) {
			console.log("north");
		
			//set previous room hasNorth to false if multipiece
			//necessarily is at top of stack
			/*if (isMulti==true) {
			
				let tempInd=buildRoom.length;
				tempInd--;
				
				if (tempInd>0) {
				
					buildRoom[tempInd].hasNorthExit=false;
				}
			
			}*/
			
			//check if not on descend tile
			//if (floorArrIndex!=bDesLoc) {
			
				/*//check if bumping into feature

				//console.log(floorArrIndex);
				
				floorLabel=floorGridArr[floorArrIndex].label;
				compareLabel=$("#" + floorLabel).html();
			
				if (compareLabel!="")
				{
					
				
					//if different, then bump
					
					//move back (south) one square
					floorArrIndex+=5;
					
					//reroute
					floorArrIndex=bumpFloor(floorArrIndex, "north");
					
				}
				
				//if not bump
				else {*/
			
					//floorArrIndex=777;
					
					//moving north, in leftmost column
					if (floorArrIndex%5==0) {
					
						//moving north, in leftmost column, not in corner (top left)
						if (floorArrIndex != 0) {
						
							//four choices: , , , room
							
							roomRoll=rollDie(4,1);
							
							//
							if (roomRoll==1 && buildRoom[0].hasMultipiece==true && buildRoom[0].eastPossible==true && buildRoom[0].northMand!=true && buildRoom[0].westMand!=true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false; //coming from south
								buildRoom[0].hasEastExit=true;
								buildRoom[0].hasNorthExit=false;
								buildRoom[0].hasWestExit=false;
							
							} //
							
							
							//
							else if ((roomRoll==2 || roomRoll==1) && buildRoom[0].hasMultipiece==false && buildRoom[0].northPossible==true && buildRoom[0].eastPossible==true && buildRoom[0].westMand!=true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false; //coming from south
								buildRoom[0].hasEastExit=true;
								buildRoom[0].hasNorthExit=true;
								buildRoom[0].hasWestExit=false;
								
								buildRoom[0].hasMultipiece=true;
								isMulti=true;
								
								//to do: change to multiple exits
								buildRoom[0].exitAmount=2;
								newBuildRoom(floorArrIndex, buildRoom[0].hasNorthExit, buildRoom[0].hasEastExit, buildRoom[0].hasSouthExit, buildRoom[0].hasWestExit, buildRoom[0].exitAmount);
							
							} //
							
							
							//
							else if (roomRoll==3 && buildRoom[0].northPossible==true && buildRoom[0].westMand!=true && buildRoom[0].eastMand!=true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false; //coming from south
								buildRoom[0].hasEastExit=false;
								buildRoom[0].hasNorthExit=true;
								buildRoom[0].hasWestExit=false;
							
							} //
							
							
							//room
							else {
							
								setFloorAsRoom(floorArrIndex, "north");
							
							} //room
			
						
							//floorArrIndex=777;
						
						} //moving north, in leftmost column, not in corner (top left)
						
						//moving north, in top left corner
						if (floorArrIndex == 0) {
						
							//two choices: , room
							
							roomRoll=rollDie(2,1);
							
							roomRoll=1;
							
							
							//
							if (roomRoll==1 && (buildRoom[0].eastPossible==true || buildRoom[0].eastMand==true)) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false; //coming from south
								buildRoom[0].hasEastExit=true;
								buildRoom[0].hasNorthExit=false;
								buildRoom[0].hasWestExit=false;
							
							} //
							
							//room
							else {
							
								setFloorAsRoom(floorArrIndex, "north");
							
							} //room
						
							//floorArrIndex=777;
						
						} //moving north, in top left corner
						
						
					
					} //moving north, in leftmost column
					
					//moving north, in rightmost column
					if (floorArrIndex%5==4) {
					
						//moving north, in rightmost column, not in corner (top right)
						if (floorArrIndex != 4) {
						
							//four choices: , , , room
							
							roomRoll=rollDie(4,1);
							
							//
							if (roomRoll==1 && buildRoom[0].hasMultipiece==true && (buildRoom[0].westPossible==true || buildRoom[0].westMand==true) && buildRoom[0].northMand!=true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false; //coming from south
								buildRoom[0].hasEastExit=false;
								buildRoom[0].hasNorthExit=false;
								buildRoom[0].hasWestExit=true;
							
							} //
							
							
							//
							else if (roomRoll==2 || roomRoll==1 && buildRoom[0].hasMultipiece==false && buildRoom[0].northPossible==true && buildRoom[0].westPossible==true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false; //coming from south
								buildRoom[0].hasEastExit=false;
								buildRoom[0].hasNorthExit=true;
								buildRoom[0].hasWestExit=true;
								
								buildRoom[0].hasMultipiece=true;
								isMulti=true;
								
								//to do: change to multiple exits
								buildRoom[0].exitAmount=2;
								newBuildRoom(floorArrIndex, buildRoom[0].hasNorthExit, buildRoom[0].hasEastExit, buildRoom[0].hasSouthExit, buildRoom[0].hasWestExit, buildRoom[0].exitAmount);
							
							} //
							
							
							//
							else if (roomRoll==3 && buildRoom[0].northPossible==true && buildRoom[0].westPossible!=true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false; //coming from south
								buildRoom[0].hasEastExit=false;
								buildRoom[0].hasNorthExit=true;
								buildRoom[0].hasWestExit=false;
							
							} //
							
							
							//room
							else {
							
								setFloorAsRoom(floorArrIndex, "north");
							
							} //room
						
							//floorArrIndex=777;
						
						} //moving north, in rightmost column, not in corner (top right)
						
						//moving north, in top right corner
						if (floorArrIndex == 4) {
						
							//two choices: , room
							
							roomRoll=rollDie(2,1);
							
							roomRoll=1;
							
							
							//
							if (roomRoll==1 && (buildRoom[0].westPossible==true || buildRoom[0].westMand==true)) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false; //coming from south
								buildRoom[0].hasEastExit=false;
								buildRoom[0].hasNorthExit=false;
								buildRoom[0].hasWestExit=true;
							
							} //
							
							//room
							else {
							
								setFloorAsRoom(floorArrIndex, "north");
							
							} //room
						
							//floorArrIndex=-1;
						
						} //moving north, in top right corner
					
					
					} //moving north, in rightmost column
					
					
					//moving north, somewhere in middle
					if (floorArrIndex%5 != 0 && floorArrIndex%5 != 4 && floorArrIndex>0) {
					
						//console.log(floorArrIndex%5);
					
						//console.log("asdf");
					
						//moving north, somewhere in middle, not in top row
						if (floorArrIndex>5) {
						
							//eight choices: , , , , , , , room
							
							roomRoll=rollDie(8,1);
							
							//
							if (roomRoll==1 && buildRoom[0].northPossible==true && buildRoom[0].eastMand!=true && buildRoom[0].westMand!=true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false; //coming from south
								buildRoom[0].hasEastExit=false;
								buildRoom[0].hasNorthExit=true;
								buildRoom[0].hasWestExit=false;
							
							} //
							
							
							//
							else if (roomRoll==2 && (buildRoom[0].westPossible==true || buildRoom[0].westMand==true) && buildRoom[0].northMand!=true && buildRoom[0].eastMand!=true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false; //coming from south
								buildRoom[0].hasEastExit=false;
								buildRoom[0].hasNorthExit=false;
								buildRoom[0].hasWestExit=true;
							
							} //
							
							
							//
							else if (roomRoll==3 && buildRoom[0].eastPossible==true && buildRoom[0].northMand!=true && buildRoom[0].westMand!=true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false; //coming from south
								buildRoom[0].hasEastExit=true;
								buildRoom[0].hasNorthExit=false;
								buildRoom[0].hasWestExit=false;
							
							} //
							
							//
							else if (roomRoll==4 && buildRoom[0].eastPossible==true && buildRoom[0].westPossible==true && buildRoom[0].northMand!=true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false; //coming from south
								buildRoom[0].hasEastExit=true;
								buildRoom[0].hasNorthExit=false;
								buildRoom[0].hasWestExit=true;

								isMulti=true;
								
								//to do: change to multiple exits
								buildRoom[0].exitAmount=2;
								newBuildRoom(floorArrIndex, buildRoom[0].hasNorthExit, buildRoom[0].hasEastExit, buildRoom[0].hasSouthExit, buildRoom[0].hasWestExit, buildRoom[0].exitAmount);
							
							} //
							
							
							
							//
							else if (roomRoll==5 && buildRoom[0].northPossible==true && buildRoom[0].westPossible==true && buildRoom[0].eastMand!=true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false; //coming from south
								buildRoom[0].hasEastExit=false;
								buildRoom[0].hasNorthExit=true;
								buildRoom[0].hasWestExit=true;

								isMulti=true;
								
								//to do: change to multiple exits
								buildRoom[0].exitAmount=2;
								newBuildRoom(floorArrIndex, buildRoom[0].hasNorthExit, buildRoom[0].hasEastExit, buildRoom[0].hasSouthExit, buildRoom[0].hasWestExit, buildRoom[0].exitAmount);
							
							
							} //
							
							
							//
							else if (roomRoll==6 && buildRoom[0].northPossible==true && buildRoom[0].eastPossible==true && buildRoom[0].westMand!=true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false; //coming from south
								buildRoom[0].hasEastExit=true;
								buildRoom[0].hasNorthExit=true;
								buildRoom[0].hasWestExit=false;
								
								isMulti=true;
								
								//to do: change to multiple exits
								buildRoom[0].exitAmount=2;
								newBuildRoom(floorArrIndex, buildRoom[0].hasNorthExit, buildRoom[0].hasEastExit, buildRoom[0].hasSouthExit, buildRoom[0].hasWestExit, buildRoom[0].exitAmount);
							
							
								
							
							} //
							
							//
							else if (roomRoll==7 && buildRoom[0].northPossible==true && buildRoom[0].eastPossible==true && buildRoom[0].westPossible==true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false; //coming from south
								buildRoom[0].hasEastExit=true;
								buildRoom[0].hasNorthExit=true;
								buildRoom[0].hasWestExit=true; 
								
								isMulti=true;
								
								//to do: change to multiple exits	
								buildRoom[0].exitAmount=3;
								newBuildRoom(floorArrIndex, buildRoom[0].hasNorthExit, buildRoom[0].hasEastExit, buildRoom[0].hasSouthExit, buildRoom[0].hasWestExit, buildRoom[0].exitAmount);
					
							
							} //
							
							
							
							//room
							else {
							
								setFloorAsRoom(floorArrIndex, "north");
							
							} //room
						
							//floorArrIndex=777;
						
						} //moving north, somewhere in middle, not in top row
						
						//moving north, somewhere in middle, in top row
						if (floorArrIndex<5) {
						
							//four choices: , , , room
							
							roomRoll=rollDie(4,1);
							
							
							//
							if (roomRoll==1 && buildRoom[0].hasMultipiece==true && buildRoom[0].eastPossible==true && buildRoom[0].westMand!=true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false; //coming from south
								buildRoom[0].hasEastExit=true;
								buildRoom[0].hasNorthExit=false;
								buildRoom[0].hasWestExit=false;
							
							} //
							
							
							//
							else if (roomRoll==2 && buildRoom[0].hasMultipiece==true && (buildRoom[0].westPossible==true || buildRoom[0].westMand==true) && buildRoom[0].eastMand!=true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false;
								buildRoom[0].hasEastExit=false;
								buildRoom[0].hasNorthExit=false; //coming from north
								buildRoom[0].hasWestExit=true;
							
							} //
							
							//
							else if (roomRoll==3 || roomRoll==2 && buildRoom[0].hasMultipiece==false && buildRoom[0].eastPossible==true && buildRoom[0].westPossible==true) {
							
								$("#" + floorLabel).html("");
								buildRoom[0].hasSouthExit=false; //coming from south
								buildRoom[0].hasEastExit=true;
								buildRoom[0].hasNorthExit=false;
								buildRoom[0].hasWestExit=true;

								isMulti=true;
								
								//to do: change to multiple exits
								buildRoom[0].exitAmount=2;
								newBuildRoom(floorArrIndex, buildRoom[0].hasNorthExit, buildRoom[0].hasEastExit, buildRoom[0].hasSouthExit, buildRoom[0].hasWestExit, buildRoom[0].exitAmount);
							
							} //
							
							//room
							else {
							
								setFloorAsRoom(floorArrIndex, "north");
							
							} //room
						
							
							
						} //moving north, somewhere in middle, in top row
					
					}//moving north, somewhere in middle
					
				//} //bump
				
			//} //not on descend tile
		
		} //moving north
		
		} //not on arrival tile
		
	} //in bounds
	
	if (testVal==floorArrIndex) {
	
		console.log("nothing updated");
		
		if (buildRoom.length>1) {
		
			buildRoom.shift();
			stackPopped=true;
			//floorArrIndex=buildRoom[0].floorIndex; //popped stack*/
			
			//console.log(buildRoom[0].floorIndex);
			floorArrIndex=buildRoom[0].floorIndex;
			buildRoom[0].hasMultiPiece=false;
			console.log("new index is: " + floorArrIndex);
			
			console.log("checking surroundings of new popped room");
			checkConnect (compareLabel, floorLabel, floorArrIndex, floorArrIndex);
			//floorArrIndex=floorCheckSurround(compareLabel, floorLabel, tempRoomIndex, floorArrIndex);
			
			while (buildRoom.length>1 && buildRoom[0].northPossible==false && buildRoom[0].eastPossible==false && buildRoom[0].southPossible==false && buildRoom[0].westPossible==false) {
				
				console.log("last popped room was dead end");
				//buildRoom[1]=buildRoom[0];
				buildRoom.shift();
				stackPopped=true;
				
				//console.log(buildRoom[0].floorIndex);
				floorArrIndex=buildRoom[0].floorIndex; //not needed since return buildRoom's anyway?
				buildRoom[0].hasMultiPiece=false;
				console.log("new index is: " + floorArrIndex);
				
				console.log("checking surroundings of new popped room");
				checkConnect (compareLabel, floorLabel, floorArrIndex, floorArrIndex);
				//floorArrIndex=floorCheckSurround(compareLabel, floorLabel, tempRoomIndex, floorArrIndex);
				
			} //while
			
			//check if exits of popped room are now occupied
			
			//move to appropriate position from popped room
			
			let dirChosen=false;
			prevRoomIndex=777;
			
			//move up one if has north exit
			if (buildRoom[0].hasNorthExit==true) {
			
				//not occupied
				if (buildRoom[0].northPossible==true) {
			
					prevRoomIndex=floorArrIndex;
					floorArrIndex-=5;
					
					//check if destination
					floorLabel=floorGridArr[floorArrIndex].label;
					compareLabel=$("#" + floorLabel).html();
					
					if (compareLabel!="b" && compareLabel=="") {
						dirChosen=true;
					}
					
					//move back and exit is false
					else {
					
						buildRoom[0].hasNorthExit=false;
						floorArrIndex+=5;
						prevRoomIndex=777;
					}
				}
				
				//occupied
				else {
				
					buildRoom[0].hasNorthExit=false;
				}
	
			}
			
			//move right one if has east exit
			else if (buildRoom[0].hasEastExit==true && dirChosen==false) {
			
				if (buildRoom[0].eastPossible==true) {
				
					prevRoomIndex=floorArrIndex;
					floorArrIndex+=1;
					
					//check if destination
					floorLabel=floorGridArr[floorArrIndex].label;
					compareLabel=$("#" + floorLabel).html();
					
					if (compareLabel!="b" && compareLabel=="") {
						dirChosen=true;
					}
					
					//move back and exit is false
					else {
					
						buildRoom[0].hasEastExit=false;
						floorArrIndex-=1;
						prevRoomIndex=777;
					}			
				}
				
				//occupied
				else {
				
					buildRoom[0].hasEastExit=false;
				}
			}
			
			//move down one if has south exit
			else if (buildRoom[0].hasSouthExit==true && dirChosen==false) {
			
				if (buildRoom[0].southPossible==true) {
					prevRoomIndex=floorArrIndex;
					floorArrIndex+=5;
					
					//check if destination
					floorLabel=floorGridArr[floorArrIndex].label;
					compareLabel=$("#" + floorLabel).html();
					
					if (compareLabel!="b" && compareLabel=="") {
						dirChosen=true;
					}
					
					//move back and exit is false
					else {
					
						buildRoom[0].hasSouthExit=false;
						floorArrIndex-=5;
						prevRoomIndex=777;
					}
					
				}
	
				//occupied
				else {
				
					buildRoom[0].hasSouthExit=false;
				}
			}
			
			//move left one if has west exit
			else if (buildRoom[0].hasWestExit==true && dirChosen==false) {
			
				if (buildRoom[0].westPossible==true) {
					prevRoomIndex=floorArrIndex;
					floorArrIndex-=1;
					//check if destination
					floorLabel=floorGridArr[floorArrIndex].label;
					compareLabel=$("#" + floorLabel).html();
					
					if (compareLabel!="b" && compareLabel=="") {
						dirChosen=true;
					}
					
					//move back and exit is false
					else {
						
						buildRoom[0].hasWestExit=false;
						floorArrIndex+=1;
						prevRoomIndex=777;
					}
				}
				
				//occupied
				else {
				
					buildRoom[0].hasWestExit=false;
				}

			}
		
		} //if stack length >1
		
		else if (buildRoom.length==1 && buildRoom[0].eastPossible==false && buildRoom[0].westPossible==false && buildRoom[0].northPossible==false && buildRoom[0].southPossible==false){
			console.log("nothing updated and stack empty");
			floorArrIndex=777;
		}
		
		else if (stackPopped==true){
		
			console.log("stack was popped");
		}
		
		else {
		
			console.log("nothing updated, a case is not considered");
			floorArrIndex=777;
		}
	}
	
	stackPopped=false;
	return floorArrIndex;
}


//there's gotta be a better way to do this

$("#roomTile0").click(function() {


	roomTileA=0;
	roomTileB=0;
	
	//var but = document.getElementById("roomTile0");
	
	//but.setFont(new Font("Arial", Font.PLAIN, 40));
	//$("#roomTile0").text("a");
	//var asdf= $("#roomTile0").text();
	//if (asdf!= " ") {
		//but.style.width = "25px";
		//but.style.height = "25px";
	//}


})

/*function getRoomTile () {


	if ($("#roomTile0").button().click) {

		alert("asdf");

	}	
}*/


</script>

<!---
<div class="floorGrid">
  <fieldset>
    <legend>Floor</legend>
    <div class="controlgroup">
		<div class="menu-container">
			<div class="floorContainer">
				<button id="floor0">a</button>
				<button id="floor1">a</button>
				<button id="floor2">a</button>
				<button id="floor3">a</button>
				<button id="floor4">a</button>
				<button id="floor5">a</button>
				<button id="floor6">a</button>
				<button id="floor7">a</button>
				<button id="floor8">a</button>
				<button id="floor9">a</button>
				<button id="floor10">a</button>
				<button id="floor11">a</button>
				<button id="floor12">a</button>
				<button id="floor13">a</button>
				<button id="floor14">a</button>
				<button id="floor15">a</button>
				<button id="floor16">a</button>
				<button id="floor17">a</button>
				<button id="floor18">a</button>
				<button id="floor19">a</button>
			</div>
		</div>
    </div>
</div> -->


<!-- Accordion -->
<h2 class="demoHeaders">Accordion</h2>
<div id="accordion">
	<h3>First</h3>
	<div>Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet.</div>
	<h3>Second</h3>
	<div>Phasellus mattis tincidunt nibh.</div>
	<h3>Third</h3>
	<div>Nam dui erat, auctor a, dignissim quis.</div>
</div>



<!-- Autocomplete -->
<h2 class="demoHeaders">Autocomplete</h2>
<div>
	<input id="autocomplete" title="type &quot;a&quot;">
</div>



<!-- Button -->
<h2 class="demoHeaders">Button</h2>
<button id="button">A button element</button>
<button id="button-icon">An icon-only button</button>



<!-- Checkboxradio -->
<h2 class="demoHeaders">Checkboxradio</h2>
<form style="margin-top: 1em;">
	<div id="radioset">
		<input type="radio" id="radio1" name="radio"><label for="radio1">Choice 1</label>
		<input type="radio" id="radio2" name="radio" checked="checked"><label for="radio2">Choice 2</label>
		<input type="radio" id="radio3" name="radio"><label for="radio3">Choice 3</label>
	</div>
</form>



<!-- Controlgroup -->
<h2 class="demoHeaders">Controlgroup</h2>
<fieldset>
	<legend>Rental Car</legend>
	<div id="controlgroup">
		<select id="car-type">
			<option>Compact car</option>
			<option>Midsize car</option>
			<option>Full size car</option>
			<option>SUV</option>
			<option>Luxury</option>
			<option>Truck</option>
			<option>Van</option>
		</select>
		<label for="transmission-standard">Standard</label>
		<input type="radio" name="transmission" id="transmission-standard">
		<label for="transmission-automatic">Automatic</label>
		<input type="radio" name="transmission" id="transmission-automatic">
		<label for="insurance">Insurance</label>
		<input type="checkbox" name="insurance" id="insurance">
		<label for="horizontal-spinner" class="ui-controlgroup-label"># of cars</label>
		<input id="horizontal-spinner" class="ui-spinner-input">
		<button>Book Now!</button>
	</div>
</fieldset>




<h2 class="demoHeaders">Dialog</h2>
<p>
	<button id="dialog-link" class="ui-button ui-corner-all ui-widget">
		<span class="ui-icon ui-icon-newwin"></span>Open Dialog
	</button>
</p>

<h2 class="demoHeaders">Overlay and Shadow Classes</h2>
<div style="position: relative; width: 96%; height: 500px; padding:1% 2%; overflow:hidden;" class="fakewindowcontain">
	<p>Lorem ipsum dolor sit amet,  Nulla nec tortor. Donec id elit quis purus consectetur consequat. </p><p>Nam congue semper tellus. Sed erat dolor, dapibus sit amet, venenatis ornare, ultrices ut, nisi. Aliquam ante. Suspendisse scelerisque dui nec velit. Duis augue augue, gravida euismod, vulputate ac, facilisis id, sem. Morbi in orci. </p><p>Nulla purus lacus, pulvinar vel, malesuada ac, mattis nec, quam. Nam molestie scelerisque quam. Nullam feugiat cursus lacus.orem ipsum dolor sit amet, consectetur adipiscing elit. Donec libero risus, commodo vitae, pharetra mollis, posuere eu, pede. Nulla nec tortor. Donec id elit quis purus consectetur consequat. </p><p>Nam congue semper tellus. Sed erat dolor, dapibus sit amet, venenatis ornare, ultrices ut, nisi. Aliquam ante. Suspendisse scelerisque dui nec velit. Duis augue augue, gravida euismod, vulputate ac, facilisis id, sem. Morbi in orci. Nulla purus lacus, pulvinar vel, malesuada ac, mattis nec, quam. Nam molestie scelerisque quam. </p><p>Nullam feugiat cursus lacus.orem ipsum dolor sit amet, consectetur adipiscing elit. Donec libero risus, commodo vitae, pharetra mollis, posuere eu, pede. Nulla nec tortor. Donec id elit quis purus consectetur consequat. Nam congue semper tellus. Sed erat dolor, dapibus sit amet, venenatis ornare, ultrices ut, nisi. Aliquam ante. </p><p>Suspendisse scelerisque dui nec velit. Duis augue augue, gravida euismod, vulputate ac, facilisis id, sem. Morbi in orci. Nulla purus lacus, pulvinar vel, malesuada ac, mattis nec, quam. Nam molestie scelerisque quam. Nullam feugiat cursus lacus.orem ipsum dolor sit amet, consectetur adipiscing elit. Donec libero risus, commodo vitae, pharetra mollis, posuere eu, pede. Nulla nec tortor. Donec id elit quis purus consectetur consequat. Nam congue semper tellus. Sed erat dolor, dapibus sit amet, venenatis ornare, ultrices ut, nisi. </p>
	<input type="button" onclick="demoVisibility()" value="Hide text with visibility property">

	<!-- ui-dialog -->
	<div class="ui-widget-overlay ui-front initHide"></div>
	<div id="overlayTest" style="position: absolute; width: 320px; left: 50px; top: 30px; visibility:hidden; padding: 1.2em " class="ui-widget ui-front ui-widget-content ui-corner-all ui-widget-shadow">
		Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
	<button type="button" id="myBtn" onclick="myFunction()">Try it</button>
	</div>

</div>
<div><input type="button" onclick="demoVisibility()" value="Hide text with visibility property"></div>
<script>
function demoVisibility() {
    document.getElementById("overlayTest").style.visibility = "visible";
}
</script>

<!-- ui-dialog -->
<div id="classDialog" title="Choose Class">
	<p>
	<button id="chooseHighBut" class="ui-button ui-corner-all ui-widget">
			<span class="ui-icon ui-icon-newwin"></span>Highlander
	</button>
	<br>
	<br>
	<button id="chooseWizBut" class="ui-button ui-corner-all ui-widget">
			<span class="ui-icon ui-icon-newwin"></span>Istari
	</button>
	<br>
	<br>
	<button id="chooseHealBut" class="ui-button ui-corner-all ui-widget">
			<span class="ui-icon ui-icon-newwin"></span>Asclepian
	</button>
	<br>
	<br>
	<button id="chooseRapBut" class="ui-button ui-corner-all ui-widget">
			<span class="ui-icon ui-icon-newwin"></span>Rapscallion
	</button>
	<br>
	<br>
	<button id="chooseMonkBut" class="ui-button ui-corner-all ui-widget">
			<span class="ui-icon ui-icon-newwin"></span>Monk
	</button>
	<br>
	<br>
	<button id="chooseSnipBut" class="ui-button ui-corner-all ui-widget">
			<span class="ui-icon ui-icon-newwin"></span>Sniper
	</button>
	<br>
	<br>
	<button id="chooseMyrmBut" class="ui-button ui-corner-all ui-widget">
			<span class="ui-icon ui-icon-newwin"></span>Myrmidon
	</button>
	<br>
	<br>
	<button id="chooseSabBut" class="ui-button ui-corner-all ui-widget">
			<span class="ui-icon ui-icon-newwin"></span>Saboteur
	</button>
	<br>
	<br>
	<button id="chooseOccBut" class="ui-button ui-corner-all ui-widget">
			<span class="ui-icon ui-icon-newwin"></span>Occultist
	</button>
	<br>
	<br>
	<button id="chooseBasBut" class="ui-button ui-corner-all ui-widget">
			<span class="ui-icon ui-icon-newwin"></span>Basilica
	</button>
	<br>
	<br>
	<button id="chooseTriBut" class="ui-button ui-corner-all ui-widget">
			<span class="ui-icon ui-icon-newwin"></span>Triarius
	</button>
	<br>
	<br>
	<button id="chooseSymBut" class="ui-button ui-corner-all ui-widget">
			<span class="ui-icon ui-icon-newwin"></span>Symposiarch
	</button>
	</p>
</div>
<style>

</style>


<!-- Menu -->
<h2 class="demoHeaders">Menu</h2>
<ul style="width:100px;" id="menu">
	<li><div>Player 1</div></li>
	<li><div>Player 2</div></li>
	<li><div>Player 3</div>
		<ul>
			<li><div>Item 3-1</div></li>
			<li><div>Item 3-2</div></li>
			<li><div>Item 3-3</div></li>
			<li><div>Item 3-4</div></li>
			<li><div>Item 3-5</div></li>
		</ul>
	</li>
	<li><div>Item 4</div></li>
	<li><div>Item 5</div></li>
</ul>

<!-- ui-dialog -->
<div id="raceDialog" title="Choose Race">
	<div id="classInvalid"><h3> </h3></div>
	<p>
	<button id="chooseHumanBut" class="ui-button ui-corner-all ui-widget">
			<span class="ui-icon ui-icon-newwin"></span>Human
	</button>
	<br>
	<br>
	<button id="chooseDwarfBut" class="ui-button ui-corner-all ui-widget">
			<span class="ui-icon ui-icon-newwin"></span>Khuzdulan
	</button>
	<br>
	<br>
	<button id="chooseOrcBut" class="ui-button ui-corner-all ui-widget">
			<span class="ui-icon ui-icon-newwin"></span>Uruk
	</button>
	<br>
	<br>
	<button id="chooseElfBut" class="ui-button ui-corner-all ui-widget">
			<span class="ui-icon ui-icon-newwin"></span>Teleri
	</button>
	</p>
</div>

<h2 class="demoHeaders">Framework Icons (content color preview)</h2>
<ul id="icons" class="ui-widget ui-helper-clearfix">
	<li class="ui-state-default ui-corner-all" title=".ui-icon-caret-1-n"><span class="ui-icon ui-icon-caret-1-n"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-caret-1-ne"><span class="ui-icon ui-icon-caret-1-ne"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-caret-1-e"><span class="ui-icon ui-icon-caret-1-e"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-caret-1-se"><span class="ui-icon ui-icon-caret-1-se"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-caret-1-s"><span class="ui-icon ui-icon-caret-1-s"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-caret-1-sw"><span class="ui-icon ui-icon-caret-1-sw"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-caret-1-w"><span class="ui-icon ui-icon-caret-1-w"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-caret-1-nw"><span class="ui-icon ui-icon-caret-1-nw"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-caret-2-n-s"><span class="ui-icon ui-icon-caret-2-n-s"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-caret-2-e-w"><span class="ui-icon ui-icon-caret-2-e-w"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-triangle-1-n"><span class="ui-icon ui-icon-triangle-1-n"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-triangle-1-ne"><span class="ui-icon ui-icon-triangle-1-ne"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-triangle-1-e"><span class="ui-icon ui-icon-triangle-1-e"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-triangle-1-se"><span class="ui-icon ui-icon-triangle-1-se"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-triangle-1-s"><span class="ui-icon ui-icon-triangle-1-s"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-triangle-1-sw"><span class="ui-icon ui-icon-triangle-1-sw"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-triangle-1-w"><span class="ui-icon ui-icon-triangle-1-w"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-triangle-1-nw"><span class="ui-icon ui-icon-triangle-1-nw"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-triangle-2-n-s"><span class="ui-icon ui-icon-triangle-2-n-s"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-triangle-2-e-w"><span class="ui-icon ui-icon-triangle-2-e-w"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrow-1-n"><span class="ui-icon ui-icon-arrow-1-n"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrow-1-ne"><span class="ui-icon ui-icon-arrow-1-ne"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrow-1-e"><span class="ui-icon ui-icon-arrow-1-e"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrow-1-se"><span class="ui-icon ui-icon-arrow-1-se"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrow-1-s"><span class="ui-icon ui-icon-arrow-1-s"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrow-1-sw"><span class="ui-icon ui-icon-arrow-1-sw"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrow-1-w"><span class="ui-icon ui-icon-arrow-1-w"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrow-1-nw"><span class="ui-icon ui-icon-arrow-1-nw"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrow-2-n-s"><span class="ui-icon ui-icon-arrow-2-n-s"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrow-2-ne-sw"><span class="ui-icon ui-icon-arrow-2-ne-sw"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrow-2-e-w"><span class="ui-icon ui-icon-arrow-2-e-w"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrow-2-se-nw"><span class="ui-icon ui-icon-arrow-2-se-nw"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowstop-1-n"><span class="ui-icon ui-icon-arrowstop-1-n"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowstop-1-e"><span class="ui-icon ui-icon-arrowstop-1-e"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowstop-1-s"><span class="ui-icon ui-icon-arrowstop-1-s"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowstop-1-w"><span class="ui-icon ui-icon-arrowstop-1-w"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowthick-1-n"><span class="ui-icon ui-icon-arrowthick-1-n"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowthick-1-ne"><span class="ui-icon ui-icon-arrowthick-1-ne"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowthick-1-e"><span class="ui-icon ui-icon-arrowthick-1-e"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowthick-1-se"><span class="ui-icon ui-icon-arrowthick-1-se"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowthick-1-s"><span class="ui-icon ui-icon-arrowthick-1-s"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowthick-1-sw"><span class="ui-icon ui-icon-arrowthick-1-sw"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowthick-1-w"><span class="ui-icon ui-icon-arrowthick-1-w"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowthick-1-nw"><span class="ui-icon ui-icon-arrowthick-1-nw"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowthick-2-n-s"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowthick-2-ne-sw"><span class="ui-icon ui-icon-arrowthick-2-ne-sw"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowthick-2-e-w"><span class="ui-icon ui-icon-arrowthick-2-e-w"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowthick-2-se-nw"><span class="ui-icon ui-icon-arrowthick-2-se-nw"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowthickstop-1-n"><span class="ui-icon ui-icon-arrowthickstop-1-n"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowthickstop-1-e"><span class="ui-icon ui-icon-arrowthickstop-1-e"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowthickstop-1-s"><span class="ui-icon ui-icon-arrowthickstop-1-s"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowthickstop-1-w"><span class="ui-icon ui-icon-arrowthickstop-1-w"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowreturnthick-1-w"><span class="ui-icon ui-icon-arrowreturnthick-1-w"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowreturnthick-1-n"><span class="ui-icon ui-icon-arrowreturnthick-1-n"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowreturnthick-1-e"><span class="ui-icon ui-icon-arrowreturnthick-1-e"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowreturnthick-1-s"><span class="ui-icon ui-icon-arrowreturnthick-1-s"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowreturn-1-w"><span class="ui-icon ui-icon-arrowreturn-1-w"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowreturn-1-n"><span class="ui-icon ui-icon-arrowreturn-1-n"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowreturn-1-e"><span class="ui-icon ui-icon-arrowreturn-1-e"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowreturn-1-s"><span class="ui-icon ui-icon-arrowreturn-1-s"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowrefresh-1-w"><span class="ui-icon ui-icon-arrowrefresh-1-w"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowrefresh-1-n"><span class="ui-icon ui-icon-arrowrefresh-1-n"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowrefresh-1-e"><span class="ui-icon ui-icon-arrowrefresh-1-e"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrowrefresh-1-s"><span class="ui-icon ui-icon-arrowrefresh-1-s"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrow-4"><span class="ui-icon ui-icon-arrow-4"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-arrow-4-diag"><span class="ui-icon ui-icon-arrow-4-diag"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-extlink"><span class="ui-icon ui-icon-extlink"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-newwin"><span class="ui-icon ui-icon-newwin"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-refresh"><span class="ui-icon ui-icon-refresh"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-shuffle"><span class="ui-icon ui-icon-shuffle"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-transfer-e-w"><span class="ui-icon ui-icon-transfer-e-w"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-transferthick-e-w"><span class="ui-icon ui-icon-transferthick-e-w"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-folder-collapsed"><span class="ui-icon ui-icon-folder-collapsed"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-folder-open"><span class="ui-icon ui-icon-folder-open"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-document"><span class="ui-icon ui-icon-document"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-document-b"><span class="ui-icon ui-icon-document-b"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-note"><span class="ui-icon ui-icon-note"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-mail-closed"><span class="ui-icon ui-icon-mail-closed"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-mail-open"><span class="ui-icon ui-icon-mail-open"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-suitcase"><span class="ui-icon ui-icon-suitcase"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-comment"><span class="ui-icon ui-icon-comment"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-person"><span class="ui-icon ui-icon-person"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-print"><span class="ui-icon ui-icon-print"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-trash"><span class="ui-icon ui-icon-trash"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-locked"><span class="ui-icon ui-icon-locked"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-unlocked"><span class="ui-icon ui-icon-unlocked"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-bookmark"><span class="ui-icon ui-icon-bookmark"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-tag"><span class="ui-icon ui-icon-tag"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-home"><span class="ui-icon ui-icon-home"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-flag"><span class="ui-icon ui-icon-flag"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-calculator"><span class="ui-icon ui-icon-calculator"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-cart"><span class="ui-icon ui-icon-cart"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-pencil"><span class="ui-icon ui-icon-pencil"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-clock"><span class="ui-icon ui-icon-clock"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-disk"><span class="ui-icon ui-icon-disk"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-calendar"><span class="ui-icon ui-icon-calendar"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-zoomin"><span class="ui-icon ui-icon-zoomin"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-zoomout"><span class="ui-icon ui-icon-zoomout"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-search"><span class="ui-icon ui-icon-search"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-wrench"><span class="ui-icon ui-icon-wrench"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-gear"><span class="ui-icon ui-icon-gear"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-heart"><span class="ui-icon ui-icon-heart"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-star"><span class="ui-icon ui-icon-star"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-link"><span class="ui-icon ui-icon-link"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-cancel"><span class="ui-icon ui-icon-cancel"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-plus"><span class="ui-icon ui-icon-plus"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-plusthick"><span class="ui-icon ui-icon-plusthick"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-minus"><span class="ui-icon ui-icon-minus"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-minusthick"><span class="ui-icon ui-icon-minusthick"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-close"><span class="ui-icon ui-icon-close"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-closethick"><span class="ui-icon ui-icon-closethick"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-key"><span class="ui-icon ui-icon-key"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-lightbulb"><span class="ui-icon ui-icon-lightbulb"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-scissors"><span class="ui-icon ui-icon-scissors"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-clipboard"><span class="ui-icon ui-icon-clipboard"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-copy"><span class="ui-icon ui-icon-copy"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-contact"><span class="ui-icon ui-icon-contact"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-image"><span class="ui-icon ui-icon-image"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-video"><span class="ui-icon ui-icon-video"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-script"><span class="ui-icon ui-icon-script"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-alert"><span class="ui-icon ui-icon-alert"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-info"><span class="ui-icon ui-icon-info"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-notice"><span class="ui-icon ui-icon-notice"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-help"><span class="ui-icon ui-icon-help"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-check"><span class="ui-icon ui-icon-check"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-bullet"><span class="ui-icon ui-icon-bullet"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-radio-off"><span class="ui-icon ui-icon-radio-off"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-radio-on"><span class="ui-icon ui-icon-radio-on"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-pin-w"><span class="ui-icon ui-icon-pin-w"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-pin-s"><span class="ui-icon ui-icon-pin-s"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-play"><span class="ui-icon ui-icon-play"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-pause"><span class="ui-icon ui-icon-pause"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-seek-next"><span class="ui-icon ui-icon-seek-next"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-seek-prev"><span class="ui-icon ui-icon-seek-prev"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-seek-end"><span class="ui-icon ui-icon-seek-end"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-seek-first"><span class="ui-icon ui-icon-seek-first"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-stop"><span class="ui-icon ui-icon-stop"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-eject"><span class="ui-icon ui-icon-eject"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-volume-off"><span class="ui-icon ui-icon-volume-off"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-volume-on"><span class="ui-icon ui-icon-volume-on"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-power"><span class="ui-icon ui-icon-power"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-signal-diag"><span class="ui-icon ui-icon-signal-diag"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-signal"><span class="ui-icon ui-icon-signal"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-battery-0"><span class="ui-icon ui-icon-battery-0"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-battery-1"><span class="ui-icon ui-icon-battery-1"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-battery-2"><span class="ui-icon ui-icon-battery-2"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-battery-3"><span class="ui-icon ui-icon-battery-3"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-circle-plus"><span class="ui-icon ui-icon-circle-plus"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-circle-minus"><span class="ui-icon ui-icon-circle-minus"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-circle-close"><span class="ui-icon ui-icon-circle-close"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-circle-triangle-e"><span class="ui-icon ui-icon-circle-triangle-e"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-circle-triangle-s"><span class="ui-icon ui-icon-circle-triangle-s"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-circle-triangle-w"><span class="ui-icon ui-icon-circle-triangle-w"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-circle-triangle-n"><span class="ui-icon ui-icon-circle-triangle-n"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-circle-arrow-e"><span class="ui-icon ui-icon-circle-arrow-e"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-circle-arrow-s"><span class="ui-icon ui-icon-circle-arrow-s"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-circle-arrow-w"><span class="ui-icon ui-icon-circle-arrow-w"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-circle-arrow-n"><span class="ui-icon ui-icon-circle-arrow-n"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-circle-zoomin"><span class="ui-icon ui-icon-circle-zoomin"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-circle-zoomout"><span class="ui-icon ui-icon-circle-zoomout"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-circle-check"><span class="ui-icon ui-icon-circle-check"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-circlesmall-plus"><span class="ui-icon ui-icon-circlesmall-plus"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-circlesmall-minus"><span class="ui-icon ui-icon-circlesmall-minus"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-circlesmall-close"><span class="ui-icon ui-icon-circlesmall-close"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-squaresmall-plus"><span class="ui-icon ui-icon-squaresmall-plus"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-squaresmall-minus"><span class="ui-icon ui-icon-squaresmall-minus"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-squaresmall-close"><span class="ui-icon ui-icon-squaresmall-close"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-grip-dotted-vertical"><span class="ui-icon ui-icon-grip-dotted-vertical"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-grip-dotted-horizontal"><span class="ui-icon ui-icon-grip-dotted-horizontal"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-grip-solid-vertical"><span class="ui-icon ui-icon-grip-solid-vertical"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-grip-solid-horizontal"><span class="ui-icon ui-icon-grip-solid-horizontal"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-gripsmall-diagonal-se"><span class="ui-icon ui-icon-gripsmall-diagonal-se"></span></li>
	<li class="ui-state-default ui-corner-all" title=".ui-icon-grip-diagonal-se"><span class="ui-icon ui-icon-grip-diagonal-se"></span></li>
</ul>


<!-- Slider -->
<h2 class="demoHeaders">Slider</h2>
<div id="slider"></div>



<!-- Datepicker -->
<h2 class="demoHeaders">Datepicker</h2>
<div id="datepicker"></div>



<!-- Progressbar -->
<h2 class="demoHeaders">Progressbar</h2>
<div id="progressbar"></div>



<!-- Progressbar -->
<h2 class="demoHeaders">Selectmenu</h2>
<select id="selectmenu">
	<option>Slower</option>
	<option>Slow</option>
	<option selected="selected">Medium</option>
	<option>Fast</option>
	<option>Faster</option>
</select>



<!-- Spinner -->
<h2 class="demoHeaders">Spinner</h2>
<input id="spinner">





<!-- Highlight / Error -->
<h2 class="demoHeaders">Highlight / Error</h2>
<div class="ui-widget">
	<div class="ui-state-highlight ui-corner-all" style="margin-top: 20px; padding: 0 .7em;">
		<p><span class="ui-icon ui-icon-info" style="float: left; margin-right: .3em;"></span>
		<strong>Hey!</strong> Sample ui-state-highlight style.</p>
	</div>
</div>
<br>
<div class="ui-widget">
	<div class="ui-state-error ui-corner-all" style="padding: 0 .7em;">
		<p><span class="ui-icon ui-icon-alert" style="float: left; margin-right: .3em;"></span>
		<strong>Alert:</strong> Sample ui-state-error style.</p>
	</div>
</div>

<!--<script src="external/jquery/jquery.js"></script>
<script src="jquery-ui.js"></script>-->
<script>


var turn=0;
var whoIsActive=0;
var lockActive=0;
var monstActive=0;
var playersMax=9;
var profCount=17; //18
var currProf=-1; //0-17
var passiveCount=40;
var currMonPassives=0;
var radioCurrMax=0; //0 if curr, 1 if max; edit player hp/energy
var currFloor=0;
var currRoomIndex=0; //for accessing roomStuff array
var floorSize=20; //1-20, amount of squares in floors
var floorMax=10; //total amount of floors, also edit floorExistsArr
//var visited=0;
var deadEnd=false; //boolean, determines dead ends in floor creation
//var floorTileA=0;
//var floorTileB=0;
var floorTileIndex=-1;
//var roomTileA=0;
//var roomTileB=0;
var roomTileIndex=-1;
var roomTileMove=1; //amount to move tiles, 1 by default
var roomTilePrev; //string; save char if moving being onto tile with items or something
var roomSize=224; //14x16
var roomMaxLength=16; // _total_ number of buttons going across
var roomMaxHeight=16; //number of buttons vertically
var roomMax=200; //10 floors, 20 rooms each
var tileDir=1; // move tile direciton, 1 for up, 2 for right, 3 for down, 4 for left, 1 by default; 5 NE, 6 NW, 7 SE, 8 SW
var createTile; //string
//var floorExistsArr= [false, false, false, false, false, false, false, false, false, false]; //bool, array of whether or not a floor exists
var currRoomIs=0; //shape of room, 0 for room, 1-9 for hall, 10/11 for straight hall, 12 for secret
var currRoomSizeA=0;
var currRoomSizeB=0;
var currHallWidth=0;
var currHallLength1=0;
var currHallLength2=0;
var currHallLength3=0;
var currHallLength4=0;
//gdouble partyLevel=0.0; //for determining monster difficulty
//gdouble partyAverage=0.0;
var partyCount=0;

var partyLevel=0;

var formArr = ["", "", "", "", "", "", "", "", ""];
var currFormA=0;
var currFormB=0; //grid coordinates
var formIndex=0; //for setting array

var monstAilSet=0;
var monstAilTurn=1;
var monstersMax=12;

var playerAilSet=0;
var playerAilTurn=0;

var currItem=0;
var itemsMax=7;

var profBarColor = "#6ad18c";

var isMulti=false; //previously created was multi piece, used for removing an exit when stack popped


var stackPopped=false;

var hitDes=false;

var currFloorSym="";
var butDefColor="lightgray";
var butSelColor='#6ad18c';

var monMax=12; //max mons per room?
var itemMax=7; //max items per room?

var offset=0; //offset for rooms on higher floors, access allRooms array indicies

//hunger ranges
var satiatedHigh=500;
var satiatedLow=300;
var nonHungryHigh=299;
var nonHungryLow=100;
var hungryHigh=99;
var hungryLow=25;
var weakHigh=24;
var weakLow=1;


//weight ranges
var burdenedMod=1.25;
var stressedMod=1.5;
var strainedMod=1.75;
var overtaxedMod=2.25;
var overloadedMod=2.5;





//format = (a,b) / (horizontal, vertical)

/*var roomGridArr =[];
initRooms();*/

//monster stuff

var currMonsters=[];
//initMonster();

function initMonster() {

	currMonsters.push ({
			
				monsterName: "",
				
				monsterExists:false,
				
				size: -1, //0 for tiny, 1 for small, 2 for medium, 3 for large, 4 for huge, 5 for gigantic

				tier: 0, //+1 per difficulty
				
				monsterSymbol: "M!", //placeholder symbol
				
				monRoomIndex:-1, //where it is in a room
			
				monsterPassives: //passives
				{
						fireResist :false,//0,0
						coldResist :false,//0,1
						shockResist :false,//0,2
						disinResist :false,//0,3
						sleepResist :false,//0,4
						poisonResist :false,//0,5
						paralysisResist :false,//0,6
						blindResist :false,//0,7
						petrifyResist :false,//0,8
						sicknessResist :false,//0,9
						drainResist :false,//0,10
						woundResist :false,//1,0
						breathless :false,//1,1
						searching :false,//1,2
						seeInvis :false,//1,3
						invis :false,//1,4
						levitate :false,//1,5
						flying :false,//1,6
						adornment :false,//1,7
						warning :false,//1,8
						telepathy :false,//1,9
						foodApp :false,//1,10
						reflection :false,//2,0
						magicResist :false,//2,1
						waterWalking :false,//2,2
						displacement :false,//2,3
						sustainAbility :false,//2,4
						slowDigest :false,//2,5
						lifeSaving :false,//2,6
						stealth :false,//2,7
						confuseResist :false,//2,8


						brisk :0,//2,9
						haste :0,//2,10
						dash :0,//3,0 //int
						agileDash :0,//3,1 //int
						infravision :false,//3,2 //int
						regen :false,//3,3
						protection:0, //int
						energyRegen :false,//3,4
						noHungCast :false,//3,5

						permSlow:false,
						permBrisk:false,
						permHaste:false,


						fumbling :false,
						isHungry :false,
						tempBrisk:0,//int
						tempHaste:0, //int
						tempRegen:0, //int
						tempConfluence:0, //int
						tempInvis:0, //int

						slow:0, //int
						blind:0, //int 
						sleep:0, //int
						poisoned:0, //int
						confused:0, //int
						taunted:0, //int
						aggravated:0, //int
						paralyzed:0, //int

						hallucin:0, //int
						enfeebled:0, //int
						vulnerable:0, //int
						slippery:0, //int
						petrify:0, //int
						vomit:0, //int
						strangle:0, //int 
						engulfed:0, //int

						woundedArmLeft:0, //int
						woundedArmRight:0, //int
						woundedLegLeft:0, //int
						woundedLegRight:0 //int
				},
				speed:0,
				actions:0,

				energyClock:0,
				hpClock:0,
				newEnergyClock:true, //bool
				newHpClock:true, //bool

				tempACVal:0,
				tempACDur:0,
				
				hpCurr:0,
				hpMax:0,
				energyCurr:0,
				energyMax:0,
				armorAC:0,
				otherAC:0,
				totalAC:0,
				toHit:0,
				
				index: -1, //index in current room
		});

	

}


var allRooms=[];
initAllRooms();

function initAllRooms() {


	//var tempSymArray=[];
	
	var	tempTile=[];
	
	for (i=0;i<roomSize;i++) {
		
		tempTile.push({
		
			hasItem:false,
			hasMonster:false,
			symbol:"",
		
		});
	}
	
	
	var tempMonArray=[];
	
	
	var tempItemArray=[];
	
	var tempSpawnArray=[];
	
	/*for (j=0;j<monMax;j++) {
	
		tempMonArray[j]="";
	}
	
	for (j=0;j<itemMax;j++) {
	
		tempItemArray[j]="";
	}*/

	for (i=0;i<roomMax;i++) {
	
		allRooms.push({
		
			roomTile: tempTile,
			
			roomMonsters: tempMonArray,
			
			roomItems: tempItemArray,
			
			//monsters and items go here too (and players?)
			
			roomExists: false,
			
			spawnArray:tempSpawnArray,
			
			floorSymbol: "",
			
			roomWidth:0,
			roomHeight:0,
			
			hallWidth:0,
			hallLength1:0, //vertical 1
			hallLength2:0, //horizontal 1
			hallLength3:0, //vertical 2
			hallLength4:0, //horizontal 2
			
			northExit:-1,
			eastExit:-1,
			southExit:-1,
			westExit:-1,
			
			arrExit:-1, //exit index of arrival
		
		});
		
		
		var	tempTile=[];
	
		for (j=0;j<roomSize;j++) {
			
			tempTile.push({
			
				hasItem:false,
				hasMonster:false,
				symbol:"",
			
			});
		}
	
		tempSpawnArray=[];
		
		var tempMonArray=[];
		
		var tempItemArray=[];
		
		/*for (j=0;j<monMax;j++) {
		
			tempMonArray[j]="";
		}
		
		
		for (j=0;j<itemMax;j++) {
		
			tempItemArray[j]="";
		}*/
			
	}
}

//allRooms[0].roomMonsters.push({asdf:0});



var floorGridArr = [];
initFloor();

function initFloor() {
	
	//var tileCoorA=0;
	//var tileCoorB=0;
	var tempArrIndex=0;
	
	var tempStr="floor0";
	
	
	for (i=0;i<floorSize;i++){
	
		floorGridArr.push({

		
			symbol:" ",
			
			label:tempStr
		});
	
		tempArrIndex++;
		
		tempStr="floor" + tempArrIndex;
		
	
		
		
	}

}

var allFloors=[];
initAllFloors();

function initAllFloors() {

	var tempArray=[];
	for (i=0;i<floorSize;i++) {
		
		tempArray[i]="";
	}

	for (i=0;i<floorMax;i++) {
	
		allFloors.push({
				
				floorExists: false,
				
				floorTileIndex: 0,
				
				gridSymbols: tempArray,
				
			
		});
		
		tempArray=[];
	
	}
	
}	

/*initAllFloors();

function initAllFloors() {
	
	var tileCoorA=0;
	var tileCoorB=0;
	var tempArrIndex=0;
	
	var tempStr="floor0";
	
	
	for (i=0;i<floorMax;i++){
	
		allFloors.push({
			
			floorTileIndex: i,
		
			symbol:" ",
			
		
		});
	
		tileCoorA++;
		tempArrIndex++;
		
		tempStr="floor" + tempArrIndex;
		
	
		
		
	}

}*/

var buildRoom = [];
newBuildRoom();

function newBuildRoom(flrInd, hasNthExt, hasEstExt, hasSthExt, hasWstExt, extAm, hasMulti, nthPos, estPos, sthPos, wstPos, nMand, eMand, sMand, wMand, rert) {

	console.log("push");

	if (extAm==undefined) {
		extAm=0;
	}

	if (flrInd==undefined) {
		flrInd=99;
	}

	
	if (nthPos==undefined) {
		nthPos=false;
	}
	
	if (estPos==undefined) {
		estPos=false;
	}

	
	if (sthPos==undefined) {
		sthPos=false;
	}
	
	if (wstPos==undefined) {
		wstPos=false;
	}
	
	if (hasNthExt==undefined) {
		hasNthExt=false;
	}
	
	if (hasEstExt==undefined) {
		hasEstExt=false;
	}
	
	if (hasSthExt==undefined) {
		hasSthExt=false;
	}
	
	if (hasWstExt==undefined) {
		hasWstExt=false;
	}
	
	if (hasMulti==undefined) {
		hasMulti=false;
	}
	
	if (nMand==undefined) {
		nMand=false;
	}
	
	if (eMand==undefined) {
		eMand=false;
	}
	
	if (sMand==undefined) {
		sMand=false;
	}
	
	if (wMand==undefined) {
		wMand=false;
	}
	
	if (rert==undefined) {
		rert=false;
	}

	//builder and stack builder
	//push new build room (call this function) when exitAmount>1
	//pop when reaching a dead end
	
	

	buildRoom.push(
		{
			
			floorIndex : flrInd, //index of room, set to 99 by default
			hasNorthExit : hasNthExt, // used to determine if /actually has/ an exit in direction
			hasEastExit : hasEstExt,
			hasSouthExit : hasSthExt,
			hasWestExit : hasWstExt,
			exitAmount : extAm,
			northPossible : false, // can have north exit, floor index >4 
			eastPossible : false,
			southPossible : false,
			westPossible : false,
			hasMultipiece : false, //when building dungeon, used with deadEnd, check when making hook pieces and rooms with only 2 exits on perimeter
			northMand : false, // if a direction is barred by an impossible exit
			eastMand : false,
			southMand : false,
			westMand : false,
			reroute : false
			/*visited:  vis,
			hasEntrance : false, //floor feature (des room?) has an entrance to it
			isRoom : false,
			isHall : false,
			exit1 : "", //used to randomly choose direction... should check if tile in direction is empty?
			exit2 : "",
			exit3 : "",
			exit4 : "",
			
			stackIndex : 0, //store index for when push/pop, not needed?*/
		});
	
	
}


var roomGridArr = [];
initRoom();

function initRoom() {
	
	
	
	for (i=0;i<roomMax;i++){
	
		roomGridArr.push({

		
			symbol:" "
		});
	
		
		
	}

}

var allPlayers = [];
initPlayers();

function initPlayers() {
		
	for (i=0;i<playersMax;i++){
			
		allPlayers.push({
		
		playerName:" ",
		playerNameRace:" ",
		playerNameClass:" ",
		hasTitle: false,
		hasName:false, //bool
		hasClass:false, //bool
		playerExists:false, //bool
		playerProfs: //proficiency
		{
			daggerProf : 0,
			axeProf : 0,
			swordProf : 0,
			bludgeonProf : 0,
			staffProf : 0,
			spearProf : 0,
			polearmProf : 0,
			bowProf : 0,
			martialProf : 0,
			barehandProf : 0,
			augmentProf : 0,
			mobilityProf : 0,

			attackSpellProf : 0,
			matterSpellProf : 0,
			divinationSpellProf : 0,
			clericalSpellProf : 0,
			enchantmentSpellProf : 0,
			healingSpellProf : 0,

			//bar progress
			daggerBar : 0,
			axeBar : 0,
			swordBar : 0,
			bludgeonBar : 0,
			staffBar : 0,
			spearBar : 0,
			polearmBar : 0,
			bowBar : 0,
			martialBar : 0,
			barehandBar : 0,
			augmentBar : 0,
			mobilityBar : 0,

			attackSpellBar : 0,
			matterSpellBar : 0,
			divinationSpellBar : 0,
			clericalSpellBar : 0,
			enchantmentSpellBar : 0,
			healingSpellBar : 0,

			//prof level, 0=novice, 1=apprentice, 2=adept, 3=master, 4=grand master
			daggerLev : 0,
			axeLev : 0,
			swordLev : 0,
			bludgeonLev : 0,
			staffLev : 0,
			spearLev : 0,
			polearmLev : 0,
			bowLev : 0,
			martialLev : 0,
			barehandLev : 0,
			augmentLev : 0,
			mobilityLev : 0,

			attackSpellLev : 0,
			matterSpellLev : 0,
			divinationSpellLev : 0,
			clericalSpellLev : 0,
			enchantmentSpellLev : 0,
			healingSpellLev : 0,

			//proficiency max
			daggerProfMax : 0,
			axeProfMax : 0,
			swordProfMax : 0,
			bludgeonProfMax : 0,
			staffProfMax : 0,
			spearProfMax : 0,
			polearmProfMax : 0,
			bowProfMax : 0,
			martialProfMax : 0,
			barehandProfMax : 0,
			augmentProfMax : 0,
			mobilityProfMax : 0,

			attackSpellProfMax : 0,
			matterSpellProfMax : 0,
			divinationSpellProfMax : 0,
			clericalSpellProfMax : 0,
			enchantmentSpellProfMax : 0,
			healingSpellProfMax : 0
		},
		playerPassives: //passives
		{
			fireResist :0, //1 for resistant, 2 for immune, 3 for absorb
			coldResist :0,
			shockResist :0,
			disinResist :0,
			slowResist :0,
			sleepResist :0,
			poisonResist :0,
			paralysisResist :0,
			blindResist :0,
			petrifyResist :0,
			sicknessResist :0,
			drainResist :0,
			woundResist :0,
			breathless :false,
			searching :false,
			seeInvis :false,
			invis :false,
			levitate :false,
			flying :false,
			adornment :false,
			warning :false,
			telepathy :false,
			foodApp :false,
			reflection :false,
			magicResist :false,
			waterWalking :false,
			displacement :false,
			sustainAbility :false,
			slowDigest :false,
			lifeSaving :false,
			stealth :false,
			confuseResist :false,


			brisk :0,
			haste :0,
			dash :0,
			agileDash :0,
			infravision :false,
			regen :false,
			protection:0, 
			energyRegen :false,
			noHungCast :false,

			permSlow:false,
			permBrisk:false,
			permHaste:false,


			fumbling :false,
			isHungry :false,
			tempBrisk:0,//int
			tempHaste:0, //int
			tempRegen:0, //int
			tempConfluence:0, //int
			tempInvis:0, //int

			slow:0, //int
			blind:0, //int 
			sleep:0, //int
			poisoned:0, //int
			confused:0, //int
			taunted:0, //int
			aggravated:0, //int
			paralyzed:0, //int

			hallucin:0, //int
			enfeebled:0, //int
			vulnerable:0, //int
			slippery:0, //int
			petrify:0, //int
			vomit:0, //int
			strangle:0, //int 
			engulfed:0, //int

			woundedArmLeft:0, //int
			woundedArmRight:0, //int
			woundedLegLeft:0, //int
			woundedLegRight:0 //int
		},
		hunger:0,
		nutrition:3, //1 for oversatiated, 2 for satiated, 3 for normal, 4 for hungry, 5 for weak, 6 for faing, 7 for starved
		luck:0,
		prayTime:0,
		weightCurr:0,
		weightMax:0,
		encumbrance:0, //0 for normal, 1 for Burdened, 2 for Stressed, 3 for Strained, 4 for Overtaxed, 5 for Overloaded
		strength:0,
		dexterity:0,
		intelligence:0,
		wisdom:0,
		constitution:0,
		speed:0,
		affinAC:0,
		affTH:0,
		alignAC:0,
		alignTH:0,
		obj1Prog:0,
		obj2Prog:0,
		wearRing:0, //0 if not, 1 if yes, 2 if wearing 2
		wearAmul:0, //0 if not, 1 if yes
		vision:0,

		energyClock:0,
		hpClock:0,
		newEnergyClock:true, //bool
		newHpClock:true, //bool

		overloadTempDex:0, //save for when 0
		maxDex:0,

		tempACVal:0,
		tempACDur:0,
		tempStrVal:0,
		tempStrDur:0,
		tempDexVal:0,
		tempDexDur:0,
		tempVal:0,
		tempDur:0,
		tempWisVal:0,
		tempWisDur:0,
		tempConVal:0,
		tempConDur:0,
		
		playerLevel:0,
		//class playerClass,
		playClass:0, //0=highlander, 1=wizard, 2=healer, 3=rapscallion, 4=monk, 5=sniper, 6=myrmidon, 7=saboteur, 8=occultist, 9=basilica, 10=triarius, 11=symposiarch
		race:0, //0 for human, 1 for dwarf, 2 for orc, 3 for elf
		hpCurr:0,
		hpMax:0,
		energyCurr:0,
		energyMax:0,
		armorAC:0,
		otherAC:0,
		totalAC:0,
		toHit:0
		});
	}	
		
}


$( "#accordion" ).accordion();

var availableTags = [
	"ActionScript",
	"AppleScript",
	"Asp",
	"BASIC",
	"C",
	"C++",
	"Clojure",
	"COBOL",
	"ColdFusion",
	"Erlang",
	"Fortran",
	"Groovy",
	"Haskell",
	"Java",
	"JavaScript",
	"Lisp",
	"Perl",
	"PHP",
	"Python",
	"Ruby",
	"Scala",
	"Scheme"
];
$( "#autocomplete" ).autocomplete({
	source: availableTags
});



$( "#button" ).button();
$( "#button-icon" ).button({
	icon: "ui-icon-gear",
	showLabel: false
});



$( "#radioset" ).buttonset();



$( "#controlgroup" ).controlgroup();



$( "#dungeonTabs" ).tabs({
  collapsible: true
});



$( "#classDialog" ).dialog({
	autoOpen: false,
	width: 400,
	buttons: [
		/*{
			text: "asdf",
			click: function() {
				$( this ).dialog( "close" );
			}
		},*/
		{
			text: "Cancel",
			click: function() {
			
				document.getElementById("chooseHumanBut").style.visibility = "visible";
				document.getElementById("chooseDwarfBut").style.visibility = "visible";
				document.getElementById("chooseOrcBut").style.visibility = "visible";
				document.getElementById("chooseElfBut").style.visibility = "visible";
				$( this ).dialog( "close" );
			}
		}
	]
});

$(document).on('click','.ui-dialog-titlebar-close',function(){

    //reinitialize stats when dialog x button clicked
	
	document.getElementById("chooseHumanBut").style.visibility = "visible";
	document.getElementById("chooseDwarfBut").style.visibility = "visible";
	document.getElementById("chooseOrcBut").style.visibility = "visible";
	document.getElementById("chooseElfBut").style.visibility = "visible";
	
	if (allPlayers[lockActive].playerExists==false) {
	
		//initStats();
	
	}
});

$( "#raceDialog" ).dialog({
	autoOpen: false,
	width: 400,
	buttons: [
		{
			text: "Back",
			click: function() {
				$( this ).dialog( "close" );
				$("#classDialog").dialog("open");
				
				//reinitialize stats here
				
				if (allPlayers[lockActive].playerExists==false) {
				
					//initStats();
				
				}
			}
		},
		{
			text: "Cancel",
			click: function() {
				
				document.getElementById("chooseHumanBut").style.visibility = "visible";
				document.getElementById("chooseDwarfBut").style.visibility = "visible";
				document.getElementById("chooseOrcBut").style.visibility = "visible";
				document.getElementById("chooseElfBut").style.visibility = "visible";
				$( this ).dialog( "close" );
				
				//reinitialize stats here
				
				if (allPlayers[lockActive].playerExists==false) {
				
					//initStats();
				
				}
			}
		}
	]
});

// Link to open the dialog
$( "#initClass" ).click(function( event ) {

	//to do: prevent changing stats when already exists...
	//done?
	
	lockActive=whoIsActive;

	$( "#classDialog" ).dialog( "open" );
	$("#classInvalid").text(" ");
	event.preventDefault();
});

var classChoice;

// Link to open the dialog
$( "#chooseHighBut" ).click(function( event ) {
	$("#classDialog").dialog("close");
	document.getElementById("chooseHumanBut").style.visibility = "visible";
	document.getElementById("chooseDwarfBut").style.visibility = "visible";
	document.getElementById("chooseOrcBut").style.visibility = "visible";
	document.getElementById("chooseElfBut").style.visibility = "hidden";
	$( "#raceDialog" ).dialog( "open" );
	event.preventDefault();

	
	//edit stats for class here
	//initialize first
	
	//initStats();
	

	
	classChoice=0;
	
	/*allPlayers[lockActive].hasClass=true;

	allPlayers[lockActive].totalAC=12;
	allPlayers[lockActive].armorAC=0;
	allPlayers[lockActive].otherAC=0;
	allPlayers[lockActive].speed=12;
	allPlayers[lockActive].luck=0;
	allPlayers[lockActive].hpMax=0;
	allPlayers[lockActive].hpCurr=0;
	allPlayers[lockActive].energyCurr=0;
	allPlayers[lockActive].energyMax=0;
	allPlayers[lockActive].strength=0;
	allPlayers[lockActive].dexterity=0;
	allPlayers[lockActive].intelligence=0;
	allPlayers[lockActive].wisdom=0;
	allPlayers[lockActive].constitution=0;	//initialize
	*/
	
});

// Link to open the dialog
$( "#chooseWizBut" ).click(function( event ) {
	$("#classDialog").dialog("close");
	document.getElementById("chooseHumanBut").style.visibility = "visible";
	document.getElementById("chooseDwarfBut").style.visibility = "hidden";
	document.getElementById("chooseOrcBut").style.visibility = "hidden";
	document.getElementById("chooseElfBut").style.visibility = "visible";
	$( "#raceDialog" ).dialog( "open" );
	
	event.preventDefault();
	
	//edit stats for class here
	
	//initStats();

	
	classChoice=1;
		
	/*allPlayers[lockActive].hasClass=true;

	allPlayers[lockActive].totalAC=12;
	allPlayers[lockActive].armorAC=0;
	allPlayers[lockActive].otherAC=0;
	allPlayers[lockActive].speed=12;
	allPlayers[lockActive].luck=0;
	allPlayers[lockActive].hpMax=0;
	allPlayers[lockActive].hpCurr=0;
	allPlayers[lockActive].energyCurr=0;
	allPlayers[lockActive].energyMax=0;
	allPlayers[lockActive].strength=0;
	allPlayers[lockActive].dexterity=0;
	allPlayers[lockActive].intelligence=0;
	allPlayers[lockActive].wisdom=0;
	allPlayers[lockActive].constitution=0;	//initialize*/
	
	
		
});

// Link to open the dialog
$( "#chooseHealBut" ).click(function( event ) {
	$("#classDialog").dialog("close");
	document.getElementById("chooseHumanBut").style.visibility = "visible";
	document.getElementById("chooseDwarfBut").style.visibility = "visible";
	document.getElementById("chooseOrcBut").style.visibility = "hidden";
	document.getElementById("chooseElfBut").style.visibility = "visible";
	$( "#raceDialog" ).dialog( "open" );
	event.preventDefault();
	
	//edit stats for class here
	
	//initStats();
	
	
		classChoice=2;
		/*allPlayers[lockActive].hasClass=true;

		allPlayers[lockActive].totalAC=12;
		allPlayers[lockActive].armorAC=0;
		allPlayers[lockActive].otherAC=0;
		allPlayers[lockActive].speed=12;
		allPlayers[lockActive].luck=0;
		allPlayers[lockActive].hpMax=0;
		allPlayers[lockActive].hpCurr=0;
		allPlayers[lockActive].energyCurr=0;
		allPlayers[lockActive].energyMax=0;
		allPlayers[lockActive].strength=0;
		allPlayers[lockActive].dexterity=0;
		allPlayers[lockActive].intelligence=0;
		allPlayers[lockActive].wisdom=0;
		allPlayers[lockActive].constitution=0;	//initialize*/
		
		
		
});

// Link to open the dialog
$( "#chooseRapBut" ).click(function( event ) {
	$("#classDialog").dialog("close");
	document.getElementById("chooseHumanBut").style.visibility = "visible";
	document.getElementById("chooseDwarfBut").style.visibility = "hidden";
	document.getElementById("chooseOrcBut").style.visibility = "visible";
	document.getElementById("chooseElfBut").style.visibility = "visible";
	$( "#raceDialog" ).dialog( "open" );
	event.preventDefault();
	
	//edit stats for class here
	
	//initStats();
	
	
		classChoice=3;
		/*allPlayers[lockActive].hasClass=true;

		allPlayers[lockActive].totalAC=12;
		allPlayers[lockActive].armorAC=0;
		allPlayers[lockActive].otherAC=0;
		allPlayers[lockActive].speed=12;
		allPlayers[lockActive].luck=0;
		allPlayers[lockActive].hpMax=0;
		allPlayers[lockActive].hpCurr=0;
		allPlayers[lockActive].energyCurr=0;
		allPlayers[lockActive].energyMax=0;
		allPlayers[lockActive].strength=0;
		allPlayers[lockActive].dexterity=0;
		allPlayers[lockActive].intelligence=0;
		allPlayers[lockActive].wisdom=0;
		allPlayers[lockActive].constitution=0;	//initialize*/
		
		

		
});

// Link to open the dialog
$( "#chooseMonkBut" ).click(function( event ) {
	$("#classDialog").dialog("close");
	document.getElementById("chooseHumanBut").style.visibility = "visible";
	document.getElementById("chooseDwarfBut").style.visibility = "visible";
	document.getElementById("chooseOrcBut").style.visibility = "visible";
	document.getElementById("chooseElfBut").style.visibility = "hidden";
	$( "#raceDialog" ).dialog( "open" );
	event.preventDefault();
	
	//edit stats for class here
	
	//initStats();
	
	
	
		classChoice=4;
		/*allPlayers[lockActive].hasClass=true;

		allPlayers[lockActive].totalAC=12;
		allPlayers[lockActive].armorAC=0;
		allPlayers[lockActive].otherAC=0;
		allPlayers[lockActive].speed=12;
		allPlayers[lockActive].luck=0;
		allPlayers[lockActive].hpMax=0;
		allPlayers[lockActive].hpCurr=0;
		allPlayers[lockActive].energyCurr=0;
		allPlayers[lockActive].energyMax=0;
		allPlayers[lockActive].strength=0;
		allPlayers[lockActive].dexterity=0;
		allPlayers[lockActive].intelligence=0;
		allPlayers[lockActive].wisdom=0;
		allPlayers[lockActive].constitution=0;	//initialize*/
		
});

// Link to open the dialog
$( "#chooseSnipBut" ).click(function( event ) {
	$("#classDialog").dialog("close");
	document.getElementById("chooseHumanBut").style.visibility = "visible";
	document.getElementById("chooseDwarfBut").style.visibility = "visible";
	document.getElementById("chooseOrcBut").style.visibility = "visible";
	document.getElementById("chooseElfBut").style.visibility = "visible";
	$( "#raceDialog" ).dialog( "open" );
	event.preventDefault();
	
	//edit stats for class here
	
	
	
		classChoice=5;
		/*allPlayers[lockActive].hasClass=true;

		allPlayers[lockActive].totalAC=12;
		allPlayers[lockActive].speed=12;
		allPlayers[lockActive].luck=0;
		allPlayers[lockActive].hpMax=0;
		allPlayers[lockActive].hpCurr=0;
		allPlayers[lockActive].energyCurr=0;
		allPlayers[lockActive].energyMax=0;
		allPlayers[lockActive].strength=0;
		allPlayers[lockActive].dexterity=0;
		allPlayers[lockActive].intelligence=0;
		allPlayers[lockActive].wisdom=0;
		allPlayers[lockActive].constitution=0;	//initialize*/
		
		
		
});

// Link to open the dialog
$( "#chooseMyrmBut" ).click(function( event ) {
	$("#classDialog").dialog("close");
	document.getElementById("chooseHumanBut").style.visibility = "visible";
	document.getElementById("chooseDwarfBut").style.visibility = "hidden";
	document.getElementById("chooseOrcBut").style.visibility = "visible";
	document.getElementById("chooseElfBut").style.visibility = "visible";
	$( "#raceDialog" ).dialog( "open" );
	event.preventDefault();
	
	//edit stats for class here
	
	
		classChoice=6;
		/*allPlayers[lockActive].hasClass=true;

		allPlayers[lockActive].totalAC=12;
		allPlayers[lockActive].speed=12;
		allPlayers[lockActive].luck=0;
		allPlayers[lockActive].hpMax=0;
		allPlayers[lockActive].hpCurr=0;
		allPlayers[lockActive].energyCurr=0;
		allPlayers[lockActive].energyMax=0;
		allPlayers[lockActive].strength=0;
		allPlayers[lockActive].dexterity=0;
		allPlayers[lockActive].intelligence=0;
		allPlayers[lockActive].wisdom=0;
		allPlayers[lockActive].constitution=0;	//initialize*/
		
		
});

// Link to open the dialog
$( "#chooseSabBut" ).click(function( event ) {
	$("#classDialog").dialog("close");
	document.getElementById("chooseHumanBut").style.visibility = "visible";
	document.getElementById("chooseDwarfBut").style.visibility = "hidden";
	document.getElementById("chooseOrcBut").style.visibility = "visible";
	document.getElementById("chooseElfBut").style.visibility = "visible";
	$( "#raceDialog" ).dialog( "open" );
	event.preventDefault();
	
	//edit stats for class here
	
	
		classChoice=7;
		/*allPlayers[lockActive].hasClass=true;

		allPlayers[lockActive].totalAC=12;
		allPlayers[lockActive].speed=12;
		allPlayers[lockActive].luck=0;
		allPlayers[lockActive].hpMax=0;
		allPlayers[lockActive].hpCurr=0;
		allPlayers[lockActive].energyCurr=0;
		allPlayers[lockActive].energyMax=0;
		allPlayers[lockActive].strength=0;
		allPlayers[lockActive].dexterity=0;
		allPlayers[lockActive].intelligence=0;
		allPlayers[lockActive].wisdom=0;
		allPlayers[lockActive].constitution=0;	//initialize*/
		
});

// Link to open the dialog
$( "#chooseOccBut" ).click(function( event ) {
	$("#classDialog").dialog("close");
	document.getElementById("chooseHumanBut").style.visibility = "visible";
	document.getElementById("chooseDwarfBut").style.visibility = "hidden";
	document.getElementById("chooseOrcBut").style.visibility = "visible";
	document.getElementById("chooseElfBut").style.visibility = "hidden";
	$( "#raceDialog" ).dialog( "open" );
	event.preventDefault();
	
	//edit stats for class here
	
	
		classChoice=8;
		/*allPlayers[lockActive].hasClass=true;

		allPlayers[lockActive].totalAC=12;
		allPlayers[lockActive].speed=12;
		allPlayers[lockActive].luck=0;
		allPlayers[lockActive].hpMax=0;
		allPlayers[lockActive].hpCurr=0;
		allPlayers[lockActive].energyCurr=0;
		allPlayers[lockActive].energyMax=0;
		allPlayers[lockActive].strength=0;
		allPlayers[lockActive].dexterity=0;
		allPlayers[lockActive].intelligence=0;
		allPlayers[lockActive].wisdom=0;
		allPlayers[lockActive].constitution=0;	//initialize*/
		
			
		
});

// Link to open the dialog
$( "#chooseBasBut" ).click(function( event ) {
	$("#classDialog").dialog("close");
	document.getElementById("chooseHumanBut").style.visibility = "visible";
	document.getElementById("chooseDwarfBut").style.visibility = "visible";
	document.getElementById("chooseOrcBut").style.visibility = "hidden";
	document.getElementById("chooseElfBut").style.visibility = "hidden";
	$( "#raceDialog" ).dialog( "open" );
	event.preventDefault();
	
	//edit stats for class here
	
	
		classChoice=9;
		/*allPlayers[lockActive].hasClass=true;

		allPlayers[lockActive].totalAC=12;
		allPlayers[lockActive].speed=12;
		allPlayers[lockActive].luck=0;
		allPlayers[lockActive].hpMax=0;
		allPlayers[lockActive].hpCurr=0;
		allPlayers[lockActive].energyCurr=0;
		allPlayers[lockActive].energyMax=0;
		allPlayers[lockActive].strength=0;
		allPlayers[lockActive].dexterity=0;
		allPlayers[lockActive].intelligence=0;
		allPlayers[lockActive].wisdom=0;
		allPlayers[lockActive].constitution=0;	//initialize*/
		
		
});

// Link to open the dialog
$( "#chooseTriBut" ).click(function( event ) {
	$("#classDialog").dialog("close");
	document.getElementById("chooseHumanBut").style.visibility = "visible";
	document.getElementById("chooseDwarfBut").style.visibility = "visible";
	document.getElementById("chooseOrcBut").style.visibility = "visible";
	document.getElementById("chooseElfBut").style.visibility = "hidden";
	$( "#raceDialog" ).dialog( "open" );
	event.preventDefault();
	
	//edit stats for class here
	
	
		classChoice=10;
		/*allPlayers[lockActive].hasClass=true;

		allPlayers[lockActive].totalAC=12;
		allPlayers[lockActive].speed=12;
		allPlayers[lockActive].luck=0;
		allPlayers[lockActive].hpMax=0;
		allPlayers[lockActive].hpCurr=0;
		allPlayers[lockActive].energyCurr=0;
		allPlayers[lockActive].energyMax=0;
		allPlayers[lockActive].strength=0;
		allPlayers[lockActive].dexterity=0;
		allPlayers[lockActive].intelligence=0;
		allPlayers[lockActive].wisdom=0;
		allPlayers[lockActive].constitution=0;	//initialize*/
		
		
		
});

// Link to open the dialog
$( "#chooseSymBut" ).click(function( event ) {
	$("#classDialog").dialog("close");
	document.getElementById("chooseHumanBut").style.visibility = "visible";
	document.getElementById("chooseDwarfBut").style.visibility = "hidden";
	document.getElementById("chooseOrcBut").style.visibility = "hidden";
	document.getElementById("chooseElfBut").style.visibility = "visible";
	$( "#raceDialog" ).dialog( "open" );
	event.preventDefault();
	
	//edit stats for class here
	
	
		classChoice=11;
		/*allPlayers[lockActive].hasClass=true;

		allPlayers[lockActive].totalAC=12;
		allPlayers[lockActive].speed=12;
		allPlayers[lockActive].luck=0;
		allPlayers[lockActive].hpMax=0;
		allPlayers[lockActive].hpCurr=0;
		allPlayers[lockActive].energyCurr=0;
		allPlayers[lockActive].energyMax=0;
		allPlayers[lockActive].strength=0;
		allPlayers[lockActive].dexterity=0;
		allPlayers[lockActive].intelligence=0;
		allPlayers[lockActive].wisdom=0;
		allPlayers[lockActive].constitution=0;	//initialize*/
		
		
		
});

$( "#chooseHumanBut" ).click(function( event ) {
	
	$("#raceDialog").dialog("close");
	event.preventDefault();
	
	initStats();
	
	//edit stats for race here
	
	allPlayers[lockActive].race=0;
	
	allPlayers[lockActive].hasTitle=true;
	
	createCharacterStats();	

	
	//update display
	
	if(lockActive==whoIsActive) 
		{
	
			updatePlayer();
		}
		
});

$( "#chooseDwarfBut" ).click(function( event ) {

	//can't be wizard, rogue, sab, myrm, occ, or sym
	if (classChoice==0 
	|| classChoice==2 
	|| classChoice==4 
	|| classChoice==5 
	|| classChoice==9 
	|| classChoice==10)
	{

		$("#raceDialog").dialog("close");
		event.preventDefault();
		
		initStats();

		//edit stats for race here

		allPlayers[lockActive].race=1;
		
		allPlayers[lockActive].hasTitle=true;
		
		createCharacterStats();
		
		
		//update display 
		
		if(lockActive==whoIsActive) 
		{
	
			updatePlayer();
		}
	
	}
	
	else {
		
		$('#classInvalid').text("Invalid");
	}
		
});

$( "#chooseOrcBut" ).click(function( event ) {

	//can't be wiz, heal, bas, sym
	if (classChoice==0 
	|| classChoice==3 
	|| classChoice==4 
	|| classChoice==5 
	|| classChoice==6 
	|| classChoice==7 
	|| classChoice==8 
	|| classChoice==10)
	{

		$("#raceDialog").dialog("close");
		event.preventDefault();
		
		initStats();

		//edit stats for race here

		allPlayers[lockActive].race=2;
		
		allPlayers[lockActive].hasTitle=true;
		
		createCharacterStats();
		
		
		//update display
	
		if(lockActive==whoIsActive) 
		{
	
			updatePlayer();
		}
	
	}
	
	else {
		
		$('#classInvalid').text("Invalid");
	}
		
});

$( "#chooseElfBut" ).click(function( event ) {

	//can't be high, monk, occ, bas, or tri
	if (classChoice==1 
	|| classChoice==2 
	|| classChoice==3 
	|| classChoice==5 
	|| classChoice==6
	|| classChoice==7	
	|| classChoice==11)
	{

		$("#raceDialog").dialog("close");
		event.preventDefault();
		
		initStats();

		//edit stats for race here

		allPlayers[lockActive].race=3;
		
		allPlayers[lockActive].hasTitle=true;
		
		createCharacterStats();

		
		//update display
	
		if(lockActive==whoIsActive) 
		{
	
			updatePlayer();
		}
	
	}
	
	else {
		
		$('#classInvalid').text("Invalid");
	}
		
});

$( "#datepicker" ).datepicker({
	inline: true
});



$( "#slider" ).slider({
	range: true,
	values: [ 17, 67 ]
});



$( "#progressbar" ).progressbar({
	value: 20
});



$( "#spinner" ).spinner();



$( "#menu" ).menu();



$( "#tooltip" ).tooltip();



$( "#selectmenu" ).selectmenu();


// Hover states on the static widgets
$( "#dialog-link, #icons li" ).hover(
	function() {
		$( this ).addClass( "ui-state-hover" );
	},
	function() {
		$( this ).removeClass( "ui-state-hover" );
	}
);

window.onkeyup = function(e) {
   var key = e.keyCode;

   if (key == 90) {
   
		//dont increment unless there are players, assuming at least 1
		if (allPlayers[0].playerExists==true) {
		
			var tempStyle="Turn: ";
			var notifs="";
		
			turn++;
			
			turnInc();
			
			tempStyle+=turn;
			
			$("#turnCount").html(tempStyle);
			
			//calculate hunger, speed, ailments, passives, hp/energy gain here
			
			//set up notifications
			for (i=0;i<playersMax;i++) {
			
				if (allPlayers[i].playerExists==true) {
			
				
					//alert if more/less actions this turn
					if (allPlayers[i].actions!=1) {
					
						notifs=allPlayers[i].playerName + " has " + allPlayers[i].actions + " actions this turn\n";
					}
				
				}//if player exists
			
				
			
			} //for # of players
			
			if (notifs!="") {
				
				alert(notifs);
				
			}
			
			updatePlayer();
			
	   } //at least one player
   
   }
}

function turnInc() {

	var tempStyle;

	for (i=0;i<playersMax;i++) {
	
		if (allPlayers[i].playerExists==true) {
		
			//conditionals here
		
			allPlayers[i].hunger--;
			
			tempStyle = "Hunger: " + allPlayers[whoIsActive].hunger;
			$('#playerHunger').html(tempStyle);
			
			

		
		}
	}
}

function initStats() {

	allPlayers[lockActive].hasClass=false;
	allPlayers[lockActive].totalAC=12;
	allPlayers[lockActive].armorAC=0;
	allPlayers[lockActive].otherAC=0;
	allPlayers[lockActive].speed=12;
	allPlayers[lockActive].luck=0;
	allPlayers[lockActive].hpMax=0;
	allPlayers[lockActive].hpCurr=0;
	allPlayers[lockActive].energyCurr=0;
	allPlayers[lockActive].energyMax=0;
	allPlayers[lockActive].strength=0;
	allPlayers[lockActive].dexterity=0;
	allPlayers[lockActive].intelligence=0;
	allPlayers[lockActive].wisdom=0;
	allPlayers[lockActive].constitution=0;
	allPlayers[lockActive].armorAC=0;
	allPlayers[lockActive].otherAC=0;
	
	//allPlayers[lockActive].speed=0;
	allPlayers[lockActive].actions=0;
	allPlayers[lockActive].weightCurr=0;
	allPlayers[lockActive].weightMax=0;
	allPlayers[lockActive].hunger=0;
	
	allPlayers[lockActive].daggerProf = 0;
	allPlayers[lockActive].axeProf = 0;
	allPlayers[lockActive].swordProf = 0;
	allPlayers[lockActive].bludgeonProf = 0;
	allPlayers[lockActive].staffProf = 0;
	allPlayers[lockActive].spearProf = 0;
	allPlayers[lockActive].polearmProf = 0;
	allPlayers[lockActive].bowProf = 0;
	allPlayers[lockActive].martialProf = 0;
	allPlayers[lockActive].barehandProf = 0;
	allPlayers[lockActive].augmentProf = 0;
	allPlayers[lockActive].mobilityProf = 0;

	allPlayers[lockActive].attackSpellProf = 0;
	allPlayers[lockActive].matterSpellProf = 0;
	allPlayers[lockActive].divinationSpellProf = 0;
	allPlayers[lockActive].clericalSpellProf = 0;
	allPlayers[lockActive].enchantmentSpellProf = 0;
	allPlayers[lockActive].healingSpellProf = 0;

	//bar progress
	allPlayers[lockActive].daggerBar = 0;
	allPlayers[lockActive].axeBar = 0;
	allPlayers[lockActive].swordBar = 0;
	allPlayers[lockActive].bludgeonBar = 0;
	allPlayers[lockActive].staffBar = 0;
	allPlayers[lockActive].spearBar = 0;
	allPlayers[lockActive].polearmBar = 0;
	allPlayers[lockActive].bowBar = 0;
	allPlayers[lockActive].martialBar = 0;
	allPlayers[lockActive].barehandBar = 0;
	allPlayers[lockActive].augmentBar = 0;
	allPlayers[lockActive].mobilityBar = 0;

	allPlayers[lockActive].attackSpellBar = 0;
	allPlayers[lockActive].matterSpellBar = 0;
	allPlayers[lockActive].divinationSpellBar = 0;
	allPlayers[lockActive].clericalSpellBar = 0;
	allPlayers[lockActive].enchantmentSpellBar = 0;
	allPlayers[lockActive].healingSpellBar = 0;

	allPlayers[lockActive].daggerLev = 0;
	allPlayers[lockActive].axeLev = 0;
	allPlayers[lockActive].swordLev = 0;
	allPlayers[lockActive].bludgeonLev = 0;
	allPlayers[lockActive].staffLev = 0;
	allPlayers[lockActive].spearLev = 0;
	allPlayers[lockActive].polearmLev = 0;
	allPlayers[lockActive].bowLev = 0;
	allPlayers[lockActive].martialLev = 0;
	allPlayers[lockActive].barehandLev = 0;
	allPlayers[lockActive].augmentLev = 0;
	allPlayers[lockActive].mobilityLev = 0;

	allPlayers[lockActive].attackSpellLev = 0;
	allPlayers[lockActive].matterSpellLev = 0;
	allPlayers[lockActive].divinationSpellLev = 0;
	allPlayers[lockActive].clericalSpellLev = 0;
	allPlayers[lockActive].enchantmentSpellLev = 0;
	allPlayers[lockActive].healingSpellLev = 0;
	
	
}

function createCharacterStats () {

	allPlayers[lockActive].playerLevel=1;

	//highlander
	if (classChoice==0) {
	
		allPlayers[lockActive].playClass=0;
		allPlayers[lockActive].playerNameClass="Highlander";
	
		allPlayers[lockActive].hunger=200;	
		allPlayers[lockActive].armorAC=5;
		allPlayers[lockActive].playerPassives.protection=0;
		
		allPlayers[whoIsActive].totalAC=12-allPlayers[whoIsActive].armorAC - allPlayers[whoIsActive].otherAC;
		
		allPlayers[lockActive].hpMax+=15;
		allPlayers[lockActive].hpCurr+=15;
		allPlayers[lockActive].strength=11+rollDie(2, 1);
		allPlayers[lockActive].dexterity=9+rollDie(2, 1);
		allPlayers[lockActive].intelligence=5+rollDie(2, 1);
		allPlayers[lockActive].wisdom=6+rollDie(2, 1);
		allPlayers[lockActive].constitution=13+rollDie(4, 1);
		allPlayers[lockActive].luck-=2;
		
		
		
		
		//passives
		
		allPlayers[lockActive].playerPassives.poisonResist=true;	
		allPlayers[lockActive].playerPassives.breathless=true;	
	
	}
	
	//wizard
	else if (classChoice==1) {
	
		allPlayers[lockActive].playClass=1;
		allPlayers[lockActive].playerNameClass="Istari";
	
		allPlayers[lockActive].hunger=200;	
		allPlayers[lockActive].armorAC=1;
		allPlayers[lockActive].playerPassives.protection=0;
		
		allPlayers[whoIsActive].totalAC=12-allPlayers[whoIsActive].armorAC - allPlayers[whoIsActive].otherAC;

		allPlayers[lockActive].hpMax+=9;
		allPlayers[lockActive].hpCurr+=9;
		allPlayers[lockActive].strength=6+rollDie(2, 1);
		allPlayers[lockActive].dexterity=8+rollDie(4, 1);
		allPlayers[lockActive].intelligence=15+rollDie(2, 1);
		allPlayers[lockActive].wisdom=11+rollDie(2, 1);
		allPlayers[lockActive].constitution=5+rollDie(2, 1);

		allPlayers[lockActive].energyCurr+=7;
		allPlayers[lockActive].energyMax+=7; //hat + sceptre
		
		//bonus starting energy
		
		allPlayers[lockActive].energyCurr+=10;
		allPlayers[lockActive].energyMax+=10;
	
	
	//passives
	
	allPlayers[lockActive].playerPassives.noHungCast=true;
	
	}
	
	//healer
	else if (classChoice==2) {
	
		allPlayers[lockActive].playClass=2;
		allPlayers[lockActive].playerNameClass="Asclepian";
	
		allPlayers[lockActive].hunger=200;	
		allPlayers[lockActive].armorAC=2;
		allPlayers[lockActive].playerPassives.protection=0;
		
		allPlayers[whoIsActive].totalAC=12-allPlayers[whoIsActive].armorAC - allPlayers[whoIsActive].otherAC;

		allPlayers[lockActive].hpMax+=9;
		allPlayers[lockActive].hpCurr+=9;
		allPlayers[lockActive].strength=7+rollDie(2,1);
		allPlayers[lockActive].dexterity=6+rollDie(2,1);
		allPlayers[lockActive].intelligence=9+rollDie(2,1);
		allPlayers[lockActive].wisdom=16+rollDie(2,1);
		allPlayers[lockActive].constitution=6+rollDie(2,1);
		
		//bonus starting energy
		allPlayers[lockActive].energyCurr+=7;
		allPlayers[lockActive].energyMax+=7;
	
		
		//passives
		
		allPlayers[lockActive].playerPassives.poisonResist=true;
	
	}
	
	//rogue
	else if (classChoice==3) {
	
		allPlayers[lockActive].playClass=3;
		allPlayers[lockActive].playerNameClass="Rapscallion";
	
		allPlayers[lockActive].hunger=200;	
		allPlayers[lockActive].armorAC=3;
		allPlayers[lockActive].playerPassives.protection=0;
		
		allPlayers[whoIsActive].totalAC=12-allPlayers[whoIsActive].armorAC - allPlayers[whoIsActive].otherAC;

		allPlayers[lockActive].hpMax+=10;
		allPlayers[lockActive].hpCurr+=10;
		allPlayers[lockActive].strength=8+rollDie(2,1);
		allPlayers[lockActive].dexterity=14+rollDie(2,1);
		allPlayers[lockActive].intelligence=10+rollDie(2,1);
		allPlayers[lockActive].wisdom=8+rollDie(2,1);
		allPlayers[lockActive].constitution=6+rollDie(2,1);
		allPlayers[lockActive].luck+=2; //lucky


		//passives
		
		allPlayers[lockActive].playerPassives.stealth=true;
		allPlayers[lockActive].playerPassives.searching=true;
		allPlayers[lockActive].playerPassives.seeInvis=true;
	
	}
	
	//monk
	else if (classChoice==4) {
	
		allPlayers[lockActive].playClass=4;
		allPlayers[lockActive].playerNameClass="Yogi";
	
		allPlayers[lockActive].hunger=200;	
		allPlayers[lockActive].armorAC=3;
		allPlayers[lockActive].playerPassives.protection=0;
		
		allPlayers[whoIsActive].totalAC=12-allPlayers[whoIsActive].armorAC - allPlayers[whoIsActive].otherAC;

		allPlayers[lockActive].hpMax+=13;
		allPlayers[lockActive].hpCurr+=13;
		allPlayers[lockActive].strength=12+rollDie(4,1);
		allPlayers[lockActive].dexterity=10+rollDie(4,1);
		allPlayers[lockActive].intelligence=8+rollDie(2,1);
		allPlayers[lockActive].wisdom=9+rollDie(4,1);
		allPlayers[lockActive].constitution=8+rollDie(4,1);
		allPlayers[lockActive].toHit+=1;



		//passives
		
		allPlayers[lockActive].playerPassives.sleepResist=true;
		allPlayers[lockActive].playerPassives.confuseResist=true;
	
	}
	
	//snip
	else if (classChoice==5) {
	
		allPlayers[lockActive].playClass=5;
		allPlayers[lockActive].playerNameClass="Sniper";
	
		allPlayers[lockActive].hunger=200;	
		allPlayers[lockActive].armorAC=2;
		allPlayers[lockActive].playerPassives.protection=0;
		
		allPlayers[whoIsActive].totalAC=12-allPlayers[whoIsActive].armorAC - allPlayers[whoIsActive].otherAC;

		allPlayers[lockActive].hpMax+=10;
		allPlayers[lockActive].hpCurr+=10;
		allPlayers[lockActive].strength=11+rollDie(2,1);
		allPlayers[lockActive].dexterity=13+rollDie(2,1);
		allPlayers[lockActive].intelligence=9+rollDie(4,1);
		allPlayers[lockActive].wisdom=7+rollDie(4,1);
		allPlayers[lockActive].constitution=6+rollDie(2,1);

		
		//passives
		
		allPlayers[lockActive].playerPassives.searching=true;
		allPlayers[lockActive].playerPassives.stealth=true; // faded cloak
		allPlayers[lockActive].playerPassives.blindResist=true;
	
	}
	
	//myrm
	else if (classChoice==6) {
	
		allPlayers[lockActive].playClass=6;
		allPlayers[lockActive].playerNameClass="Myrmidon";
	
		allPlayers[lockActive].hunger=150;	
		allPlayers[lockActive].armorAC=3;
		allPlayers[lockActive].playerPassives.protection=0;
		
		allPlayers[whoIsActive].totalAC=12-allPlayers[whoIsActive].armorAC - allPlayers[whoIsActive].otherAC;

		allPlayers[lockActive].hpMax+=8;
		allPlayers[lockActive].hpCurr+=8;
		allPlayers[lockActive].strength=15+rollDie(2,1);
		allPlayers[lockActive].dexterity=10+rollDie(4,1);
		allPlayers[lockActive].intelligence=10+rollDie(2,1);
		allPlayers[lockActive].wisdom=7+rollDie(2,1);
		allPlayers[lockActive].constitution=5+rollDie(2,1);

		//passives
		
		allPlayers[lockActive].playerPassives.disinResist=true;
		allPlayers[lockActive].playerPassives.agileDash=2;
	
	}
	
	//sab
	else if (classChoice==7) {
	
		allPlayers[lockActive].playClass=7;
		allPlayers[lockActive].playerNameClass="Saboteur";
	
		allPlayers[lockActive].hunger=200;	
		allPlayers[lockActive].armorAC=2;
		allPlayers[lockActive].playerPassives.protection=0;
		
		allPlayers[whoIsActive].totalAC=12-allPlayers[whoIsActive].armorAC - allPlayers[whoIsActive].otherAC;

		allPlayers[lockActive].hpMax+=10;
		allPlayers[lockActive].hpCurr+=10;
		allPlayers[lockActive].strength=8+rollDie(4,1);
		allPlayers[lockActive].dexterity=8+rollDie(2,1);
		allPlayers[lockActive].intelligence=14+rollDie(2,1);
		allPlayers[lockActive].wisdom=8+rollDie(4,1);
		allPlayers[lockActive].constitution=8+rollDie(2,1);

		
		//passives
		
		allPlayers[lockActive].playerPassives.sleepResist=true;
		allPlayers[lockActive].playerPassives.noHungCast=true;
		allPlayers[lockActive].playerPassives.warning=true;
	
	}
	
	//occ
	else if (classChoice==8) {
	
		allPlayers[lockActive].playClass=8;
		allPlayers[lockActive].playerNameClass="Occultist";
	
		allPlayers[lockActive].hunger=200;	
		allPlayers[lockActive].armorAC=1;
		allPlayers[lockActive].playerPassives.protection=0;
		
		allPlayers[whoIsActive].totalAC=12-allPlayers[whoIsActive].armorAC - allPlayers[whoIsActive].otherAC;

		allPlayers[lockActive].hpMax+=10;
		allPlayers[lockActive].hpCurr+=10;
		allPlayers[lockActive].strength=5+rollDie(2,1);
		allPlayers[lockActive].dexterity=9+rollDie(2,1);
		allPlayers[lockActive].intelligence=11+rollDie(4,1);
		allPlayers[lockActive].wisdom=11+rollDie(2,1);
		allPlayers[lockActive].constitution=11+rollDie(2,1);
		allPlayers[lockActive].luck-=2; //unlucky


		allPlayers[lockActive].playerPassives.drainResist=true;
		allPlayers[lockActive].playerPassives.warning=true;	
	
	}
	
	//bas
	else if (classChoice==9) {
	
		allPlayers[lockActive].playClass=9;
		allPlayers[lockActive].playerNameClass="Basilica";
		
		allPlayers[lockActive].hunger=200;	
		allPlayers[lockActive].armorAC=5;
		
		allPlayers[lockActive].playerPassives.protection=3;
		//allPlayers[lockActive].totalAC-=allPlayers[lockActive].playerPassives.protection;
		
		allPlayers[whoIsActive].totalAC=12-allPlayers[whoIsActive].armorAC - allPlayers[whoIsActive].otherAC;

		allPlayers[lockActive].hpMax+=15;
		allPlayers[lockActive].hpCurr+=15;
		allPlayers[lockActive].strength+=6+rollDie(2,1);
		allPlayers[lockActive].dexterity=6+rollDie(2,1);
		allPlayers[lockActive].intelligence=8+rollDie(2,1);
		allPlayers[lockActive].wisdom=12+rollDie(2,1);
		allPlayers[lockActive].constitution=14+rollDie(2,1);


		
		//passives
		
		allPlayers[i].playerPassives.slowDigest=true;
	
	}
	
	//tri
	else if (classChoice==10) {
	
		allPlayers[lockActive].playClass=10;
		allPlayers[lockActive].playerNameClass="Tririus";
	
		allPlayers[lockActive].hunger=200;	
		allPlayers[lockActive].armorAC=7;
		allPlayers[lockActive].playerPassives.protection=0;		
		
		allPlayers[whoIsActive].totalAC=12-allPlayers[whoIsActive].armorAC - allPlayers[whoIsActive].otherAC;

		allPlayers[lockActive].hpMax+=14;
		allPlayers[lockActive].hpCurr+=14;
		allPlayers[lockActive].strength=9+rollDie(4,1);
		allPlayers[lockActive].dexterity=11+rollDie(2,1);
		allPlayers[lockActive].intelligence=9+rollDie(2,1);
		allPlayers[lockActive].wisdom=9+rollDie(2,1);
		allPlayers[lockActive].constitution=11+rollDie(2,1);

		
		//passives
		
		//none
	
	}
	
	//sym
	else if (classChoice==11) {
	
		allPlayers[lockActive].playClass=11;
		allPlayers[lockActive].playerNameClass="Symposiarch";
	
		allPlayers[lockActive].hunger=200;	
		
		//no starting armor
		//allPlayers[lockActive].totalAC-=2;
		//allPlayers[lockActive].playerPassives.protection=0;
		
		allPlayers[whoIsActive].totalAC=12-allPlayers[whoIsActive].armorAC - allPlayers[whoIsActive].otherAC;

		allPlayers[lockActive].hpMax+=6;
		allPlayers[lockActive].hpCurr+=6;
		allPlayers[lockActive].energyCurr+=5;
		allPlayers[lockActive].energyMax+=5;
		allPlayers[lockActive].strength=5+rollDie(2,1);
		allPlayers[lockActive].dexterity=12+rollDie(4,1);
		allPlayers[lockActive].intelligence=13+rollDie(2,1);
		allPlayers[lockActive].wisdom+=12+rollDie(2,1);
		allPlayers[lockActive].constitution+=6+rollDie(2,1);
		
		
		//passives
		
		allPlayers[lockActive].playerPassives.disinResist=true;
		allPlayers[lockActive].playerPassives.confuseResist=true;
	
	}
	
	//human
	if (allPlayers[lockActive].race==0) {
	
		allPlayers[lockActive].playerNameRace="Human";
	
		allPlayers[lockActive].energyMax+=5;
		allPlayers[lockActive].energyCurr+=5; //minimum

		allPlayers[lockActive].hpMax+=2;
		allPlayers[lockActive].hpCurr+=2;
		allPlayers[lockActive].energyMax+=3;
		allPlayers[lockActive].energyCurr+=3;
		allPlayers[lockActive].playerPassives.protection+=1; // divine protection 1
		
		allPlayers[whoIsActive].otherAC=allPlayers[lockActive].playerPassives.protection;
		
		allPlayers[whoIsActive].totalAC=12-allPlayers[whoIsActive].armorAC - allPlayers[whoIsActive].otherAC;
		
		//allPlayers[lockActive].totalAC-=allPlayers[lockActive].playerPassives.protection;
		allPlayers[lockActive].luck+=3;
		allPlayers[lockActive].vision=1;
	

	
	}
	
	//dwarf
	else if (allPlayers[lockActive].race==1) {
	
		allPlayers[lockActive].playerNameRace="Dwarf";
	
		allPlayers[lockActive].energyMax+=5;
		allPlayers[lockActive].energyCurr+=5; //minimum

		allPlayers[lockActive].hpMax+=5;
		allPlayers[lockActive].hpCurr+=5;
		allPlayers[lockActive].strength+=1;
		allPlayers[lockActive].constitution+=2;
		allPlayers[lockActive].intelligence-=1;
		allPlayers[lockActive].dexterity-=1;
		allPlayers[lockActive].playerPassives.petrifyResist==true; //petrify resist
		allPlayers[lockActive].luck=2;
		allPlayers[lockActive].vision=1;
	
	
	
	}
	
	//orc
	else if (allPlayers[lockActive].race==2) {
	
		allPlayers[lockActive].playerNameRace="Orc";
	
		allPlayers[lockActive].energyMax+=5;
		allPlayers[lockActive].energyCurr+=5; //minimum

		//orc bonus
		allPlayers[lockActive].energyMax+=1;
		allPlayers[lockActive].energyCurr+=1; 
		allPlayers[lockActive].hpMax+=3;
		allPlayers[lockActive].hpCurr+=3;
		allPlayers[lockActive].strength+=2;
		allPlayers[lockActive].constitution+=1;
		allPlayers[lockActive].toHit+=1;
		
		//orc penalty
		allPlayers[lockActive].intelligence-=1;
		allPlayers[lockActive].wisdom-=1;
		allPlayers[lockActive].playerPassives.poisonResist==true; //poison resist
		
		allPlayers[lockActive].luck=0;
		allPlayers[lockActive].vision=1;
	
	
	}
	
	//elf
	else if (allPlayers[lockActive].race==3) {
	
		allPlayers[lockActive].playerNameRace="Elf";
	
		allPlayers[lockActive].energyMax+=5;
		allPlayers[lockActive].energyCurr+=5; //minimum
	
		//elf bonus
		allPlayers[lockActive].energyMax+=5;
		allPlayers[lockActive].energyCurr+=5;
		allPlayers[lockActive].dexterity+=1;
		allPlayers[lockActive].toHit+=1;
		
		//elf penalty
		allPlayers[lockActive].strength-=1;
		allPlayers[lockActive].constitution-=1;
		allPlayers[lockActive].playerPassives.sleepResist==true; //sleep resist
		allPlayers[lockActive].luck=2;
		allPlayers[lockActive].vision=2;
	
	}
	
	allPlayers[lockActive].weightMax=(12*(allPlayers[lockActive].strength+allPlayers[lockActive].constitution))+50;
	
	allPlayers[lockActive].playerProfs.daggerProf = 0;
	allPlayers[lockActive].playerProfs.axeProf = 0;
	allPlayers[lockActive].playerProfs.swordProf = 0;
	allPlayers[lockActive].playerProfs.bludgeonProf = 0;
	allPlayers[lockActive].playerProfs.staffProf = 0;
	allPlayers[lockActive].playerProfs.spearProf = 0;
	allPlayers[lockActive].playerProfs.polearmProf = 0;
	allPlayers[lockActive].playerProfs.bowProf = 0;
	allPlayers[lockActive].playerProfs.martialProf = 0;
	allPlayers[lockActive].playerProfs.barehandProf = 0;
	allPlayers[lockActive].playerProfs.augmentProf = 0;
	allPlayers[lockActive].playerProfs.mobilityProf = 0;

	allPlayers[lockActive].playerProfs.attackSpellProf = 0;
	allPlayers[lockActive].playerProfs.matterSpellProf = 0;
	allPlayers[lockActive].playerProfs.divinationSpellProf = 0;
	allPlayers[lockActive].playerProfs.clericalSpellProf = 0;
	allPlayers[lockActive].playerProfs.enchantmentSpellProf = 0;
	allPlayers[lockActive].playerProfs.healingSpellProf = 0;

	//bar progress
	allPlayers[lockActive].playerProfs.daggerBar = 0;
	allPlayers[lockActive].playerProfs.axeBar = 0;
	allPlayers[lockActive].playerProfs.swordBar = 0;
	allPlayers[lockActive].playerProfs.bludgeonBar = 0;
	allPlayers[lockActive].playerProfs.staffBar = 0;
	allPlayers[lockActive].playerProfs.spearBar = 0;
	allPlayers[lockActive].playerProfs.polearmBar = 0;
	allPlayers[lockActive].playerProfs.bowBar = 0;
	allPlayers[lockActive].playerProfs.martialBar = 0;
	allPlayers[lockActive].playerProfs.barehandBar = 0;
	allPlayers[lockActive].playerProfs.augmentBar = 0;
	allPlayers[lockActive].playerProfs.mobilityBar = 0;

	allPlayers[lockActive].playerProfs.attackSpellBar = 0;
	allPlayers[lockActive].playerProfs.matterSpellBar = 0;
	allPlayers[lockActive].playerProfs.divinationSpellBar = 0;
	allPlayers[lockActive].playerProfs.clericalSpellBar = 0;
	allPlayers[lockActive].playerProfs.enchantmentSpellBar = 0;
	allPlayers[lockActive].playerProfs.healingSpellBar = 0;

	allPlayers[lockActive].playerProfs.daggerLev = 0;
	allPlayers[lockActive].playerProfs.axeLev = 0;
	allPlayers[lockActive].playerProfs.swordLev = 0;
	allPlayers[lockActive].playerProfs.bludgeonLev = 0;
	allPlayers[lockActive].playerProfs.staffLev = 0;
	allPlayers[lockActive].playerProfs.spearLev = 0;
	allPlayers[lockActive].playerProfs.polearmLev = 0;
	allPlayers[lockActive].playerProfs.bowLev = 0;
	allPlayers[lockActive].playerProfs.martialLev = 0;
	allPlayers[lockActive].playerProfs.barehandLev = 0;
	allPlayers[lockActive].playerProfs.augmentLev = 0;
	allPlayers[lockActive].playerProfs.mobilityLev = 0;

	allPlayers[lockActive].playerProfs.attackSpellLev = 0;
	allPlayers[lockActive].playerProfs.matterSpellLev = 0;
	allPlayers[lockActive].playerProfs.divinationSpellLev = 0;
	allPlayers[lockActive].playerProfs.clericalSpellLev = 0;
	allPlayers[lockActive].playerProfs.enchantmentSpellLev = 0;
	allPlayers[lockActive].playerProfs.healingSpellLev = 0;
	
	//reset progress bars
	
	currProf=-1;
	$("#daggerProfBar").css("background-color", "white");
	$("#axeProfBar").css("background-color", "white");
	$("#swordProfBar").css("background-color", "white");
	$("#bludgeonProfBar").css("background-color", "white");
	$("#staffProfBar").css("background-color", "white");
	$("#spearProfBar").css("background-color", "white");
	$("#polearmProfBar").css("background-color", "white");
	$("#bowProfBar").css("background-color", "white");
	$("#martialProfBar").css("background-color", "white");
	$("#barehandProfBar").css("background-color", "white");
	$("#augmentProfBar").css("background-color", "white");
	$("#mobilityProfBar").css("background-color", "white");
	$("#attackSpellProfBar").css("background-color", "white");
	$("#matterSpellProfBar").css("background-color", "white");
	$("#divinationSpellProfBar").css("background-color", "white");
	$("#clericalSpellProfBar").css("background-color", "white");
	$("#enchantmentSpellProfBar").css("background-color", "white");
	$("#healingSpellProfBar").css("background-color", "white");
	
	$( "#daggerProfBar" ).progressbar({value:0 , max:20});
	$( "#axeProfBar" ).progressbar({value:0 , max:20});
	$( "#swordProfBar" ).progressbar({value:0 , max:20});
	$( "#bludgeonProfBar" ).progressbar({value:0 , max:20});
	$( "#staffProfBar" ).progressbar({value:0 , max:20});
	$( "#spearProfBar" ).progressbar({value:0 , max:20});
	$( "#polearmProfBar" ).progressbar({value:0 , max:20});
	$( "#bowProfBar" ).progressbar({value:0 , max:20});
	$( "#martialProfBar" ).progressbar({value:0 , max:20});
	$( "#barehandProfBar" ).progressbar({value:0 , max:20});
	$( "#augmentProfBar" ).progressbar({value:0 , max:20});
	$( "#mobilityProfBar" ).progressbar({value:0 , max:20});
	$( "#attackSpellProfBar" ).progressbar({value:0 , max:20});
	$( "#matterSpellProfBar" ).progressbar({value:0 , max:20});
	$( "#divinationSpellProfBar" ).progressbar({value:0 , max:20});
	$( "#clericalSpellProfBar" ).progressbar({value:0 , max:20});
	$( "#enchantmentSpellProfBar" ).progressbar({value:0 , max:20});
	$( "#healingSpellProfBar" ).progressbar({value:0 , max:20});
	
	allPlayers[lockActive].playerExists=true;
	partyCount++;
	

	

}

function bumpFloor (floorArrIndex, directionFrom, aArrLoc, bDesLoc) {

	console.log("bump");

	//called when bumping into an already-existing floor feature
	
	//reroute
	//determine other possible exits, then set has(Direction) to true
	//return floorArrIndex
	//should return to while loop, redirected
	
	//if bump, can have at most 2 exits

	
	var compareLabel="?";
	var floorLabel="";
	var tempRoomIndex=floorArrIndex;
	
	buildRoom[0].exitAmount=0;
	
	buildRoom[0].hasNorthExit=false;
	buildRoom[0].hasEastExit=false;
	buildRoom[0].hasSouthExit=false;
	buildRoom[0].hasWestExit=false;
	/*buildRoom[0].northPossible;
	buildRoom[0].eastPossible;
	buildRoom[0].southPossible;
	buildRoom[0].westPossible;
	buildRoom[0].northMand;
	buildRoom[0].eastMand;
	buildRoom[0].southMand;
	buildRoom[0].westMand;*/
	
	console.log("bumped, index before checking connect is " +floorArrIndex);
	
	checkConnect (compareLabel, floorLabel, tempRoomIndex, floorArrIndex);
	//console.log("bump index before calling surround is " + floorArrIndex);
	
	//floorArrIndex=floorCheckSurround(compareLabel, floorLabel, tempRoomIndex, floorArrIndex);
	
	//checkConnect (compareLabel, floorLabel, tempRoomIndex, floorArrIndex);
	
	//set current room equal to appropriate direction
	
	console.log("bumped, index after checking connect is " +floorArrIndex);
	
	if (floorArrIndex>=0 && floorArrIndex<=19 && floorArrIndex!=0 && floorArrIndex!=4 && floorArrIndex!=15 && floorArrIndex!=19) {
	
		//floorLabel=floorGridArr[floorArrIndex].label;
		
		//var arrCmp=floorLabel.includes("a");
		
		if (buildRoom[0].northPossible==true || buildRoom[0].southPossible==true || buildRoom[0].eastPossible==true || buildRoom[0].westPossible==true ){
		
		if (floorArrIndex!=aArrLoc && floorArrIndex!=bDesLoc) {
		
			//if coming from west
			if (directionFrom=="west") {
			
				let tempRoll=rollDie(2,1);
			
				if (tempRoll==1 && buildRoom[0].southMand==true && buildRoom[0].northMand==true && (buildRoom[0].eastMand!=true || buildRoom[0].eastPossible!=true) && floorArrIndex>4) {
				
					floorLabel=floorGridArr[floorArrIndex].label;
					$("#" + floorLabel).html("");
					
					buildRoom[0].hasNorthExit=true;
					buildRoom[0].hasSouthExit=true;
					buildRoom[0].reroute=true;
				}
				
				else if ((floorArrIndex%5!=4) &&(buildRoom[0].southMand==true || buildRoom[0].southPossible==true) && (buildRoom[0].northMand!=true || buildRoom[0].northPossible!=true) && buildRoom[0].westMand==true) {
				
					floorLabel=floorGridArr[floorArrIndex].label;
					$("#" + floorLabel).html("");
					
					buildRoom[0].hasSouthExit=true;
					buildRoom[0].reroute=true;
				}
				
				else if ((floorArrIndex%5!=4) && (buildRoom[0].northMand==true || buildRoom[0].northPossible==true) && (buildRoom[0].southMand!=true || buildRoom[0].southPossible!=true) && buildRoom[0].westMand==true) {
				
					floorLabel=floorGridArr[floorArrIndex].label;
					$("#" + floorLabel).html("");
					
					buildRoom[0].hasNorthExit=true;
					buildRoom[0].reroute=true;
				}
				
				else if (buildRoom[0].eastMand!=true && (buildRoom[0].southMand==true || buildRoom[0].southPossible==true) && (buildRoom[0].northMand!=true || buildRoom[0].northPossible!=true)) {
				
					floorLabel=floorGridArr[floorArrIndex].label;
					$("#" + floorLabel).html("");
					
					buildRoom[0].hasSouthExit=true;
					buildRoom[0].reroute=true;
				}
				
				else if (buildRoom[0].eastMand!=true && (buildRoom[0].southMand!=true || buildRoom[0].southPossible!=true) && (buildRoom[0].northMand==true || buildRoom[0].northPossible==true)) {
				
					floorLabel=floorGridArr[floorArrIndex].label;
					$("#" + floorLabel).html("");
					
					buildRoom[0].hasNorthExit=true;
					buildRoom[0].reroute=true;
				}
				
				else if (buildRoom[0].eastMand==true && buildRoom[0].westMand==true && buildRoom[0].northMand==true && buildRoom[0].southMand==true) {
				
					floorLabel=floorGridArr[floorArrIndex].label;
					$("#" + floorLabel).html("");
					
					buildRoom[0].reroute=true;
					
				}
				
				else if (buildRoom[0].northPossible!=true && buildRoom[0].eastPossible!=true && buildRoom[0].southPossible!=true && buildRoom[0].westPossible!=true){
				
					floorLabel=floorGridArr[floorArrIndex].label;
					$("#" + floorLabel).html("");
					console.log("made this ");
				
				}
				
				else {
				
					console.log("bump to the east, a case is not considered");
				}
			
			}
			
			if (directionFrom=="east") {
			
				let tempRoll=rollDie(2,1);
			
				if (tempRoll==1 && buildRoom[0].southMand==true && buildRoom[0].northMand==true && floorArrIndex>4) {
				
					floorLabel=floorGridArr[floorArrIndex].label;
					$("#" + floorLabel).html("");
					
					buildRoom[0].hasNorthExit=true;
					buildRoom[0].hasSouthExit=true;
					buildRoom[0].reroute=true;
				}
				
				else if ((floorArrIndex%5!=0) && (buildRoom[0].southMand==true || buildRoom[0].southPossible==true) && (buildRoom[0].northMand!=true || buildRoom[0].northPossible!=true) && buildRoom[0].eastMand==true) {
				
					floorLabel=floorGridArr[floorArrIndex].label;
					$("#" + floorLabel).html("");
					
					buildRoom[0].hasSouthExit=true;
					buildRoom[0].reroute=true;
				}
				
				else if ((floorArrIndex%5!=0) &&(buildRoom[0].northMand==true || buildRoom[0].northPossible==true) && (buildRoom[0].southMand!=true || buildRoom[0].southPossible!=true) && buildRoom[0].eastMand==true) {
				
					floorLabel=floorGridArr[floorArrIndex].label;
					$("#" + floorLabel).html("");
					
					buildRoom[0].hasSouthExit=true;
					buildRoom[0].reroute=true;
				}
				
				else if (buildRoom[0].westMand!=true && (buildRoom[0].southMand==true || buildRoom[0].southPossible==true) && (buildRoom[0].northMand!=true || buildRoom[0].northPossible!=true)) {
				
					floorLabel=floorGridArr[floorArrIndex].label;
					$("#" + floorLabel).html("");
					
					buildRoom[0].hasSouthExit=true;
					buildRoom[0].reroute=true;
				}
				
				else if (buildRoom[0].westMand!=true && (buildRoom[0].southMand!=true || buildRoom[0].southPossible!=true) && (buildRoom[0].northMand==true || buildRoom[0].northPossible==true)) {
				
					floorLabel=floorGridArr[floorArrIndex].label;
					$("#" + floorLabel).html("");
					
					buildRoom[0].hasNorthExit=true;
					buildRoom[0].reroute=true;
				}
				
				else if (buildRoom[0].eastMand==true && buildRoom[0].westMand==true && buildRoom[0].northMand==true && buildRoom[0].southMand==true) {
				
					floorLabel=floorGridArr[floorArrIndex].label;
					$("#" + floorLabel).html("");
					
					buildRoom[0].reroute=true;
					
				}
				
				else if (buildRoom[0].northPossible!=true && buildRoom[0].eastPossible!=true && buildRoom[0].southPossible!=true && buildRoom[0].westPossible!=true){
				
					floorLabel=floorGridArr[floorArrIndex].label;
					$("#" + floorLabel).html("");
					console.log("made this ");
				
				}
				
				else {
				
					console.log("bump to the west, a case is not considered");
				}
			
			}
			
			if (directionFrom=="north") {
			
				let tempRoll=rollDie(2,1);
			
				if (tempRoll==1 && buildRoom[0].eastMand==true && buildRoom[0].westMand==true && buildRoom[0].northMand!=true && (buildRoom[0].southMand==true || buildRoom[0].southPossible==true)) {
				
					floorLabel=floorGridArr[floorArrIndex].label;
					$("#" + floorLabel).html("");
					
					buildRoom[0].hasEastExit=true;
					buildRoom[0].hasWestExit=true;
					buildRoom[0].reroute=true;
				}
				
				else if (buildRoom[0].northMand==true && (buildRoom[0].westMand==true || buildRoom[0].westPossible==true) && (buildRoom[0].eastMand!=true) && floorArrIndex>4 && floorArrIndex<15) {
				
					floorLabel=floorGridArr[floorArrIndex].label;
					$("#" + floorLabel).html("");
					
					buildRoom[0].hasWestExit=true;
					buildRoom[0].reroute=true;
				}
				
				else if (buildRoom[0].northMand==true && (buildRoom[0].eastMand==true || buildRoom[0].eastPossible==true) && (buildRoom[0].westMand!=true) && floorArrIndex>4 && floorArrIndex<15) {
				
					floorLabel=floorGridArr[floorArrIndex].label;
					$("#" + floorLabel).html("");
					
					buildRoom[0].hasSouthExit=true;
					buildRoom[0].reroute=true;
				}
				
				else if (buildRoom[0].northMand!=true && (buildRoom[0].eastMand==true || buildRoom[0].eastPossible==true) && (buildRoom[0].westMand!=true || buildRoom[0].westPossible!=true) && floorArrIndex<15) {
				
					floorLabel=floorGridArr[floorArrIndex].label;
					$("#" + floorLabel).html("");
					
					buildRoom[0].hasEastExit=true;
					buildRoom[0].reroute=true;
				}
				
				else if (buildRoom[0].northMand!=true && (buildRoom[0].eastMand!=true || buildRoom[0].eastPossible!=true) && (buildRoom[0].westMand==true || buildRoom[0].westPossible==true) && floorArrIndex<15) {
				
					floorLabel=floorGridArr[floorArrIndex].label;
					$("#" + floorLabel).html("");
					
					buildRoom[0].hasWestExit=true;
					buildRoom[0].reroute=true;
				}
				
				else if (buildRoom[0].eastMand==true && buildRoom[0].westMand==true && buildRoom[0].northMand==true && buildRoom[0].southMand==true) {
				
					floorLabel=floorGridArr[floorArrIndex].label;
					$("#" + floorLabel).html("");
					
					buildRoom[0].reroute=true;
					
				}
				
				else if (buildRoom[0].northPossible!=true && buildRoom[0].eastPossible!=true && buildRoom[0].southPossible!=true && buildRoom[0].westPossible!=true){
				
					floorLabel=floorGridArr[floorArrIndex].label;
					$("#" + floorLabel).html("<br>");
					console.log("made this <br>");
				
				}
				
				else {
				
					console.log("bump to the north, a case is not considered");
				}
			
			}
			
			if (directionFrom=="south") {
			
				let tempRoll=rollDie(2,1);
			
				if (tempRoll==1 && buildRoom[0].eastMand==true && buildRoom[0].westMand==true && buildRoom[0].southMand!=true && (buildRoom[0].northMand==true || buildRoom[0].northPossible==true)) {
				
					floorLabel=floorGridArr[floorArrIndex].label;
					$("#" + floorLabel).html("");
					
					buildRoom[0].hasEastExit=true;
					buildRoom[0].hasWestExit=true;
					buildRoom[0].reroute=true;
				}
				
				else if (buildRoom[0].southMand==true && (buildRoom[0].westMand==true || buildRoom[0].westPossible==true) && (buildRoom[0].eastMand!=true) && floorArrIndex>4  && floorArrIndex<15) {
				
					floorLabel=floorGridArr[floorArrIndex].label;
					$("#" + floorLabel).html("");
					
					buildRoom[0].hasWestExit=true;
					buildRoom[0].reroute=true;
				}
				
				else if (buildRoom[0].southMand==true && (buildRoom[0].eastMand==true || buildRoom[0].eastPossible==true) && (buildRoom[0].westMand!=true) && floorArrIndex>4 && floorArrIndex<15) {
				
					floorLabel=floorGridArr[floorArrIndex].label;
					$("#" + floorLabel).html("");
					
					buildRoom[0].hasSouthExit=true;
					buildRoom[0].reroute=true;
				}
				

				else if (buildRoom[0].southMand!=true && (buildRoom[0].eastMand==true || buildRoom[0].eastPossible==true) && (buildRoom[0].westMand!=true || buildRoom[0].westPossible!=true) && floorArrIndex>4) {
				
					floorLabel=floorGridArr[floorArrIndex].label;
					$("#" + floorLabel).html("");
					
					buildRoom[0].hasEastExit=true;
					buildRoom[0].reroute=true;
				}
				
				else if (buildRoom[0].southMand!=true && (buildRoom[0].eastMand!=true || buildRoom[0].eastPossible!=true) && (buildRoom[0].westMand==true || buildRoom[0].westPossible==true) && floorArrIndex>4) {
				
					floorLabel=floorGridArr[floorArrIndex].label;
					$("#" + floorLabel).html("");
					
					buildRoom[0].hasWestExit=true;
					buildRoom[0].reroute=true;
				}
				
				else if (buildRoom[0].eastMand==true && buildRoom[0].westMand==true && buildRoom[0].northMand==true && buildRoom[0].southMand==true) {
				
					floorLabel=floorGridArr[floorArrIndex].label;
					$("#" + floorLabel).html("");
					
					buildRoom[0].reroute=true;
					
				}
				
				else if (buildRoom[0].northPossible!=true && buildRoom[0].eastPossible!=true && buildRoom[0].southPossible!=true && buildRoom[0].westPossible!=true){
				
					floorLabel=floorGridArr[floorArrIndex].label;
					$("#" + floorLabel).html("<br>");
					console.log("made this <br>");
				}
				
				else {
				
					console.log("bump to the south, a case is not considered");
				}
			
			}
			
			/*let choose=false;
			
			if (buildRoom[0].hasNorthExit==true) {
			

			
				floorArrIndex-=5;
				choose=true;
				console.log("N");
			}
			
			else if (buildRoom[0].hasEastExit==true && choose==false) {
			

			
				floorArrIndex+=1;
				choose=true;
				console.log("E");
			}
			
			else if (buildRoom[0].hasSouthExit==true && choose==false) {
			

			
				floorArrIndex+=5;
				choose=true;
				console.log("S");
			}
			
			else if (buildRoom[0].hasWestExit==true && choose==false) {

			
				floorArrIndex-=1;
				choose=true;
				console.log("W");
			}*/
		
		}//not on arrival or descend tile
		
		} //has a possible exit
	
	} //in bounds
	
	

	buildRoom[0].floorIndex=floorArrIndex;
	 
	//if totally surrounded, make "room", better hope hasMultipiece == true
	//.shift buildRoom
	
	if (buildRoom[0].northPossible==false && buildRoom[0].eastPossible==false && buildRoom[0].southPossible==false && buildRoom[0].westPossible==false) {
	
		deadEnd=true;
		console.log("dead end");
		
		
		//if moving onto empty, aka if not stack popped and surrounded

		if (floorArrIndex>=0 && floorArrIndex<=19) {
		
			floorLabel=floorGridArr[floorArrIndex].label;
			compareLabel=$("#" + floorLabel).html();
		
			if (compareLabel=="") {
				floorLabel=floorGridArr[floorArrIndex].label;
				$("#" + floorLabel).html("room");
				console.log("ran into dead end, made room");
			}
		
		}
		
		
		//remove old deadend from stack if multipiece
		//preserve stack if this was only multipiece
		
		let tempInd=buildRoom.length;
		tempInd--;
		

		
		if (buildRoom[tempInd].isMulti==true && buildRoom.length>1) {
		
			console.log("prune");
			buildRoom.pop();
			

			//console.log(buildRoom[0].floorIndex);
			//floorArrIndex=buildRoom[0].floorIndex; //dont use this!
		}
		
		console.log("buildRoom length is: " + buildRoom.length);
		
		//pop head of stack to first multipiece
		if (buildRoom.length>1) {
		
			console.log("deadend pop");
			//buildRoom[1]=buildRoom[0];
			buildRoom.shift();
			stackPopped=true;
			
			//console.log(buildRoom[0].floorIndex);
			floorArrIndex=buildRoom[0].floorIndex;
			buildRoom[0].hasMultiPiece=false;
			console.log("new index is: " + floorArrIndex);
			
			console.log("checking surroundings of new popped room");
			checkConnect (compareLabel, floorLabel, tempRoomIndex, floorArrIndex);
			//floorArrIndex=floorCheckSurround(compareLabel, floorLabel, tempRoomIndex, floorArrIndex);
			
			while (buildRoom.length>1 && buildRoom[0].northPossible==false && buildRoom[0].eastPossible==false && buildRoom[0].southPossible==false && buildRoom[0].westPossible==false) {
				
				console.log("last popped room was dead end");
				//buildRoom[1]=buildRoom[0];
				buildRoom.shift();
				stackPopped=true;
				
				//console.log(buildRoom[0].floorIndex);
				floorArrIndex=buildRoom[0].floorIndex; //not needed since return buildRoom's anyway?
				buildRoom[0].hasMultiPiece=false;
				console.log("new index is: " + floorArrIndex);
				
				console.log("checking surroundings of new popped room");
				checkConnect (compareLabel, floorLabel, tempRoomIndex, floorArrIndex);
				//floorArrIndex=floorCheckSurround(compareLabel, floorLabel, tempRoomIndex, floorArrIndex);
				
			}
			
			if (buildRoom.length==1) {
			
				console.log("popped all in stack and all were dead ends");
				//floorArrIndex=777;
				
				floorArrIndex=buildRoom[0].floorIndex;
				buildRoom[0].hasMultiPiece=false;
				console.log("new index is: " + floorArrIndex);
				
				console.log("checking surroundings of new popped room");
				checkConnect (compareLabel, floorLabel, tempRoomIndex, floorArrIndex);
				//floorArrIndex=floorCheckSurround(compareLabel, floorLabel, tempRoomIndex, floorArrIndex);
				
				while (buildRoom.length>1 && buildRoom[0].northPossible==false && buildRoom[0].eastPossible==false && buildRoom[0].southPossible==false && buildRoom[0].westPossible==false) {
					
					console.log("last popped room was dead end");
					//buildRoom[1]=buildRoom[0];
					buildRoom.shift();
					stackPopped=true;
					
					//console.log(buildRoom[0].floorIndex);
					floorArrIndex=buildRoom[0].floorIndex; //not needed since return buildRoom's anyway?
					buildRoom[0].hasMultiPiece=false;
					console.log("new index is: " + floorArrIndex);
					
					console.log("checking surroundings of new popped room");
					checkConnect (compareLabel, floorLabel, tempRoomIndex, floorArrIndex);
					//floorArrIndex=floorCheckSurround(compareLabel, floorLabel, tempRoomIndex, floorArrIndex);
					
				} //while
				
				//check if exits of popped room are now occupied
				
				//move to appropriate position from popped room
				
				let dirChosen=false;
				prevRoomIndex=777;
				
				//move up one if has north exit
				if (buildRoom[0].hasNorthExit==true) {
				
					//not occupied
					if (buildRoom[0].northPossible==true) {
				
						prevRoomIndex=floorArrIndex;
						floorArrIndex-=5;
						
						//check if destination
						floorLabel=floorGridArr[floorArrIndex].label;
						compareLabel=$("#" + floorLabel).html();
						
						if (compareLabel!="b" && compareLabel=="") {
							dirChosen=true;
						}
						
						//move back and exit is false
						else {
						
							buildRoom[0].hasNorthExit=false;
							floorArrIndex+=5;
							prevRoomIndex=777;
						}
					}
					
					//occupied
					else {
					
						buildRoom[0].hasNorthExit=false;
					}
		
				}
				
				//move right one if has east exit
				else if (buildRoom[0].hasEastExit==true && dirChosen==false) {
				
					if (buildRoom[0].eastPossible==true) {
					
						prevRoomIndex=floorArrIndex;
						floorArrIndex+=1;
						
						//check if destination
						floorLabel=floorGridArr[floorArrIndex].label;
						compareLabel=$("#" + floorLabel).html();
						
						if (compareLabel!="b" && compareLabel=="") {
							dirChosen=true;
						}
						
						//move back and exit is false
						else {
						
							buildRoom[0].hasEastExit=false;
							floorArrIndex-=1;
							prevRoomIndex=777;
						}			
					}
					
					//occupied
					else {
					
						buildRoom[0].hasEastExit=false;
					}
				}
				
				//move down one if has south exit
				else if (buildRoom[0].hasSouthExit==true && dirChosen==false) {
				
					if (buildRoom[0].southPossible==true) {
						prevRoomIndex=floorArrIndex;
						floorArrIndex+=5;
						
						//check if destination
						floorLabel=floorGridArr[floorArrIndex].label;
						compareLabel=$("#" + floorLabel).html();
						
						if (compareLabel!="b" && compareLabel=="") {
							dirChosen=true;
						}
						
						//move back and exit is false
						else {
						
							buildRoom[0].hasSouthExit=false;
							floorArrIndex-=5;
							prevRoomIndex=777;
						}
						
					}
		
					//occupied
					else {
					
						buildRoom[0].hasSouthExit=false;
					}
				}
				
				//move left one if has west exit
				else if (buildRoom[0].hasWestExit==true && dirChosen==false) {
				
					if (buildRoom[0].westPossible==true) {
						prevRoomIndex=floorArrIndex;
						floorArrIndex-=1;
						//check if destination
						floorLabel=floorGridArr[floorArrIndex].label;
						compareLabel=$("#" + floorLabel).html();
						
						if (compareLabel!="b" && compareLabel=="") {
							dirChosen=true;
						}
						
						//move back and exit is false
						else {
							
							buildRoom[0].hasWestExit=false;
							floorArrIndex+=1;
							prevRoomIndex=777;
						}
					}
					
					//occupied
					else {
					
						buildRoom[0].hasWestExit=false;
					}

				}
			}

		}
		
		
	}
	
	


	//buildRoom[0].floorIndex=floorArrIndex;
	//return buildRoom[0].floorIndex;
	console.log("bump returning index " + floorArrIndex);
	return floorArrIndex; //instead?

}

function setFloorAsRoom (floorArrIndex, directionFrom) {

	//called when creating floor
	//whenever room is made
	//chance of being normal room, shop, or secret room

	//create random valid exits
	
	console.log("making room");
	
	var compareLabel="";
	var floorLabel="";
	var tempLabel="";
	var tempRoomIndex=floorArrIndex;
	
	buildRoom[0].exitAmount=0;
	
	buildRoom[0].hasNorthExit=false;
	buildRoom[0].hasEastExit=false;
	buildRoom[0].hasSouthExit=false;
	buildRoom[0].hasWestExit=false;
	buildRoom[0].northPossible=false;
	buildRoom[0].eastPossible=false;
	buildRoom[0].southPossible=false;
	buildRoom[0].westPossible=false;
	buildRoom[0].exitAmount=0;
	
	//console.log("index before calling surround is " + floorArrIndex);
	//floorArrIndex=floorCheckSurround(compareLabel, floorLabel, tempRoomIndex, floorArrIndex);
	//console.log("index after calling surround is " + floorArrIndex);
	checkConnect(compareLabel, floorLabel, tempRoomIndex, floorArrIndex);
	
	let tempRoll=0;
	
	while (buildRoom[0].exitAmount==0 && (buildRoom[0].northPossible==true || buildRoom[0].southPossible==true || buildRoom[0].eastPossible==true || buildRoom[0].westPossible==true)) {
	
		if (buildRoom[0].northPossible==true) {
		
			tempRoll=rollDie(2,1);
			
			if (tempRoll==1 || buildRoom[0].northMand==true || hitDes==false) {
			
				buildRoom[0].hasNorthExit=true;
				buildRoom[0].exitAmount++;
				
				console.log("making room with n");
			}
		}
		
		if (buildRoom[0].southPossible==true) {
		
			tempRoll=rollDie(2,1);
			
			if (tempRoll==1 || buildRoom[0].southMand==true || hitDes==false) {
			
				buildRoom[0].hasSouthExit=true;
				buildRoom[0].exitAmount++;
				
				console.log("making room with s");
			}
		}
		
		if (buildRoom[0].eastPossible==true) {
		
			tempRoll=rollDie(2,1);
			
			if (tempRoll==1 || buildRoom[0].eastMand==true || hitDes==false) {
			
				buildRoom[0].hasEastExit=true;
				buildRoom[0].exitAmount++;
				
				console.log("making room with e");
			}
		}
		
		if (buildRoom[0].westPossible==true) {
		
			tempRoll=rollDie(2,1);
			
			if (tempRoll==1 || buildRoom[0].westMand==true || hitDes==false) {
			
				buildRoom[0].hasWestExit=true;
				buildRoom[0].exitAmount++;
				
				console.log("making room with w");
			}
		}
	
	} //while
	
	if (buildRoom[0].exitAmount>2) {
	
		newBuildRoom(floorArrIndex, buildRoom[0].hasNorthExit, buildRoom[0].hasEastExit, buildRoom[0].hasSouthExit, buildRoom[0].hasWestExit, buildRoom[0].exitAmount);
	}
	
	
	//console.log("room n " +  + + + +
	
	//change arrival label
	
	//N
	if (buildRoom[0].hasNorthExit==true && buildRoom[0].hasEastExit==false && buildRoom[0].hasSouthExit==false && buildRoom[0].hasWestExit==false) {
	
		tempLabel="<br>"; //hehe, bra
		floorLabel=floorGridArr[floorArrIndex].label;
		$("#" + floorLabel).html(tempLabel);
		
	}
	
	//E
	if (buildRoom[0].hasNorthExit==false && buildRoom[0].hasEastExit==true && buildRoom[0].hasSouthExit==false && buildRoom[0].hasWestExit==false) {
	
		tempLabel="";
		floorLabel=floorGridArr[floorArrIndex].label;
		$("#" + floorLabel).html(tempLabel);
		
	}

	//S
	if (buildRoom[0].hasNorthExit==false && buildRoom[0].hasEastExit==false && buildRoom[0].hasSouthExit==true && buildRoom[0].hasWestExit==false) {
	
		tempLabel="<br>";
		floorLabel=floorGridArr[floorArrIndex].label;
		$("#" + floorLabel).html(tempLabel);
		
	}
	
	//W
	if (buildRoom[0].hasNorthExit==false && buildRoom[0].hasEastExit==false && buildRoom[0].hasSouthExit==false && buildRoom[0].hasWestExit==true) {
	
		tempLabel="";
		floorLabel=floorGridArr[floorArrIndex].label;
		$("#" + floorLabel).html(tempLabel);
		
	}
	

	// N/E
	if (buildRoom[0].hasNorthExit==true && buildRoom[0].hasEastExit==true && buildRoom[0].hasSouthExit==false && buildRoom[0].hasWestExit==false) {
	
		tempLabel="<br>";
		floorLabel=floorGridArr[floorArrIndex].label;
		$("#" + floorLabel).html(tempLabel);
		
	}
	
	//N/S
	if (buildRoom[0].hasNorthExit==true && buildRoom[0].hasEastExit==false && buildRoom[0].hasSouthExit==true && buildRoom[0].hasWestExit==false) {
	
		tempLabel="<br><br>";
		floorLabel=floorGridArr[floorArrIndex].label;
		$("#" + floorLabel).html(tempLabel);
		
	}
	
	//N/W
	if (buildRoom[0].hasNorthExit==true && buildRoom[0].hasEastExit==false && buildRoom[0].hasSouthExit==false && buildRoom[0].hasWestExit==true) {
	
		tempLabel="<br>";
		floorLabel=floorGridArr[floorArrIndex].label;
		$("#" + floorLabel).html(tempLabel);
		
	}
	
	//E/S
	if (buildRoom[0].hasNorthExit==false && buildRoom[0].hasEastExit==true && buildRoom[0].hasSouthExit==true && buildRoom[0].hasWestExit==false) {
	
		tempLabel="<br>";
		floorLabel=floorGridArr[floorArrIndex].label;
		$("#" + floorLabel).html(tempLabel);
		
	}
	
	//E/W
	if (buildRoom[0].hasNorthExit==false && buildRoom[0].hasEastExit==true && buildRoom[0].hasSouthExit==false && buildRoom[0].hasWestExit==true) {
	
		tempLabel="";
		floorLabel=floorGridArr[floorArrIndex].label;
		$("#" + floorLabel).html(tempLabel);
		
	}
	
	//S/W
	if (buildRoom[0].hasNorthExit==false && buildRoom[0].hasEastExit==false && buildRoom[0].hasSouthExit==true && buildRoom[0].hasWestExit==true) {
	
		tempLabel="<br>";
		floorLabel=floorGridArr[floorArrIndex].label;
		$("#" + floorLabel).html(tempLabel);
		
	}
	
	//N/E/S
	if (buildRoom[0].hasNorthExit==true && buildRoom[0].hasEastExit==true && buildRoom[0].hasSouthExit==true && buildRoom[0].hasWestExit==false) {
	
		tempLabel="<br><br>";
		floorLabel=floorGridArr[floorArrIndex].label;
		$("#" + floorLabel).html(tempLabel);
		
	}
	
	//N/E/W
	if (buildRoom[0].hasNorthExit==true && buildRoom[0].hasEastExit==true && buildRoom[0].hasSouthExit==false && buildRoom[0].hasWestExit==true) {
	
		tempLabel="<br>";
		floorLabel=floorGridArr[floorArrIndex].label;
		$("#" + floorLabel).html(tempLabel);
		
	}
	
	//N/W/S
	if (buildRoom[0].hasNorthExit==true && buildRoom[0].hasEastExit==false && buildRoom[0].hasSouthExit==true && buildRoom[0].hasWestExit==true) {
	
		tempLabel="<br><br>";
		floorLabel=floorGridArr[floorArrIndex].label;
		$("#" + floorLabel).html(tempLabel);
		
	}
	
	//W/S/E
	if (buildRoom[0].hasNorthExit==false && buildRoom[0].hasEastExit==true && buildRoom[0].hasSouthExit==true && buildRoom[0].hasWestExit==true) {
	
		tempLabel="<br>";
		floorLabel=floorGridArr[floorArrIndex].label;
		$("#" + floorLabel).html(tempLabel);
		
	}
	
	//N/E/S/W
	if (buildRoom[0].hasNorthExit==true && buildRoom[0].hasEastExit==true && buildRoom[0].hasSouthExit==true && buildRoom[0].hasWestExit==true) {
	
		tempLabel="<br><br>";
		floorLabel=floorGridArr[floorArrIndex].label;
		$("#" + floorLabel).html(tempLabel);
		
	}
	
	//no exits
	/*if (buildRoom[0].hasNorthExit==false && buildRoom[0].hasEastExit==false && buildRoom[0].hasSouthExit==false && buildRoom[0].hasWestExit==false) {
	
		tempLabel="???";
		floorLabel=floorGridArr[floorArrIndex].label;
		$("#" + floorLabel).html(tempLabel);
		
	}*/
	
	if (directionFrom=="south") {
	
		buildRoom[0].hasNorthExit=false;
	}
	
	if (directionFrom=="north") {
	
		buildRoom[0].hasSouthExit=false;
	}
	
	if (directionFrom=="west") {
	
		buildRoom[0].hasEastExit=false;
	}
	
	if (directionFrom=="east") {
	
		buildRoom[0].hasWestExit=false;
	}
	
	
	
	
	console.log("made room");
	//floorLabel=floorGridArr[floorArrIndex].label;
	//$("#" + floorLabel).html("room");
	
}

function checkConnect (compareLabel, floorLabel, floorArrIndex) {

	var tempRoomIndex;

	console.log("checking connect");

	//check for connections when making new floor piece
	
	compareLabel=" ";

	buildRoom[0].northPossible=false;
	buildRoom[0].eastPossible=false;
	buildRoom[0].southPossible=false;
	buildRoom[0].westPossible=false;
	
	buildRoom[0].northMand=false;
	buildRoom[0].eastMand=false;
	buildRoom[0].southMand=false;
	buildRoom[0].westMand=false;
	
	var checkArrowN=false;
	var checkArrowE=false;
	var checkArrowS=false;
	var checkArrowW=false;
	

	
	//check north of arrival
	tempRoomIndex=floorArrIndex-5;
	
	if (tempRoomIndex>=0 && tempRoomIndex<=19) {
	
		if (tempRoomIndex<0) {
		
			alert("wtf");
		}
	
		//tempRoomIndex=floorArrIndex-5;
	
		floorLabel=floorGridArr[tempRoomIndex].label;
		compareLabel=$("#" + floorLabel).html();
		
		checkArrowS=compareLabel.includes("");
		
		//check if opening to north
		if (compareLabel=="" || compareLabel=="b") {
		
			buildRoom[0].northPossible=true;
			console.log("checking north, empty space/des");
			
		}

		if (checkArrowS==true || compareLabel=="" || compareLabel=="" || compareLabel=="" || compareLabel=="" || compareLabel=="" || compareLabel=="" || compareLabel=="") {
			
			buildRoom[0].northPossible=true;
			buildRoom[0].northMand=true;
		}
	}
	
	
	
	compareLabel=" ";
	
	
	checkArrowN=false;
	checkArrowE=false;
	checkArrowS=false;
	checkArrowW=false;


	//check east of arrival
	tempRoomIndex=floorArrIndex+1;
	
	if ((tempRoomIndex>=0 && tempRoomIndex<=19) && (floorArrIndex!=4 && floorArrIndex!=9 && floorArrIndex!=14 && floorArrIndex!=19) ) {
	
		if (floorArrIndex%5==4) {
		
			console.log("wtf");
		}
	
		//tempRoomIndex=floorArrIndex+1;
	
		floorLabel=floorGridArr[tempRoomIndex].label;
		compareLabel=$("#" + floorLabel).html();
		
		checkArrowW=compareLabel.includes("");
		
		if (compareLabel=="" || compareLabel=="b") {
	
		buildRoom[0].eastPossible=true;
		
		console.log("checking east, empty space/des");
		
		}
		
		if (checkArrowW==true || compareLabel=="" || compareLabel=="" || compareLabel=="" || compareLabel=="" || compareLabel=="" || compareLabel=="" || compareLabel=="") {
			
			buildRoom[0].eastPossible=true;
			buildRoom[0].eastMand=true;
			
		}
		
	}

	

	compareLabel=" ";
	
	checkArrowN=false;
	checkArrowE=false;
	checkArrowS=false;
	checkArrowW=false;
	
	
	//check south of arrival
	tempRoomIndex=floorArrIndex+5;
	
	if (tempRoomIndex>=0 && tempRoomIndex<=19) {
	
		if (tempRoomIndex>19) {
		
			alert("wtf");
		}
	
	
		//tempRoomIndex=floorArrIndex+5;
	
		floorLabel=floorGridArr[tempRoomIndex].label;
		compareLabel=$("#" + floorLabel).html();
		
		checkArrowN=compareLabel.includes("");
		
		if (compareLabel=="" || compareLabel=="b") {
	
			buildRoom[0].southPossible=true;
			console.log("checking south, empty space/des");
		}
		
		if (checkArrowN==true || compareLabel=="" || compareLabel=="" || compareLabel=="" || compareLabel=="" || compareLabel=="" || compareLabel=="" || compareLabel=="") {
			
			buildRoom[0].southPossible=true;
			buildRoom[0].southMand=true;
			
		}
		
	}
	
	
	
	
	

	compareLabel=" ";
	
	checkArrowN=false;
	checkArrowE=false;
	checkArrowS=false;
	checkArrowW=false;
	
	//check west of arrival
	tempRoomIndex=floorArrIndex-1;
	
	if ((tempRoomIndex>=0 && tempRoomIndex<=19) && (floorArrIndex!=0 && floorArrIndex!=5 && floorArrIndex!=10 && floorArrIndex!=15)) {
	

		//tempRoomIndex=floorArrIndex-1;
	
		floorLabel=floorGridArr[tempRoomIndex].label;
		compareLabel=$("#" + floorLabel).html();
		
		checkArrowE=compareLabel.includes("");
		
		if (compareLabel=="" || compareLabel=="b") {
	
		buildRoom[0].westPossible=true;
		console.log("checking west, empty space/des");
		
		}
		
		if (checkArrowE==true || compareLabel=="" || compareLabel=="" || compareLabel=="" || compareLabel=="" || compareLabel=="" || compareLabel=="" || compareLabel=="") {
			
			buildRoom[0].westPossible=true;
			buildRoom[0].westMand=true;
		}
	}
	
	
	

}

function floorCheckSurround (compareLabel, floorLabel, tempRoomIndex, floorArrIndex) {

	console.log("check surround");

	buildRoom[0].hasNorthExit=false;
	buildRoom[0].hasEastExit=false;
	buildRoom[0].hasSouthExit=false;
	buildRoom[0].hasWestExit=false;
	
	compareLabel=" ";

	
	//check north of arrival
	tempRoomIndex=floorArrIndex-5;
	
	if (tempRoomIndex>=0 && tempRoomIndex<=19) {
	
		floorLabel=floorGridArr[tempRoomIndex].label;
		compareLabel=$("#" + floorLabel).html();
		
	}
	
	
	if (tempRoomIndex<0 || compareLabel!="") {

	
		buildRoom[0].hasNorthExit=false;
		//buildRoom[0].northPossible=false;
	}
	else if ((tempRoomIndex>=0 && tempRoomIndex<=19) && (compareLabel=="" || compareLabel=="b")){
		//buildRoom[0].hasNorthExit=true;
		//buildRoom[0].exitAmount++;
		buildRoom[0].northPossible=true;
		console.log("N open");
	}
	
	
	
	//check east of arrival
	tempRoomIndex=floorArrIndex+1;
	
	if (tempRoomIndex>=0 && tempRoomIndex<=19) {
		floorLabel=floorGridArr[tempRoomIndex].label;
		compareLabel=$("#" + floorLabel).html();
	}
	
	tempRoomIndex=floorArrIndex;
	
	if (compareLabel!="" && compareLabel!="b") {

	
		buildRoom[0].hasEastExit=false;
		//buildRoom[0].eastPossible=false;
	}
	else if  ((compareLabel=="b" || compareLabel=="") && (tempRoomIndex>=0 && tempRoomIndex<=19) && (tempRoomIndex!=4 && tempRoomIndex!=9 && tempRoomIndex!=14 && tempRoomIndex!=19)) {
		//buildRoom[0].hasEastExit=true;
		//buildRoom[0].exitAmount++;
		buildRoom[0].eastPossible=true;
		console.log("E open");
	}
	
	//check south of arrival
	tempRoomIndex=floorArrIndex+5;
	
	if (tempRoomIndex>=0 && tempRoomIndex<=19) {
	
		floorLabel=floorGridArr[tempRoomIndex].label;
		compareLabel=$("#" + floorLabel).html();
	}
	
	
	if (tempRoomIndex>19 ||compareLabel!="") {
		buildRoom[0].hasSouthExit=false;
		//buildRoom[0].southPossible=false;
	}
	else if  ((tempRoomIndex>=0 && tempRoomIndex<=19) && (compareLabel=="" || compareLabel=="b")) {
	
		//buildRoom[0].hasSouthExit=true;
		//buildRoom[0].exitAmount++;
		
		buildRoom[0].southPossible=true;
		console.log("S open");
	
		/*console.log("here from " + floorArrIndex);
		console.log("now at " + tempRoomIndex);
		console.log("S open");*/
		
	}
	
	
	//check west of arrival
	tempRoomIndex=floorArrIndex-1;
	
	if (tempRoomIndex>=0 && tempRoomIndex<=19) {
		floorLabel=floorGridArr[tempRoomIndex].label;
		compareLabel=$("#" + floorLabel).html();
	}
	
	tempRoomIndex=floorArrIndex;
	
	if (compareLabel!="") {
		buildRoom[0].hasWestExit=false;
		//buildRoom[0].westPossible=false;
	}
	else if  ((compareLabel=="b" || compareLabel=="") && (tempRoomIndex>=0 && tempRoomIndex<=19) && (tempRoomIndex!=0 && tempRoomIndex!=5 && tempRoomIndex!=10 && tempRoomIndex!=15)) {
		//buildRoom[0].hasWestExit=true;
		//buildRoom[0].exitAmount++;
		
		buildRoom[0].westPossible=true;
		
		console.log("W open");
	}
	
	
	
	
	return floorArrIndex;
}

$( "#floorDecBut" ).click(function( event ) {


	

	if (currFloor>0) {
		currFloor--;
	
		let labInd=currFloor;
		labInd++;
	
		$("#floorLab").html("Floor " + labInd);
	
	}
	
	
	//clear floor
	for (i=0;i<floorSize;i++)
	{
			$("div.floorContainer").find("button").css("background", butDefColor);
			$("#floor" + i).html("");
	}
	
	if (allFloors[currFloor].floorExists==true) {
	
		//load floor
		for (i=0;i<floorSize;i++) {
		
			$("#floor" + i).html(allFloors[currFloor].gridSymbols[i])
		
		}
	
	}
	

})

$( "#floorIncBut" ).click(function( event ) {

	//console.log("inc");
	
	
	if (currFloor<9) {
		currFloor++;
	
		let labInd=currFloor;
		labInd++;
	
		$("#floorLab").html("Floor " + labInd);
		
	}
	
	//clear floor
	for (i=0;i<floorSize;i++)
	{
			$("div.floorContainer").find("button").css("background", butDefColor);
			$("#floor" + i).html("");
	}
	
	if (allFloors[currFloor].floorExists==true) {
		
		//load floor
		for (i=0;i<floorSize;i++) {
		
			$("#floor" + i).html(allFloors[currFloor].gridSymbols[i])
		
		}
	
	}

})

$("div.floorContainer").find("button").click(function( event ) {

	var butId=this.id;
	//var tempStr="";
	
	for (i=0;i<floorSize;i++)
	{
		$("div.floorContainer").find("button").css("background", butDefColor);
	}
	
	this.style.background=butSelColor;
	
	currFloorSym=$("#" + this.id).text();
	
	//tempStr=butId.replace("floor", "");
	//tempStr=parseInt(tempStr);
	
	
	floorTileIndex=butId.replace("floor", "");

	tempIndex=parseInt(floorTileIndex);
	
	offset=currFloor;
	offset*=20;
	//alert(tempIndex+offset);
	currRoomIndex=tempIndex+offset;

	
})

$("div.floorEdit").find("button").click(function( event ) {

	if (floorTileIndex>=0) {

		var tempStr=$("#" + this.id).html();

		$("#floor" + floorTileIndex).html(tempStr);
		
		floorGridArr[floorTileIndex].symbol=tempStr;

		currFloorSym=tempStr;
		
		
		//allFloors[currFloor].gridSymbols[floorTileIndex]=floorGridArr[floorTileIndex].symbol;
		//allRooms[tempRoomIndex].floorSymbol=floorGridArr[i].symbol;
		
		//alert(currFloorSym);
		
	}

	
})

$("#saveFloorBut").click(function() {

	var tempRoomIndex=currFloor*20;
	
	
	for (i=0;i<floorSize;i++) {

		allFloors[currFloor].gridSymbols[i]=floorGridArr[i].symbol;
		allRooms[tempRoomIndex].floorSymbol=floorGridArr[i].symbol;
		tempRoomIndex++;
		
	}
	
	allFloors[currFloor].floorExists=true;
	
	

});

</script>
</body>
</html>